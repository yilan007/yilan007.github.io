var duckdb=(()=>{var L0=Object.create;var bs=Object.defineProperty,k0=Object.defineProperties,C0=Object.getOwnPropertyDescriptor,j0=Object.getOwnPropertyDescriptors,q0=Object.getOwnPropertyNames,Pf=Object.getOwnPropertySymbols,H0=Object.getPrototypeOf,Lf=Object.prototype.hasOwnProperty,z0=Object.prototype.propertyIsEnumerable;var Nf=(r,e,t)=>e in r?bs(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wr=(r,e)=>{for(var t in e||(e={}))Lf.call(e,t)&&Nf(r,t,e[t]);if(Pf)for(var t of Pf(e))z0.call(e,t)&&Nf(r,t,e[t]);return r},gs=(r,e)=>k0(r,j0(e)),kf=r=>bs(r,"__esModule",{value:!0});var W0=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var g=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Y0=(r,e)=>{for(var t in e)bs(r,t,{get:e[t],enumerable:!0})},Cf=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of q0(e))!Lf.call(r,i)&&(t||i!=="default")&&bs(r,i,{get:()=>e[i],enumerable:!(n=C0(e,i))||n.enumerable});return r},er=(r,e)=>Cf(kf(bs(r!=null?L0(H0(r)):{},"default",!e&&r&&r.__esModule?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r),G0=(r=>(e,t)=>r&&r.get(e)||(t=Cf(kf({}),e,1),r&&r.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var it=g((YA,Ao)=>{var jf,qf,Hf,zf,Wf,Yf,Gf,$f,Kf,To,kc,Jf,Xf,Zf,ui,Qf,eh,th,rh,nh,ih,sh,oh,So;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof Ao=="object"&&typeof Ao.exports=="object"?r(t(e,t(Ao.exports))):r(t(e));function t(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,o){return n[s]=i?i(s,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])};jf=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function s(){this.constructor=n}n.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},qf=Object.assign||function(n){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},Hf=function(n,i){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(s[o[a]]=n[o[a]]);return s},zf=function(n,i,s,o){var a=arguments.length,c=a<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,s):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,i,s,o);else for(var y=n.length-1;y>=0;y--)(f=n[y])&&(c=(a<3?f(c):a>3?f(i,s,c):f(i,s))||c);return a>3&&c&&Object.defineProperty(i,s,c),c},Wf=function(n,i){return function(s,o){i(s,o,n)}},Yf=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},Gf=function(n,i,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function y(A){try{F(o.next(A))}catch(ne){f(ne)}}function B(A){try{F(o.throw(A))}catch(ne){f(ne)}}function F(A){A.done?c(A.value):a(A.value).then(y,B)}F((o=o.apply(n,i||[])).next())})},$f=function(n,i){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,f;return f={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function y(F){return function(A){return B([F,A])}}function B(F){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(c=F[0]&2?a.return:F[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,F[1])).done)return c;switch(a=0,c&&(F=[F[0]&2,c.value]),F[0]){case 0:case 1:c=F;break;case 4:return s.label++,{value:F[1],done:!1};case 5:s.label++,a=F[1],F=[0];continue;case 7:F=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(F[0]===6||F[0]===2)){s=0;continue}if(F[0]===3&&(!c||F[1]>c[0]&&F[1]<c[3])){s.label=F[1];break}if(F[0]===6&&s.label<c[1]){s.label=c[1],c=F;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(F);break}c[2]&&s.ops.pop(),s.trys.pop();continue}F=i.call(n,s)}catch(A){F=[6,A],a=0}finally{o=c=0}if(F[0]&5)throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}},Kf=function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&So(i,n,s)},So=Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]},To=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&n[i],o=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},kc=function(n,i){var s=typeof Symbol=="function"&&n[Symbol.iterator];if(!s)return n;var o=s.call(n),a,c=[],f;try{for(;(i===void 0||i-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(y){f={error:y}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(f)throw f.error}}return c},Jf=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(kc(arguments[i]));return n},Xf=function(){for(var n=0,i=0,s=arguments.length;i<s;i++)n+=arguments[i].length;for(var o=Array(n),a=0,i=0;i<s;i++)for(var c=arguments[i],f=0,y=c.length;f<y;f++,a++)o[a]=c[f];return o},Zf=function(n,i,s){if(s||arguments.length===2)for(var o=0,a=i.length,c;o<a;o++)(c||!(o in i))&&(c||(c=Array.prototype.slice.call(i,0,o)),c[o]=i[o]);return n.concat(c||Array.prototype.slice.call(i))},ui=function(n){return this instanceof ui?(this.v=n,this):new ui(n)},Qf=function(n,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(n,i||[]),a,c=[];return a={},f("next"),f("throw"),f("return"),a[Symbol.asyncIterator]=function(){return this},a;function f(ee){o[ee]&&(a[ee]=function(le){return new Promise(function(ve,nt){c.push([ee,le,ve,nt])>1||y(ee,le)})})}function y(ee,le){try{B(o[ee](le))}catch(ve){ne(c[0][3],ve)}}function B(ee){ee.value instanceof ui?Promise.resolve(ee.value.v).then(F,A):ne(c[0][2],ee)}function F(ee){y("next",ee)}function A(ee){y("throw",ee)}function ne(ee,le){ee(le),c.shift(),c.length&&y(c[0][0],c[0][1])}},eh=function(n){var i,s;return i={},o("next"),o("throw",function(a){throw a}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(a,c){i[a]=n[a]?function(f){return(s=!s)?{value:ui(n[a](f)),done:a==="return"}:c?c(f):f}:c}},th=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],s;return i?i.call(n):(n=typeof To=="function"?To(n):n[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(c){s[c]=n[c]&&function(f){return new Promise(function(y,B){f=n[c](f),a(y,B,f.done,f.value)})}}function a(c,f,y,B){Promise.resolve(B).then(function(F){c({value:F,done:y})},f)}},rh=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var t=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};nh=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var s in n)s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)&&So(i,n,s);return t(i,n),i},ih=function(n){return n&&n.__esModule?n:{default:n}},sh=function(n,i,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(n):o?o.value:i.get(n)},oh=function(n,i,s,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(n,s):a?a.value=s:i.set(n,s),s},r("__extends",jf),r("__assign",qf),r("__rest",Hf),r("__decorate",zf),r("__param",Wf),r("__metadata",Yf),r("__awaiter",Gf),r("__generator",$f),r("__exportStar",Kf),r("__createBinding",So),r("__values",To),r("__read",kc),r("__spread",Jf),r("__spreadArrays",Xf),r("__spreadArray",Zf),r("__await",ui),r("__asyncGenerator",Qf),r("__asyncDelegator",eh),r("__asyncValues",th),r("__makeTemplateObject",rh),r("__importStar",nh),r("__importDefault",ih),r("__classPrivateFieldGet",sh),r("__classPrivateFieldSet",oh)})});var Sr=g(ah=>{var m={};m.Offset;m.Table;m.SIZEOF_SHORT=2;m.SIZEOF_INT=4;m.FILE_IDENTIFIER_LENGTH=4;m.SIZE_PREFIX_LENGTH=4;m.Encoding={UTF8_BYTES:1,UTF16_STRING:2};m.int32=new Int32Array(2);m.float32=new Float32Array(m.int32.buffer);m.float64=new Float64Array(m.int32.buffer);m.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;m.Long=function(r,e){this.low=r|0,this.high=e|0};m.Long.create=function(r,e){return r==0&&e==0?m.Long.ZERO:new m.Long(r,e)};m.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296};m.Long.prototype.equals=function(r){return this.low==r.low&&this.high==r.high};m.Long.ZERO=new m.Long(0,0);m.Builder=function(r){if(r)var e=r;else var e=1024;this.bb=m.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};m.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};m.Builder.prototype.forceDefaults=function(r){this.force_defaults=r};m.Builder.prototype.dataBuffer=function(){return this.bb};m.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())};m.Builder.prototype.prep=function(r,e){r>this.minalign&&(this.minalign=r);for(var t=~(this.bb.capacity()-this.space+e)+1&r-1;this.space<t+r+e;){var n=this.bb.capacity();this.bb=m.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-n}this.pad(t)};m.Builder.prototype.pad=function(r){for(var e=0;e<r;e++)this.bb.writeInt8(--this.space,0)};m.Builder.prototype.writeInt8=function(r){this.bb.writeInt8(this.space-=1,r)};m.Builder.prototype.writeInt16=function(r){this.bb.writeInt16(this.space-=2,r)};m.Builder.prototype.writeInt32=function(r){this.bb.writeInt32(this.space-=4,r)};m.Builder.prototype.writeInt64=function(r){this.bb.writeInt64(this.space-=8,r)};m.Builder.prototype.writeFloat32=function(r){this.bb.writeFloat32(this.space-=4,r)};m.Builder.prototype.writeFloat64=function(r){this.bb.writeFloat64(this.space-=8,r)};m.Builder.prototype.addInt8=function(r){this.prep(1,0),this.writeInt8(r)};m.Builder.prototype.addInt16=function(r){this.prep(2,0),this.writeInt16(r)};m.Builder.prototype.addInt32=function(r){this.prep(4,0),this.writeInt32(r)};m.Builder.prototype.addInt64=function(r){this.prep(8,0),this.writeInt64(r)};m.Builder.prototype.addFloat32=function(r){this.prep(4,0),this.writeFloat32(r)};m.Builder.prototype.addFloat64=function(r){this.prep(8,0),this.writeFloat64(r)};m.Builder.prototype.addFieldInt8=function(r,e,t){(this.force_defaults||e!=t)&&(this.addInt8(e),this.slot(r))};m.Builder.prototype.addFieldInt16=function(r,e,t){(this.force_defaults||e!=t)&&(this.addInt16(e),this.slot(r))};m.Builder.prototype.addFieldInt32=function(r,e,t){(this.force_defaults||e!=t)&&(this.addInt32(e),this.slot(r))};m.Builder.prototype.addFieldInt64=function(r,e,t){(this.force_defaults||!e.equals(t))&&(this.addInt64(e),this.slot(r))};m.Builder.prototype.addFieldFloat32=function(r,e,t){(this.force_defaults||e!=t)&&(this.addFloat32(e),this.slot(r))};m.Builder.prototype.addFieldFloat64=function(r,e,t){(this.force_defaults||e!=t)&&(this.addFloat64(e),this.slot(r))};m.Builder.prototype.addFieldOffset=function(r,e,t){(this.force_defaults||e!=t)&&(this.addOffset(e),this.slot(r))};m.Builder.prototype.addFieldStruct=function(r,e,t){e!=t&&(this.nested(e),this.slot(r))};m.Builder.prototype.nested=function(r){if(r!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")};m.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")};m.Builder.prototype.slot=function(r){this.vtable[r]=this.offset()};m.Builder.prototype.offset=function(){return this.bb.capacity()-this.space};m.Builder.growByteBuffer=function(r){var e=r.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var t=e<<1,n=m.ByteBuffer.allocate(t);return n.setPosition(t-e),n.bytes().set(r.bytes(),t-e),n};m.Builder.prototype.addOffset=function(r){this.prep(m.SIZEOF_INT,0),this.writeInt32(this.offset()-r+m.SIZEOF_INT)};m.Builder.prototype.startObject=function(r){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=r;for(var e=0;e<r;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()};m.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var r=this.offset(),e=this.vtable_in_use-1;e>=0&&this.vtable[e]==0;e--);for(var t=e+1;e>=0;e--)this.addInt16(this.vtable[e]!=0?r-this.vtable[e]:0);var n=2;this.addInt16(r-this.object_start);var i=(t+n)*m.SIZEOF_SHORT;this.addInt16(i);var s=0,o=this.space;e:for(e=0;e<this.vtables.length;e++){var a=this.bb.capacity()-this.vtables[e];if(i==this.bb.readInt16(a)){for(var c=m.SIZEOF_SHORT;c<i;c+=m.SIZEOF_SHORT)if(this.bb.readInt16(o+c)!=this.bb.readInt16(a+c))continue e;s=this.vtables[e];break}}return s?(this.space=this.bb.capacity()-r,this.bb.writeInt32(this.space,s-r)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-r,this.offset()-r)),this.isNested=!1,r};m.Builder.prototype.finish=function(r,e,t){var n=t?m.SIZE_PREFIX_LENGTH:0;if(e){var i=e;if(this.prep(this.minalign,m.SIZEOF_INT+m.FILE_IDENTIFIER_LENGTH+n),i.length!=m.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+m.FILE_IDENTIFIER_LENGTH);for(var s=m.FILE_IDENTIFIER_LENGTH-1;s>=0;s--)this.writeInt8(i.charCodeAt(s))}this.prep(this.minalign,m.SIZEOF_INT+n),this.addOffset(r),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)};m.Builder.prototype.finishSizePrefixed=function(r,e){this.finish(r,e,!0)};m.Builder.prototype.requiredField=function(r,e){var t=this.bb.capacity()-r,n=t-this.bb.readInt32(t),i=this.bb.readInt16(n+e)!=0;if(!i)throw new Error("FlatBuffers: field "+e+" must be set")};m.Builder.prototype.startVector=function(r,e,t){this.notNested(),this.vector_num_elems=e,this.prep(m.SIZEOF_INT,r*e),this.prep(t,r*e)};m.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()};m.Builder.prototype.createString=function(r){if(r instanceof Uint8Array)var e=r;else for(var e=[],t=0;t<r.length;){var n,i=r.charCodeAt(t++);if(i<55296||i>=56320)n=i;else{var s=r.charCodeAt(t++);n=(i<<10)+s+(65536-(55296<<10)-56320)}n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(n&63|128))}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(var t=0,o=this.space,a=this.bb.bytes();t<e.length;t++)a[o++]=e[t];return this.endVector()};m.Builder.prototype.createLong=function(r,e){return m.Long.create(r,e)};m.ByteBuffer=function(r){this.bytes_=r,this.position_=0};m.ByteBuffer.allocate=function(r){return new m.ByteBuffer(new Uint8Array(r))};m.ByteBuffer.prototype.clear=function(){this.position_=0};m.ByteBuffer.prototype.bytes=function(){return this.bytes_};m.ByteBuffer.prototype.position=function(){return this.position_};m.ByteBuffer.prototype.setPosition=function(r){this.position_=r};m.ByteBuffer.prototype.capacity=function(){return this.bytes_.length};m.ByteBuffer.prototype.readInt8=function(r){return this.readUint8(r)<<24>>24};m.ByteBuffer.prototype.readUint8=function(r){return this.bytes_[r]};m.ByteBuffer.prototype.readInt16=function(r){return this.readUint16(r)<<16>>16};m.ByteBuffer.prototype.readUint16=function(r){return this.bytes_[r]|this.bytes_[r+1]<<8};m.ByteBuffer.prototype.readInt32=function(r){return this.bytes_[r]|this.bytes_[r+1]<<8|this.bytes_[r+2]<<16|this.bytes_[r+3]<<24};m.ByteBuffer.prototype.readUint32=function(r){return this.readInt32(r)>>>0};m.ByteBuffer.prototype.readInt64=function(r){return new m.Long(this.readInt32(r),this.readInt32(r+4))};m.ByteBuffer.prototype.readUint64=function(r){return new m.Long(this.readUint32(r),this.readUint32(r+4))};m.ByteBuffer.prototype.readFloat32=function(r){return m.int32[0]=this.readInt32(r),m.float32[0]};m.ByteBuffer.prototype.readFloat64=function(r){return m.int32[m.isLittleEndian?0:1]=this.readInt32(r),m.int32[m.isLittleEndian?1:0]=this.readInt32(r+4),m.float64[0]};m.ByteBuffer.prototype.writeInt8=function(r,e){this.bytes_[r]=e};m.ByteBuffer.prototype.writeUint8=function(r,e){this.bytes_[r]=e};m.ByteBuffer.prototype.writeInt16=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8};m.ByteBuffer.prototype.writeUint16=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8};m.ByteBuffer.prototype.writeInt32=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8,this.bytes_[r+2]=e>>16,this.bytes_[r+3]=e>>24};m.ByteBuffer.prototype.writeUint32=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8,this.bytes_[r+2]=e>>16,this.bytes_[r+3]=e>>24};m.ByteBuffer.prototype.writeInt64=function(r,e){this.writeInt32(r,e.low),this.writeInt32(r+4,e.high)};m.ByteBuffer.prototype.writeUint64=function(r,e){this.writeUint32(r,e.low),this.writeUint32(r+4,e.high)};m.ByteBuffer.prototype.writeFloat32=function(r,e){m.float32[0]=e,this.writeInt32(r,m.int32[0])};m.ByteBuffer.prototype.writeFloat64=function(r,e){m.float64[0]=e,this.writeInt32(r,m.int32[m.isLittleEndian?0:1]),this.writeInt32(r+4,m.int32[m.isLittleEndian?1:0])};m.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+m.SIZEOF_INT+m.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var r="",e=0;e<m.FILE_IDENTIFIER_LENGTH;e++)r+=String.fromCharCode(this.readInt8(this.position_+m.SIZEOF_INT+e));return r};m.ByteBuffer.prototype.__offset=function(r,e){var t=r-this.readInt32(r);return e<this.readInt16(t)?this.readInt16(t+e):0};m.ByteBuffer.prototype.__union=function(r,e){return r.bb_pos=e+this.readInt32(e),r.bb=this,r};m.ByteBuffer.prototype.__string=function(r,e){r+=this.readInt32(r);var t=this.readInt32(r),n="",i=0;if(r+=m.SIZEOF_INT,e===m.Encoding.UTF8_BYTES)return this.bytes_.subarray(r,r+t);for(;i<t;){var s,o=this.readUint8(r+i++);if(o<192)s=o;else{var a=this.readUint8(r+i++);if(o<224)s=(o&31)<<6|a&63;else{var c=this.readUint8(r+i++);if(o<240)s=(o&15)<<12|(a&63)<<6|c&63;else{var f=this.readUint8(r+i++);s=(o&7)<<18|(a&63)<<12|(c&63)<<6|f&63}}}s<65536?n+=String.fromCharCode(s):(s-=65536,n+=String.fromCharCode((s>>10)+55296,(s&(1<<10)-1)+56320))}return n};m.ByteBuffer.prototype.__indirect=function(r){return r+this.readInt32(r)};m.ByteBuffer.prototype.__vector=function(r){return r+this.readInt32(r)+m.SIZEOF_INT};m.ByteBuffer.prototype.__vector_len=function(r){return this.readInt32(r+this.readInt32(r))};m.ByteBuffer.prototype.__has_identifier=function(r){if(r.length!=m.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+m.FILE_IDENTIFIER_LENGTH);for(var e=0;e<m.FILE_IDENTIFIER_LENGTH;e++)if(r.charCodeAt(e)!=this.readInt8(this.position_+m.SIZEOF_INT+e))return!1;return!0};m.ByteBuffer.prototype.createLong=function(r,e){return m.Long.create(r,e)};ah.flatbuffers=m});var Nn=g(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.encodeUtf8=li.decodeUtf8=void 0;var $0=new TextDecoder("utf-8");li.decodeUtf8=r=>$0.decode(r);var K0=new TextEncoder;li.encodeUtf8=r=>K0.encode(r)});var di=g(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.AsyncQueue=ut.ReadableInterop=ut.ArrowJSON=ut.ITERATOR_DONE=void 0;var vs=it(),ch=ws();ut.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var uh=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};ut.ArrowJSON=uh;var Cc=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};ut.ReadableInterop=Cc;var lh=class extends Cc{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return vs.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(ut.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return ch.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return ch.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return vs.__awaiter(this,void 0,void 0,function*(){return yield this.abort(e),ut.ITERATOR_DONE})}return(e){return vs.__awaiter(this,void 0,void 0,function*(){return yield this.close(),ut.ITERATOR_DONE})}read(e){return vs.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return vs.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,n)=>{this.resolvers.push({resolve:t,reject:n})}):Promise.resolve(ut.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};ut.AsyncQueue=lh});var st=g(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.isReadableNodeStream=R.isWritableNodeStream=R.isReadableDOMStream=R.isWritableDOMStream=R.isFetchResponse=R.isFSReadStream=R.isFileHandle=R.isUnderlyingSink=R.isIteratorResult=R.isArrayLike=R.isArrowJSON=R.isAsyncIterable=R.isIterable=R.isObservable=R.isPromise=R.isObject=R.BigUint64ArrayAvailable=R.BigUint64Array=R.BigInt64ArrayAvailable=R.BigInt64Array=R.BigIntAvailable=R.BigInt=void 0;var Fo=di(),[J0,X0]=(()=>{let r=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw r()}return e.asIntN=()=>{throw r()},e.asUintN=()=>{throw r()},typeof BigInt<"u"?[BigInt,!0]:[e,!1]})();R.BigInt=J0;R.BigIntAvailable=X0;var[Z0,Q0]=(()=>{let r=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[e,!1]})();R.BigInt64Array=Z0;R.BigInt64ArrayAvailable=Q0;var[ev,tv]=(()=>{let r=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[e,!1]})();R.BigUint64Array=ev;R.BigUint64ArrayAvailable=tv;var jc=r=>typeof r=="number",dh=r=>typeof r=="boolean",Qe=r=>typeof r=="function";R.isObject=r=>r!=null&&Object(r)===r;R.isPromise=r=>R.isObject(r)&&Qe(r.then);R.isObservable=r=>R.isObject(r)&&Qe(r.subscribe);R.isIterable=r=>R.isObject(r)&&Qe(r[Symbol.iterator]);R.isAsyncIterable=r=>R.isObject(r)&&Qe(r[Symbol.asyncIterator]);R.isArrowJSON=r=>R.isObject(r)&&R.isObject(r.schema);R.isArrayLike=r=>R.isObject(r)&&jc(r.length);R.isIteratorResult=r=>R.isObject(r)&&"done"in r&&"value"in r;R.isUnderlyingSink=r=>R.isObject(r)&&Qe(r.abort)&&Qe(r.close)&&Qe(r.start)&&Qe(r.write);R.isFileHandle=r=>R.isObject(r)&&Qe(r.stat)&&jc(r.fd);R.isFSReadStream=r=>R.isReadableNodeStream(r)&&jc(r.bytesRead);R.isFetchResponse=r=>R.isObject(r)&&R.isReadableDOMStream(r.body);R.isWritableDOMStream=r=>R.isObject(r)&&Qe(r.abort)&&Qe(r.getWriter)&&!(r instanceof Fo.ReadableInterop);R.isReadableDOMStream=r=>R.isObject(r)&&Qe(r.cancel)&&Qe(r.getReader)&&!(r instanceof Fo.ReadableInterop);R.isWritableNodeStream=r=>R.isObject(r)&&Qe(r.end)&&Qe(r.write)&&dh(r.writable)&&!(r instanceof Fo.ReadableInterop);R.isReadableNodeStream=r=>R.isObject(r)&&Qe(r.read)&&Qe(r.pipe)&&dh(r.readable)&&!(r instanceof Fo.ReadableInterop)});var We=g(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.compareArrayLike=U.rebaseValueOffsets=U.toUint8ClampedArrayAsyncIterator=U.toFloat64ArrayAsyncIterator=U.toFloat32ArrayAsyncIterator=U.toUint32ArrayAsyncIterator=U.toUint16ArrayAsyncIterator=U.toUint8ArrayAsyncIterator=U.toInt32ArrayAsyncIterator=U.toInt16ArrayAsyncIterator=U.toInt8ArrayAsyncIterator=U.toArrayBufferViewAsyncIterator=U.toUint8ClampedArrayIterator=U.toFloat64ArrayIterator=U.toFloat32ArrayIterator=U.toUint32ArrayIterator=U.toUint16ArrayIterator=U.toUint8ArrayIterator=U.toInt32ArrayIterator=U.toInt16ArrayIterator=U.toInt8ArrayIterator=U.toArrayBufferViewIterator=U.toUint8ClampedArray=U.toFloat64Array=U.toFloat32Array=U.toBigUint64Array=U.toUint32Array=U.toUint16Array=U.toUint8Array=U.toBigInt64Array=U.toInt32Array=U.toInt16Array=U.toInt8Array=U.toArrayBufferView=U.joinUint8Arrays=U.memcpy=void 0;var Ce=it(),rv=Sr(),nv=Nn(),iv=rv.flatbuffers.ByteBuffer,Ln=st(),zc=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function sv(r){let e=r[0]?[r[0]]:[],t,n,i,s;for(let o,a,c=0,f=0,y=r.length;++c<y;){if(o=e[f],a=r[c],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++f]=a);continue}if({byteOffset:t,byteLength:i}=o,{byteOffset:n,byteLength:s}=a,t+i<n||n+s<t){a&&(e[++f]=a);continue}e[f]=new Uint8Array(o.buffer,t,n-t+s)}return e}function qc(r,e,t=0,n=e.byteLength){let i=r.byteLength,s=new Uint8Array(r.buffer,r.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,i));return s.set(o,t),r}U.memcpy=qc;function ov(r,e){let t=sv(r),n=t.reduce((y,B)=>y+B.byteLength,0),i,s,o,a=0,c=-1,f=Math.min(e||1/0,n);for(let y=t.length;++c<y;){if(i=t[c],s=i.subarray(0,Math.min(i.length,f-a)),f<=a+s.length){s.length<i.length?t[c]=i.subarray(s.length):s.length===i.length&&c++,o?qc(o,s,a):o=s;break}qc(o||(o=new Uint8Array(f)),s,a),a+=s.length}return[o||new Uint8Array(0),t.slice(c),n-(o?o.byteLength:0)]}U.joinUint8Arrays=ov;function at(r,e){let t=Ln.isIteratorResult(e)?e.value:e;return t instanceof r?r===Uint8Array?new r(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=nv.encodeUtf8(t)),t instanceof ArrayBuffer?new r(t):t instanceof zc?new r(t):t instanceof iv?at(r,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new r(0):new r(t.buffer,t.byteOffset,t.byteLength/r.BYTES_PER_ELEMENT):r.from(t)):new r(0)}U.toArrayBufferView=at;U.toInt8Array=r=>at(Int8Array,r);U.toInt16Array=r=>at(Int16Array,r);U.toInt32Array=r=>at(Int32Array,r);U.toBigInt64Array=r=>at(Ln.BigInt64Array,r);U.toUint8Array=r=>at(Uint8Array,r);U.toUint16Array=r=>at(Uint16Array,r);U.toUint32Array=r=>at(Uint32Array,r);U.toBigUint64Array=r=>at(Ln.BigUint64Array,r);U.toFloat32Array=r=>at(Float32Array,r);U.toFloat64Array=r=>at(Float64Array,r);U.toUint8ClampedArray=r=>at(Uint8ClampedArray,r);var Hc=r=>(r.next(),r);function*tr(r,e){let t=function*(i){yield i},n=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof zc?t(e):Ln.isIterable(e)?e:t(e);return yield*Hc(function*(i){let s=null;do s=i.next(yield at(r,s));while(!s.done)}(n[Symbol.iterator]())),new r}U.toArrayBufferViewIterator=tr;U.toInt8ArrayIterator=r=>tr(Int8Array,r);U.toInt16ArrayIterator=r=>tr(Int16Array,r);U.toInt32ArrayIterator=r=>tr(Int32Array,r);U.toUint8ArrayIterator=r=>tr(Uint8Array,r);U.toUint16ArrayIterator=r=>tr(Uint16Array,r);U.toUint32ArrayIterator=r=>tr(Uint32Array,r);U.toFloat32ArrayIterator=r=>tr(Float32Array,r);U.toFloat64ArrayIterator=r=>tr(Float64Array,r);U.toUint8ClampedArrayIterator=r=>tr(Uint8ClampedArray,r);function Ct(r,e){return Ce.__asyncGenerator(this,arguments,function*(){if(Ln.isPromise(e))return yield Ce.__await(yield Ce.__await(yield*Ce.__asyncDelegator(Ce.__asyncValues(Ct(r,yield Ce.__await(e))))));let n=function(o){return Ce.__asyncGenerator(this,arguments,function*(){yield yield Ce.__await(yield Ce.__await(o))})},i=function(o){return Ce.__asyncGenerator(this,arguments,function*(){yield Ce.__await(yield*Ce.__asyncDelegator(Ce.__asyncValues(Hc(function*(a){let c=null;do c=a.next(yield c==null?void 0:c.value);while(!c.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof zc?n(e):Ln.isIterable(e)?i(e):Ln.isAsyncIterable(e)?e:n(e);return yield Ce.__await(yield*Ce.__asyncDelegator(Ce.__asyncValues(Hc(function(o){return Ce.__asyncGenerator(this,arguments,function*(){let a=null;do a=yield Ce.__await(o.next(yield yield Ce.__await(at(r,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield Ce.__await(new r)})}U.toArrayBufferViewAsyncIterator=Ct;U.toInt8ArrayAsyncIterator=r=>Ct(Int8Array,r);U.toInt16ArrayAsyncIterator=r=>Ct(Int16Array,r);U.toInt32ArrayAsyncIterator=r=>Ct(Int32Array,r);U.toUint8ArrayAsyncIterator=r=>Ct(Uint8Array,r);U.toUint16ArrayAsyncIterator=r=>Ct(Uint16Array,r);U.toUint32ArrayAsyncIterator=r=>Ct(Uint32Array,r);U.toFloat32ArrayAsyncIterator=r=>Ct(Float32Array,r);U.toFloat64ArrayAsyncIterator=r=>Ct(Float64Array,r);U.toUint8ClampedArrayAsyncIterator=r=>Ct(Uint8ClampedArray,r);function av(r,e,t){if(r!==0){t=t.slice(0,e+1);for(let n=-1;++n<=e;)t[n]+=r}return t}U.rebaseValueOffsets=av;function cv(r,e){let t=0,n=r.length;if(n!==e.length)return!1;if(n>0)do if(r[t]!==e[t])return!1;while(++t<n);return!0}U.compareArrayLike=cv});var ws=g(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});var me=it(),ct=We();Yc.default={fromIterable(r){return Do(uv(r))},fromAsyncIterable(r){return Do(lv(r))},fromDOMStream(r){return Do(dv(r))},fromNodeStream(r){return Do(fv(r))},toDOMStream(r,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(r,e){throw new Error('"toNodeStream" not available in this environment')}};var Do=r=>(r.next(),r);function*uv(r){let e,t=!1,n=[],i,s,o,a=0;function c(){return s==="peek"?ct.joinUint8Arrays(n,o)[0]:([i,n,a]=ct.joinUint8Arrays(n,o),i)}({cmd:s,size:o}=yield null);let f=ct.toUint8ArrayIterator(r)[Symbol.iterator]();try{do if({done:e,value:i}=isNaN(o-a)?f.next(void 0):f.next(o-a),!e&&i.byteLength>0&&(n.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield c());while(o<a);while(!e)}catch(y){(t=!0)&&typeof f.throw=="function"&&f.throw(y)}finally{t===!1&&typeof f.return=="function"&&f.return(null)}return null}function lv(r){return me.__asyncGenerator(this,arguments,function*(){let t,n=!1,i=[],s,o,a,c=0;function f(){return o==="peek"?ct.joinUint8Arrays(i,a)[0]:([s,i,c]=ct.joinUint8Arrays(i,a),s)}({cmd:o,size:a}=yield yield me.__await(null));let y=ct.toUint8ArrayAsyncIterator(r)[Symbol.asyncIterator]();try{do if({done:t,value:s}=isNaN(a-c)?yield me.__await(y.next(void 0)):yield me.__await(y.next(a-c)),!t&&s.byteLength>0&&(i.push(s),c+=s.byteLength),t||a<=c)do({cmd:o,size:a}=yield yield me.__await(f()));while(a<c);while(!t)}catch(B){(n=!0)&&typeof y.throw=="function"&&(yield me.__await(y.throw(B)))}finally{n===!1&&typeof y.return=="function"&&(yield me.__await(y.return(new Uint8Array(0))))}return yield me.__await(null)})}function dv(r){return me.__asyncGenerator(this,arguments,function*(){let t=!1,n=!1,i=[],s,o,a,c=0;function f(){return o==="peek"?ct.joinUint8Arrays(i,a)[0]:([s,i,c]=ct.joinUint8Arrays(i,a),s)}({cmd:o,size:a}=yield yield me.__await(null));let y=new fh(r);try{do if({done:t,value:s}=isNaN(a-c)?yield me.__await(y.read(void 0)):yield me.__await(y.read(a-c)),!t&&s.byteLength>0&&(i.push(ct.toUint8Array(s)),c+=s.byteLength),t||a<=c)do({cmd:o,size:a}=yield yield me.__await(f()));while(a<c);while(!t)}catch(B){(n=!0)&&(yield me.__await(y.cancel(B)))}finally{n===!1?yield me.__await(y.cancel()):r.locked&&y.releaseLock()}return yield me.__await(null)})}var fh=class{constructor(e){this.source=e,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch(t){this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}cancel(e){return me.__awaiter(this,void 0,void 0,function*(){let{reader:t,source:n}=this;t&&(yield t.cancel(e).catch(()=>{})),n&&n.locked&&this.releaseLock()})}read(e){return me.__awaiter(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let t=!this.supportsBYOB||typeof e!="number"?yield this.getDefaultReader().read():yield this.readFromBYOBReader(e);return!t.done&&(t.value=ct.toUint8Array(t)),t})}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch(()=>{})),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch(()=>{})),this.reader=this.byobReader}readFromBYOBReader(e){return me.__awaiter(this,void 0,void 0,function*(){return yield hh(this.getBYOBReader(),new ArrayBuffer(e),0,e)})}};function hh(r,e,t,n){return me.__awaiter(this,void 0,void 0,function*(){if(t>=n)return{done:!1,value:new Uint8Array(e,0,n)};let{done:i,value:s}=yield r.read(new Uint8Array(e,t,n-t));return(t+=s.byteLength)<n&&!i?yield hh(r,s.buffer,t,n):{done:i,value:new Uint8Array(s.buffer,0,t)}})}var Wc=(r,e)=>{let t=i=>n([e,i]),n;return[e,t,new Promise(i=>(n=i)&&r.once(e,t))]};function fv(r){return me.__asyncGenerator(this,arguments,function*(){let t=[],n="error",i=!1,s=null,o,a,c=0,f=[],y;function B(){return o==="peek"?ct.joinUint8Arrays(f,a)[0]:([y,f,c]=ct.joinUint8Arrays(f,a),y)}if({cmd:o,size:a}=yield yield me.__await(null),r.isTTY)return yield yield me.__await(new Uint8Array(0)),yield me.__await(null);try{t[0]=Wc(r,"end"),t[1]=Wc(r,"error");do{if(t[2]=Wc(r,"readable"),[n,s]=yield me.__await(Promise.race(t.map(A=>A[2]))),n==="error")break;if((i=n==="end")||(isFinite(a-c)?(y=ct.toUint8Array(r.read(a-c)),y.byteLength<a-c&&(y=ct.toUint8Array(r.read(void 0)))):y=ct.toUint8Array(r.read(void 0)),y.byteLength>0&&(f.push(y),c+=y.byteLength)),i||a<=c)do({cmd:o,size:a}=yield yield me.__await(B()));while(a<c)}while(!i)}finally{yield me.__await(F(t,n==="error"?s:null))}return yield me.__await(null);function F(A,ne){return y=f=null,new Promise((ee,le)=>{for(let[ve,nt]of A)r.off(ve,nt);try{let ve=r.destroy;ve&&ve.call(r,ne),ne=void 0}catch(ve){ne=ve||ne}finally{ne!=null?le(ne):ee()}})}})}});var Ne=g(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.Vector=fi.AbstractVector=void 0;var Oo=class{};fi.AbstractVector=Oo;fi.Vector=Oo;Oo.prototype.data=null});var Qr=g(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.Schema=D.Buffer=D.Field=D.DictionaryEncoding=D.KeyValue=D.Duration=D.Interval=D.Timestamp=D.Time=D.Date=D.Decimal=D.Bool=D.FixedSizeBinary=D.LargeBinary=D.LargeUtf8=D.Binary=D.Utf8=D.FloatingPoint=D.Int=D.Union=D.Map=D.FixedSizeList=D.LargeList=D.List=D.Struct_=D.Null=D.Endianness=D.DictionaryKind=D.Type=D.IntervalUnit=D.TimeUnit=D.DateUnit=D.Precision=D.UnionMode=D.Feature=D.MetadataVersion=void 0;var Be=Sr(),hv;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(hv=D.MetadataVersion||(D.MetadataVersion={}));var pv;(function(r){r[r.UNUSED=0]="UNUSED",r[r.DICTIONARY_REPLACEMENT=1]="DICTIONARY_REPLACEMENT",r[r.COMPRESSED_BODY=2]="COMPRESSED_BODY"})(pv=D.Feature||(D.Feature={}));var Gc;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(Gc=D.UnionMode||(D.UnionMode={}));var $c;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})($c=D.Precision||(D.Precision={}));var Kc;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(Kc=D.DateUnit||(D.DateUnit={}));var $n;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})($n=D.TimeUnit||(D.TimeUnit={}));var Jc;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME"})(Jc=D.IntervalUnit||(D.IntervalUnit={}));var Xc;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList"})(Xc=D.Type||(D.Type={}));var Zc;(function(r){r[r.DenseArray=0]="DenseArray"})(Zc=D.DictionaryKind||(D.DictionaryKind={}));var Qc;(function(r){r[r.Little=0]="Little",r[r.Big=1]="Big"})(Qc=D.Endianness||(D.Endianness={}));var kn=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new kn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new kn).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return kn.startNull(e),kn.endNull(e)}};D.Null=kn;var Cn=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new Cn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Cn).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return Cn.startStruct_(e),Cn.endStruct_(e)}};D.Struct_=Cn;var jn=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new jn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new jn).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return jn.startList(e),jn.endList(e)}};D.List=jn;var qn=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,t){return(t||new qn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new qn).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return qn.startLargeList(e),qn.endLargeList(e)}};D.LargeList=qn;var Yr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new Yr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Yr).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return Yr.startFixedSizeList(e),Yr.addListSize(e,t),Yr.endFixedSizeList(e)}};D.FixedSizeList=Yr;var Gr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new Gr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Gr).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return Gr.startMap(e),Gr.addKeysSorted(e,t),Gr.endMap(e)}};D.Map=Gr;var Ar=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new Ar).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Ar).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Gc.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,Gc.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,n){return Ar.startUnion(e),Ar.addMode(e,t),Ar.addTypeIds(e,n),Ar.endUnion(e)}};D.Union=Ar;var nr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new nr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new nr).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,n){return nr.startInt(e),nr.addBitWidth(e,t),nr.addIsSigned(e,n),nr.endInt(e)}};D.Int=nr;var $r=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new $r).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new $r).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):$c.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,$c.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return $r.startFloatingPoint(e),$r.addPrecision(e,t),$r.endFloatingPoint(e)}};D.FloatingPoint=$r;var Hn=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new Hn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Hn).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Hn.startUtf8(e),Hn.endUtf8(e)}};D.Utf8=Hn;var zn=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new zn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new zn).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return zn.startBinary(e),zn.endBinary(e)}};D.Binary=zn;var Wn=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,t){return(t||new Wn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Wn).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return Wn.startLargeUtf8(e),Wn.endLargeUtf8(e)}};D.LargeUtf8=Wn;var Yn=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,t){return(t||new Yn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Yn).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return Yn.startLargeBinary(e),Yn.endLargeBinary(e)}};D.LargeBinary=Yn;var Kr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new Kr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Kr).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return Kr.startFixedSizeBinary(e),Kr.addByteWidth(e,t),Kr.endFixedSizeBinary(e)}};D.FixedSizeBinary=Kr;var Gn=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new Gn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Gn).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return Gn.startBool(e),Gn.endBool(e)}};D.Bool=Gn;var rr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new rr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new rr).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,n,i){return rr.startDecimal(e),rr.addPrecision(e,t),rr.addScale(e,n),rr.addBitWidth(e,i),rr.endDecimal(e)}};D.Decimal=rr;var Jr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new Jr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Jr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Kc.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Kc.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return Jr.startDate(e),Jr.addUnit(e,t),Jr.endDate(e)}};D.Date=Jr;var Fr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new Fr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Fr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):$n.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,$n.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,n){return Fr.startTime(e),Fr.addUnit(e,t),Fr.addBitWidth(e,n),Fr.endTime(e)}};D.Time=Fr;var Dr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new Dr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Dr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):$n.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,$n.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,n){return Dr.startTimestamp(e),Dr.addUnit(e,t),Dr.addTimezone(e,n),Dr.endTimestamp(e)}};D.Timestamp=Dr;var Xr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new Xr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Xr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Jc.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Jc.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return Xr.startInterval(e),Xr.addUnit(e,t),Xr.endInterval(e)}};D.Interval=Xr;var Zr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new Zr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Zr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):$n.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,$n.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return Zr.startDuration(e),Zr.addUnit(e,t),Zr.endDuration(e)}};D.Duration=Zr;var qt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new qt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new qt).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,n){return qt.startKeyValue(e),qt.addKey(e,t),qt.addValue(e,n),qt.endKeyValue(e)}};D.KeyValue=qt;var bt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new bt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new bt).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new nr).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Zc.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,Zc.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}static createDictionaryEncoding(e,t,n,i,s){return bt.startDictionaryEncoding(e),bt.addId(e,t),bt.addIndexType(e,n),bt.addIsOrdered(e,i),bt.addDictionaryKind(e,s),bt.endDictionaryEncoding(e)}};D.DictionaryEncoding=bt;var ot=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new ot).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new ot).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Xc.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new bt).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?(t||new ot).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let n=this.bb.__offset(this.bb_pos,16);return n?(t||new qt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,Xc.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}static createField(e,t,n,i,s,o,a,c){return ot.startField(e),ot.addName(e,t),ot.addNullable(e,n),ot.addTypeType(e,i),ot.addType(e,s),ot.addDictionary(e,o),ot.addChildren(e,a),ot.addCustomMetadata(e,c),ot.endField(e)}};D.Field=ot;var ph=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()}};D.Buffer=ph;var jt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new jt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+Be.flatbuffers.SIZE_PREFIX_LENGTH),(t||new jt).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Qc.Little}fields(e,t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new ot).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new qt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,Qc.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,n,i,s){return jt.startSchema(e),jt.addEndianness(e,t),jt.addFields(e,n),jt.addCustomMetadata(e,i),jt.addFeatures(e,s),jt.endSchema(e)}};D.Schema=jt});var Eo=g(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.Message=Le.DictionaryBatch=Le.RecordBatch=Le.BodyCompression=Le.FieldNode=Le.MessageHeader=Le.BodyCompressionMethod=Le.CompressionType=void 0;var Uo=Sr(),Mo=Qr(),eu;(function(r){r[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD"})(eu=Le.CompressionType||(Le.CompressionType={}));var tu;(function(r){r[r.BUFFER=0]="BUFFER"})(tu=Le.BodyCompressionMethod||(Le.BodyCompressionMethod={}));var ru;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(ru=Le.MessageHeader||(Le.MessageHeader={}));var nu=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()}};Le.FieldNode=nu;var sr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new sr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+Uo.flatbuffers.SIZE_PREFIX_LENGTH),(t||new sr).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):eu.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):tu.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,eu.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,tu.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,n){return sr.startBodyCompression(e),sr.addCodec(e,t),sr.addMethod(e,n),sr.endBodyCompression(e)}};Le.BodyCompression=sr;var vt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new vt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+Uo.flatbuffers.SIZE_PREFIX_LENGTH),(t||new vt).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new nu).__init(this.bb.__vector(this.bb_pos+n)+e*16,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new Mo.Buffer).__init(this.bb.__vector(this.bb_pos+n)+e*16,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new sr).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}static createRecordBatch(e,t,n,i,s){return vt.startRecordBatch(e),vt.addLength(e,t),vt.addNodes(e,n),vt.addBuffers(e,i),vt.addCompression(e,s),vt.endRecordBatch(e)}};Le.RecordBatch=vt;var ir=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new ir).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+Uo.flatbuffers.SIZE_PREFIX_LENGTH),(t||new ir).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new vt).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}static createDictionaryBatch(e,t,n,i){return ir.startDictionaryBatch(e),ir.addId(e,t),ir.addData(e,n),ir.addIsDelta(e,i),ir.endDictionaryBatch(e)}};Le.DictionaryBatch=ir;var gt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new gt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+Uo.flatbuffers.SIZE_PREFIX_LENGTH),(t||new gt).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Mo.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):ru.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let n=this.bb.__offset(this.bb_pos,12);return n?(t||new Mo.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,Mo.MetadataVersion.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,ru.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,n,i,s,o){return gt.startMessage(e),gt.addVersion(e,t),gt.addHeaderType(e,n),gt.addHeader(e,i),gt.addBodyLength(e,s),gt.addCustomMetadata(e,o),gt.endMessage(e)}};Le.Message=gt});var ge=g(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.BufferType=Oe.Type=Oe.MessageHeader=Oe.MetadataVersion=Oe.IntervalUnit=Oe.UnionMode=Oe.Precision=Oe.TimeUnit=Oe.DateUnit=void 0;var hi=Qr();Object.defineProperty(Oe,"DateUnit",{enumerable:!0,get:function(){return hi.DateUnit}});Object.defineProperty(Oe,"TimeUnit",{enumerable:!0,get:function(){return hi.TimeUnit}});Object.defineProperty(Oe,"Precision",{enumerable:!0,get:function(){return hi.Precision}});Object.defineProperty(Oe,"UnionMode",{enumerable:!0,get:function(){return hi.UnionMode}});Object.defineProperty(Oe,"IntervalUnit",{enumerable:!0,get:function(){return hi.IntervalUnit}});Object.defineProperty(Oe,"MetadataVersion",{enumerable:!0,get:function(){return hi.MetadataVersion}});var yv=Eo();Object.defineProperty(Oe,"MessageHeader",{enumerable:!0,get:function(){return yv.MessageHeader}});var _v;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth"})(_v=Oe.Type||(Oe.Type={}));var mv;(function(r){r[r.OFFSET=0]="OFFSET",r[r.DATA=1]="DATA",r[r.VALIDITY=2]="VALIDITY",r[r.TYPE=3]="TYPE"})(mv=Oe.BufferType||(Oe.BufferType={}))});var or=g(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.popcnt_uint32=je.popcnt_array=je.popcnt_bit_range=je.BitIterator=je.packBools=je.truncateBitmap=je.setBool=je.getBit=je.getBool=void 0;function yh(r,e,t,n){return(t&1<<n)!==0}je.getBool=yh;function _h(r,e,t,n){return(t&1<<n)>>n}je.getBit=_h;function bv(r,e,t){return t?!!(r[e>>3]|=1<<e%8)||!0:!(r[e>>3]&=~(1<<e%8))&&!1}je.setBool=bv;function gv(r,e,t){let n=t.byteLength+7&-8;if(r>0||t.byteLength<n){let i=new Uint8Array(n);return i.set(r%8===0?t.subarray(r>>3):mh(new Ro(t,r,e,null,yh)).subarray(0,n)),i}return t}je.truncateBitmap=gv;function mh(r){let e=[],t=0,n=0,i=0;for(let o of r)o&&(i|=1<<n),++n===8&&(e[t++]=i,i=n=0);(t===0||n>0)&&(e[t++]=i);let s=new Uint8Array(e.length+7&-8);return s.set(e),s}je.packBools=mh;var Ro=class{constructor(e,t,n,i,s){this.bytes=e,this.length=n,this.context=i,this.get=s,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};je.BitIterator=Ro;function iu(r,e,t){if(t-e<=0)return 0;if(t-e<8){let s=0;for(let o of new Ro(r,e,t-e,r,_h))s+=o;return s}let n=t>>3<<3,i=e+(e%8===0?0:8-e%8);return iu(r,e,i)+iu(r,n,t)+bh(r,i>>3,n-i>>3)}je.popcnt_bit_range=iu;function bh(r,e,t){let n=0,i=e|0,s=new DataView(r.buffer,r.byteOffset,r.byteLength),o=t===void 0?r.byteLength:i+t;for(;o-i>=4;)n+=Vo(s.getUint32(i)),i+=4;for(;o-i>=2;)n+=Vo(s.getUint16(i)),i+=2;for(;o-i>=1;)n+=Vo(s.getUint8(i)),i+=1;return n}je.popcnt_array=bh;function Vo(r){let e=r|0;return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}je.popcnt_uint32=Vo});var ce=g(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.strideForType=I.Dictionary=I.Map_=I.FixedSizeList=I.FixedSizeBinary=I.SparseUnion=I.DenseUnion=I.Union=I.Struct=I.List=I.IntervalYearMonth=I.IntervalDayTime=I.Interval=I.TimestampNanosecond=I.TimestampMicrosecond=I.TimestampMillisecond=I.TimestampSecond=I.Timestamp=I.TimeNanosecond=I.TimeMicrosecond=I.TimeMillisecond=I.TimeSecond=I.Time=I.DateMillisecond=I.DateDay=I.Date_=I.Decimal=I.Bool=I.Utf8=I.Binary=I.Float64=I.Float32=I.Float16=I.Float=I.Uint64=I.Uint32=I.Uint16=I.Uint8=I.Int64=I.Int32=I.Int16=I.Int8=I.Int=I.Null=I.DataType=void 0;var E=ge(),Me=class{static isNull(e){return(e==null?void 0:e.typeId)===E.Type.Null}static isInt(e){return(e==null?void 0:e.typeId)===E.Type.Int}static isFloat(e){return(e==null?void 0:e.typeId)===E.Type.Float}static isBinary(e){return(e==null?void 0:e.typeId)===E.Type.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===E.Type.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===E.Type.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===E.Type.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===E.Type.Date}static isTime(e){return(e==null?void 0:e.typeId)===E.Type.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===E.Type.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===E.Type.Interval}static isList(e){return(e==null?void 0:e.typeId)===E.Type.List}static isStruct(e){return(e==null?void 0:e.typeId)===E.Type.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===E.Type.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===E.Type.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===E.Type.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===E.Type.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===E.Type.Dictionary}get typeId(){return E.Type.NONE}};I.DataType=Me;Me[Symbol.toStringTag]=(r=>(r.children=null,r.ArrayType=Array,r[Symbol.toStringTag]="DataType"))(Me.prototype);var xo=class extends Me{toString(){return"Null"}get typeId(){return E.Type.Null}};I.Null=xo;xo[Symbol.toStringTag]=(r=>r[Symbol.toStringTag]="Null")(xo.prototype);var wt=class extends Me{constructor(e,t){super();this.isSigned=e,this.bitWidth=t}get typeId(){return E.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};I.Int=wt;wt[Symbol.toStringTag]=(r=>(r.isSigned=null,r.bitWidth=null,r[Symbol.toStringTag]="Int"))(wt.prototype);var su=class extends wt{constructor(){super(!0,8)}};I.Int8=su;var ou=class extends wt{constructor(){super(!0,16)}};I.Int16=ou;var au=class extends wt{constructor(){super(!0,32)}};I.Int32=au;var cu=class extends wt{constructor(){super(!0,64)}};I.Int64=cu;var uu=class extends wt{constructor(){super(!1,8)}};I.Uint8=uu;var lu=class extends wt{constructor(){super(!1,16)}};I.Uint16=lu;var du=class extends wt{constructor(){super(!1,32)}};I.Uint32=du;var fu=class extends wt{constructor(){super(!1,64)}};I.Uint64=fu;Object.defineProperty(su.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(ou.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(au.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(cu.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(uu.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(lu.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(du.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(fu.prototype,"ArrayType",{value:Uint32Array});var Kn=class extends Me{constructor(e){super();this.precision=e}get typeId(){return E.Type.Float}get ArrayType(){switch(this.precision){case E.Precision.HALF:return Uint16Array;case E.Precision.SINGLE:return Float32Array;case E.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};I.Float=Kn;Kn[Symbol.toStringTag]=(r=>(r.precision=null,r[Symbol.toStringTag]="Float"))(Kn.prototype);var hu=class extends Kn{constructor(){super(E.Precision.HALF)}};I.Float16=hu;var pu=class extends Kn{constructor(){super(E.Precision.SINGLE)}};I.Float32=pu;var yu=class extends Kn{constructor(){super(E.Precision.DOUBLE)}};I.Float64=yu;Object.defineProperty(hu.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(pu.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(yu.prototype,"ArrayType",{value:Float64Array});var Po=class extends Me{constructor(){super()}get typeId(){return E.Type.Binary}toString(){return"Binary"}};I.Binary=Po;Po[Symbol.toStringTag]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Binary"))(Po.prototype);var No=class extends Me{constructor(){super()}get typeId(){return E.Type.Utf8}toString(){return"Utf8"}};I.Utf8=No;No[Symbol.toStringTag]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Utf8"))(No.prototype);var Lo=class extends Me{constructor(){super()}get typeId(){return E.Type.Bool}toString(){return"Bool"}};I.Bool=Lo;Lo[Symbol.toStringTag]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Bool"))(Lo.prototype);var ko=class extends Me{constructor(e,t){super();this.scale=e,this.precision=t}get typeId(){return E.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};I.Decimal=ko;ko[Symbol.toStringTag]=(r=>(r.scale=null,r.precision=null,r.ArrayType=Uint32Array,r[Symbol.toStringTag]="Decimal"))(ko.prototype);var pi=class extends Me{constructor(e){super();this.unit=e}get typeId(){return E.Type.Date}toString(){return`Date${(this.unit+1)*32}<${E.DateUnit[this.unit]}>`}};I.Date_=pi;pi[Symbol.toStringTag]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Date"))(pi.prototype);var gh=class extends pi{constructor(){super(E.DateUnit.DAY)}};I.DateDay=gh;var vh=class extends pi{constructor(){super(E.DateUnit.MILLISECOND)}};I.DateMillisecond=vh;var en=class extends Me{constructor(e,t){super();this.unit=e,this.bitWidth=t}get typeId(){return E.Type.Time}toString(){return`Time${this.bitWidth}<${E.TimeUnit[this.unit]}>`}};I.Time=en;en[Symbol.toStringTag]=(r=>(r.unit=null,r.bitWidth=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Time"))(en.prototype);var wh=class extends en{constructor(){super(E.TimeUnit.SECOND,32)}};I.TimeSecond=wh;var Bh=class extends en{constructor(){super(E.TimeUnit.MILLISECOND,32)}};I.TimeMillisecond=Bh;var Ih=class extends en{constructor(){super(E.TimeUnit.MICROSECOND,64)}};I.TimeMicrosecond=Ih;var Th=class extends en{constructor(){super(E.TimeUnit.NANOSECOND,64)}};I.TimeNanosecond=Th;var tn=class extends Me{constructor(e,t){super();this.unit=e,this.timezone=t}get typeId(){return E.Type.Timestamp}toString(){return`Timestamp<${E.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};I.Timestamp=tn;tn[Symbol.toStringTag]=(r=>(r.unit=null,r.timezone=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Timestamp"))(tn.prototype);var Sh=class extends tn{constructor(e){super(E.TimeUnit.SECOND,e)}};I.TimestampSecond=Sh;var Ah=class extends tn{constructor(e){super(E.TimeUnit.MILLISECOND,e)}};I.TimestampMillisecond=Ah;var Fh=class extends tn{constructor(e){super(E.TimeUnit.MICROSECOND,e)}};I.TimestampMicrosecond=Fh;var Dh=class extends tn{constructor(e){super(E.TimeUnit.NANOSECOND,e)}};I.TimestampNanosecond=Dh;var yi=class extends Me{constructor(e){super();this.unit=e}get typeId(){return E.Type.Interval}toString(){return`Interval<${E.IntervalUnit[this.unit]}>`}};I.Interval=yi;yi[Symbol.toStringTag]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Interval"))(yi.prototype);var Oh=class extends yi{constructor(){super(E.IntervalUnit.DAY_TIME)}};I.IntervalDayTime=Oh;var Mh=class extends yi{constructor(){super(E.IntervalUnit.YEAR_MONTH)}};I.IntervalYearMonth=Mh;var Co=class extends Me{constructor(e){super();this.children=[e]}get typeId(){return E.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};I.List=Co;Co[Symbol.toStringTag]=(r=>(r.children=null,r[Symbol.toStringTag]="List"))(Co.prototype);var jo=class extends Me{constructor(e){super();this.children=e}get typeId(){return E.Type.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};I.Struct=jo;jo[Symbol.toStringTag]=(r=>(r.children=null,r[Symbol.toStringTag]="Struct"))(jo.prototype);var _i=class extends Me{constructor(e,t,n){super();this.mode=e,this.children=n,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return E.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}};I.Union=_i;_i[Symbol.toStringTag]=(r=>(r.mode=null,r.typeIds=null,r.children=null,r.typeIdToChildIndex=null,r.ArrayType=Int8Array,r[Symbol.toStringTag]="Union"))(_i.prototype);var Uh=class extends _i{constructor(e,t){super(E.UnionMode.Dense,e,t)}};I.DenseUnion=Uh;var Eh=class extends _i{constructor(e,t){super(E.UnionMode.Sparse,e,t)}};I.SparseUnion=Eh;var qo=class extends Me{constructor(e){super();this.byteWidth=e}get typeId(){return E.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};I.FixedSizeBinary=qo;qo[Symbol.toStringTag]=(r=>(r.byteWidth=null,r.ArrayType=Uint8Array,r[Symbol.toStringTag]="FixedSizeBinary"))(qo.prototype);var Ho=class extends Me{constructor(e,t){super();this.listSize=e,this.children=[t]}get typeId(){return E.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};I.FixedSizeList=Ho;Ho[Symbol.toStringTag]=(r=>(r.children=null,r.listSize=null,r[Symbol.toStringTag]="FixedSizeList"))(Ho.prototype);var zo=class extends Me{constructor(e,t=!1){super();this.children=[e],this.keysSorted=t}get typeId(){return E.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};I.Map_=zo;zo[Symbol.toStringTag]=(r=>(r.children=null,r.keysSorted=null,r[Symbol.toStringTag]="Map_"))(zo.prototype);var vv=(r=>()=>++r)(-1),Wo=class extends Me{constructor(e,t,n,i){super();this.indices=t,this.dictionary=e,this.isOrdered=i||!1,this.id=n==null?vv():typeof n=="number"?n:n.low}get typeId(){return E.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};I.Dictionary=Wo;Wo[Symbol.toStringTag]=(r=>(r.id=null,r.indices=null,r.isOrdered=null,r.dictionary=null,r[Symbol.toStringTag]="Dictionary"))(Wo.prototype);function wv(r){let e=r;switch(r.typeId){case E.Type.Decimal:return 4;case E.Type.Timestamp:return 2;case E.Type.Date:return 1+e.unit;case E.Type.Interval:return 1+e.unit;case E.Type.Int:return 1+ +(e.bitWidth>32);case E.Type.Time:return 1+ +(e.bitWidth>32);case E.Type.FixedSizeList:return e.listSize;case E.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}I.strideForType=wv});var Ht=g(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.Data=Jn.kUnknownNullCount=void 0;var Bv=or(),Iv=or(),x=ge(),Tv=ce(),se=We();Jn.kUnknownNullCount=-1;var G=class{constructor(e,t,n,i,s,o,a){this.type=e,this.dictionary=a,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1)),this.childData=(o||[]).map(f=>f instanceof G?f:f.data);let c;s instanceof G?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Tv.strideForType(e),s&&((c=s[0])&&(this.valueOffsets=c),(c=s[1])&&(this.values=c),(c=s[2])&&(this.nullBitmap=c),(c=s[3])&&(this.typeIds=c)))}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:n,nullBitmap:i,typeIds:s}=this;return t&&(e+=t.byteLength),n&&(e+=n.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.childData.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=Jn.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Iv.popcnt_bit_range(t,this.offset,this.offset+this.length)),e}clone(e,t=this.offset,n=this.length,i=this._nullCount,s=this,o=this.childData){return new G(e,t,n,i,s,o,this.dictionary)}slice(e,t){let{stride:n,typeId:i,childData:s}=this,o=+(this._nullCount===0)-1,a=i===16?n:1,c=this._sliceBuffers(e,t,n,i);return this.clone(this.type,this.offset+e,t,o,c,!s.length||this.valueOffsets?s:this._sliceChildren(s,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===x.Type.Null)return this.clone(this.type,0,e,0);let{length:t,nullCount:n}=this,i=new Uint8Array((e+63&-64)>>3).fill(255,0,t>>3);i[t>>3]=(1<<t-(t&-8))-1,n>0&&i.set(Bv.truncateBitmap(this.offset,t,this.nullBitmap),0);let s=this.buffers;return s[x.BufferType.VALIDITY]=i,this.clone(this.type,0,e,n+(e-t),s)}_sliceBuffers(e,t,n,i){let s,{buffers:o}=this;return(s=o[x.BufferType.TYPE])&&(o[x.BufferType.TYPE]=s.subarray(e,e+t)),(s=o[x.BufferType.OFFSET])&&(o[x.BufferType.OFFSET]=s.subarray(e,e+t+1))||(s=o[x.BufferType.DATA])&&(o[x.BufferType.DATA]=i===6?s:s.subarray(n*e,n*(e+t))),o}_sliceChildren(e,t,n){return e.map(i=>i.slice(t,n))}static new(e,t,n,i,s,o,a){switch(s instanceof G?s=s.buffers:s||(s=[]),e.typeId){case x.Type.Null:return G.Null(e,t,n);case x.Type.Int:return G.Int(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.DATA]||[]);case x.Type.Dictionary:return G.Dictionary(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.DATA]||[],a);case x.Type.Float:return G.Float(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.DATA]||[]);case x.Type.Bool:return G.Bool(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.DATA]||[]);case x.Type.Decimal:return G.Decimal(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.DATA]||[]);case x.Type.Date:return G.Date(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.DATA]||[]);case x.Type.Time:return G.Time(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.DATA]||[]);case x.Type.Timestamp:return G.Timestamp(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.DATA]||[]);case x.Type.Interval:return G.Interval(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.DATA]||[]);case x.Type.FixedSizeBinary:return G.FixedSizeBinary(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.DATA]||[]);case x.Type.Binary:return G.Binary(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.OFFSET]||[],s[x.BufferType.DATA]||[]);case x.Type.Utf8:return G.Utf8(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.OFFSET]||[],s[x.BufferType.DATA]||[]);case x.Type.List:return G.List(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.OFFSET]||[],(o||[])[0]);case x.Type.FixedSizeList:return G.FixedSizeList(e,t,n,i||0,s[x.BufferType.VALIDITY],(o||[])[0]);case x.Type.Struct:return G.Struct(e,t,n,i||0,s[x.BufferType.VALIDITY],o||[]);case x.Type.Map:return G.Map(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.OFFSET]||[],(o||[])[0]);case x.Type.Union:return G.Union(e,t,n,i||0,s[x.BufferType.VALIDITY],s[x.BufferType.TYPE]||[],s[x.BufferType.OFFSET]||o,o)}throw new Error(`Unrecognized typeId ${e.typeId}`)}static Null(e,t,n){return new G(e,t,n,0)}static Int(e,t,n,i,s,o){return new G(e,t,n,i,[void 0,se.toArrayBufferView(e.ArrayType,o),se.toUint8Array(s)])}static Dictionary(e,t,n,i,s,o,a){return new G(e,t,n,i,[void 0,se.toArrayBufferView(e.indices.ArrayType,o),se.toUint8Array(s)],[],a)}static Float(e,t,n,i,s,o){return new G(e,t,n,i,[void 0,se.toArrayBufferView(e.ArrayType,o),se.toUint8Array(s)])}static Bool(e,t,n,i,s,o){return new G(e,t,n,i,[void 0,se.toArrayBufferView(e.ArrayType,o),se.toUint8Array(s)])}static Decimal(e,t,n,i,s,o){return new G(e,t,n,i,[void 0,se.toArrayBufferView(e.ArrayType,o),se.toUint8Array(s)])}static Date(e,t,n,i,s,o){return new G(e,t,n,i,[void 0,se.toArrayBufferView(e.ArrayType,o),se.toUint8Array(s)])}static Time(e,t,n,i,s,o){return new G(e,t,n,i,[void 0,se.toArrayBufferView(e.ArrayType,o),se.toUint8Array(s)])}static Timestamp(e,t,n,i,s,o){return new G(e,t,n,i,[void 0,se.toArrayBufferView(e.ArrayType,o),se.toUint8Array(s)])}static Interval(e,t,n,i,s,o){return new G(e,t,n,i,[void 0,se.toArrayBufferView(e.ArrayType,o),se.toUint8Array(s)])}static FixedSizeBinary(e,t,n,i,s,o){return new G(e,t,n,i,[void 0,se.toArrayBufferView(e.ArrayType,o),se.toUint8Array(s)])}static Binary(e,t,n,i,s,o,a){return new G(e,t,n,i,[se.toInt32Array(o),se.toUint8Array(a),se.toUint8Array(s)])}static Utf8(e,t,n,i,s,o,a){return new G(e,t,n,i,[se.toInt32Array(o),se.toUint8Array(a),se.toUint8Array(s)])}static List(e,t,n,i,s,o,a){return new G(e,t,n,i,[se.toInt32Array(o),void 0,se.toUint8Array(s)],a?[a]:[])}static FixedSizeList(e,t,n,i,s,o){return new G(e,t,n,i,[void 0,void 0,se.toUint8Array(s)],o?[o]:[])}static Struct(e,t,n,i,s,o){return new G(e,t,n,i,[void 0,void 0,se.toUint8Array(s)],o)}static Map(e,t,n,i,s,o,a){return new G(e,t,n,i,[se.toInt32Array(o),void 0,se.toUint8Array(s)],a?[a]:[])}static Union(e,t,n,i,s,o,a,c){let f=[void 0,void 0,se.toUint8Array(s),se.toArrayBufferView(e.ArrayType,o)];return e.mode===x.UnionMode.Sparse?new G(e,t,n,i,f,a):(f[x.BufferType.OFFSET]=se.toInt32Array(a),new G(e,t,n,i,f,c))}};Jn.Data=G;G.prototype.childData=Object.freeze([])});var _u=g(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.valueToString=void 0;var Sv=void 0;function Av(r){if(r===null)return"null";if(r===Sv)return"undefined";switch(typeof r){case"number":return`${r}`;case"bigint":return`${r}`;case"string":return`"${r}"`}return typeof r[Symbol.toPrimitive]=="function"?r[Symbol.toPrimitive]("string"):ArrayBuffer.isView(r)?`[${r}]`:JSON.stringify(r)}Yo.valueToString=Av});var Vh=g(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.createIsValidFunction=void 0;var mu=_u(),Fv=st();function Dv(r){if(!r||r.length<=0)return function(i){return!0};let e="",t=r.filter(n=>n===n);return t.length>0&&(e=`
    switch (x) {${t.map(n=>`
        case ${Ov(n)}:`).join("")}
            return false;
    }`),r.length!==t.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}Go.createIsValidFunction=Dv;function Ov(r){return typeof r!="bigint"?mu.valueToString(r):Fv.BigIntAvailable?`${mu.valueToString(r)}n`:`"${mu.valueToString(r)}"`}});var rn=g(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.WideBufferBuilder=Bt.OffsetsBufferBuilder=Bt.BitmapBufferBuilder=Bt.DataBufferBuilder=Bt.BufferBuilder=void 0;var Rh=We(),bu=st(),gu=(r,e)=>(r*e+63&-64||64)/e,Mv=(r,e=0)=>r.length>=e?r.subarray(0,e):Rh.memcpy(new r.constructor(e),r,0),Bs=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=e.length/t|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,n=this.length*t,i=this.buffer.length;n>=i&&this._resize(i===0?gu(n*1,this.BYTES_PER_ELEMENT):gu(n*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=gu(e*this.stride,this.BYTES_PER_ELEMENT);let t=Mv(this.buffer,e);return this.clear(),t}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=Rh.memcpy(new this.ArrayType(e),this.buffer)}};Bt.BufferBuilder=Bs;Bs.prototype.offset=0;var $o=class extends Bs{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};Bt.DataBufferBuilder=$o;var xh=class extends $o{constructor(e=new Uint8Array(0)){super(e,1/8);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:n}=this.reserve(e-this.length+1),i=e>>3,s=e%8,o=n[i]>>s&1;return t?o===0&&(n[i]|=1<<s,++this.numValid):o===1&&(n[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}};Bt.BitmapBufferBuilder=xh;var Ph=class extends $o{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let n=this.length-1,i=this.reserve(e-n+1).buffer;return n<e++&&i.fill(i[n],n,e),i[e]=i[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}};Bt.OffsetsBufferBuilder=Ph;var Nh=class extends Bs{get ArrayType64(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?bu.BigInt64Array:bu.BigUint64Array)}set(e,t){switch(this.reserve(e-this.length+1),typeof t){case"bigint":this.buffer64[e]=t;break;case"number":this.buffer[e*this.stride]=t;break;default:this.buffer.set(t,e*this.stride)}return this}_resize(e){let t=super._resize(e),n=t.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return bu.BigIntAvailable&&(this.buffer64=new this.ArrayType64(t.buffer,t.byteOffset,n)),t}};Bt.WideBufferBuilder=Nh});var Ue=g(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.VariableWidthBuilder=nn.FixedWidthBuilder=nn.Builder=void 0;var mi=it(),Uv=Ne(),bi=ge(),Ev=Ht(),Vv=Vh(),vu=rn(),Rv=ce(),It=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=Rv.strideForType(e),this._nulls=new vu.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=Vv.createIsValidFunction(t))}static new(e){}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}static throughIterable(e){return xv(e)}static throughAsyncIterable(e){return Pv(e)}toVector(){return Uv.Vector.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),this._typeIds&&(e+=this._typeIds.byteLength),this.children.reduce((t,n)=>t+n.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((t,n)=>t+n.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e=[],t=this._values,n=this._offsets,i=this._typeIds,{length:s,nullCount:o}=this;i?(e[bi.BufferType.TYPE]=i.flush(s),n&&(e[bi.BufferType.OFFSET]=n.flush(s))):n?(t&&(e[bi.BufferType.DATA]=t.flush(n.last())),e[bi.BufferType.OFFSET]=n.flush(s)):t&&(e[bi.BufferType.DATA]=t.flush(s)),o>0&&(e[bi.BufferType.VALIDITY]=this._nulls.flush(s));let a=Ev.Data.new(this.type,0,s,o,e,this.children.map(c=>c.flush()));return this.clear(),a}finish(){return this.finished=!0,this.children.forEach(e=>e.finish()),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach(e=>e.clear()),this}};nn.Builder=It;It.prototype.length=1;It.prototype.stride=1;It.prototype.children=null;It.prototype.finished=!1;It.prototype.nullValues=null;It.prototype._isValid=()=>!0;var Lh=class extends It{constructor(e){super(e);this._values=new vu.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let n=this._values;return n.reserve(e-n.length+1),super.setValue(e,t)}};nn.FixedWidthBuilder=Lh;var kh=class extends It{constructor(e){super(e);this._pendingLength=0,this._offsets=new vu.OffsetsBufferBuilder}setValue(e,t){let n=this._pending||(this._pending=new Map),i=n.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=t.length,n.set(e,t)}setValid(e,t){return super.setValid(e,t)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}};nn.VariableWidthBuilder=kh;function xv(r){let{["queueingStrategy"]:e="count"}=r,{["highWaterMark"]:t=e!=="bytes"?1e3:Math.pow(2,14)}=r,n=e!=="bytes"?"length":"byteLength";return function*(i){let s=0,o=It.new(r);for(let a of i)o.append(a)[n]>=t&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}function Pv(r){let{["queueingStrategy"]:e="count"}=r,{["highWaterMark"]:t=e!=="bytes"?1e3:Math.pow(2,14)}=r,n=e!=="bytes"?"length":"byteLength";return function(i){return mi.__asyncGenerator(this,arguments,function*(){var s,o;let a=0,c=It.new(r);try{for(var f=mi.__asyncValues(i),y;y=yield mi.__await(f.next()),!y.done;){let B=y.value;c.append(B)[n]>=t&&++a&&(yield yield mi.__await(c.toVector()))}}catch(B){s={error:B}}finally{try{y&&!y.done&&(o=f.return)&&(yield mi.__await(o.call(f)))}finally{if(s)throw s.error}}(c.finish().length>0||a===0)&&(yield yield mi.__await(c.toVector()))})}}});var wu=g(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.BoolBuilder=void 0;var Nv=rn(),Lv=Ue(),Ch=class extends Lv.Builder{constructor(e){super(e);this._values=new Nv.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};Ko.BoolBuilder=Ch});var Bu=g(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.NullBuilder=void 0;var kv=Ue(),jh=class extends kv.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};Jo.NullBuilder=jh});var Iu=g(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.DateMillisecondBuilder=sn.DateDayBuilder=sn.DateBuilder=void 0;var Cv=Ue(),Xo=class extends Cv.FixedWidthBuilder{};sn.DateBuilder=Xo;var qh=class extends Xo{};sn.DateDayBuilder=qh;var Hh=class extends Xo{};sn.DateMillisecondBuilder=Hh});var Tu=g(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.DecimalBuilder=void 0;var jv=Ue(),zh=class extends jv.FixedWidthBuilder{};Zo.DecimalBuilder=zh});var Au=g(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.DictionaryBuilder=void 0;var qv=ce(),Su=Ue(),Wh=class extends Su.Builder{constructor({type:e,nullValues:t,dictionaryHashFunction:n}){super({type:new qv.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)});this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Su.Builder.new({type:this.type.indices,nullValues:t}),this.dictionary=Su.Builder.new({type:this.type.dictionary,nullValues:null}),typeof n=="function"&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let n=this.indices;return t=n.setValid(e,t),this.length=n.length,t}setValue(e,t){let n=this._keysToIndices,i=this.valueToKey(t),s=n[i];return s===void 0&&(n[i]=s=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,s)}flush(){let e=this.type,t=this._dictionary,n=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=t?t.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}};Qo.DictionaryBuilder=Wh});var Fu=g(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.FixedSizeBinaryBuilder=void 0;var Hv=Ue(),Yh=class extends Hv.FixedWidthBuilder{};ea.FixedSizeBinaryBuilder=Yh});var Is=g(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.float64ToUint16=vi.uint16ToFloat64=void 0;var Gh=new Float64Array(1),gi=new Uint32Array(Gh.buffer);function zv(r){let e=(r&31744)>>10,t=(r&1023)/1024,n=Math.pow(-1,(r&32768)>>15);switch(e){case 31:return n*(t?NaN:1/0);case 0:return n*(t?6103515625e-14*t:0)}return n*Math.pow(2,e-15)*(1+t)}vi.uint16ToFloat64=zv;function Wv(r){if(r!==r)return 32256;Gh[0]=r;let e=(gi[1]&2147483648)>>16&65535,t=gi[1]&2146435072,n=0;return t>=1089470464?gi[0]>0?t=31744:(t=(t&2080374784)>>16,n=(gi[1]&1048575)>>10):t<=1056964608?(n=1048576+(gi[1]&1048575),n=1048576+(n<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,n=(gi[1]&1048575)+512>>10),e|t|n&65535}vi.float64ToUint16=Wv});var Du=g(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.Float64Builder=ar.Float32Builder=ar.Float16Builder=ar.FloatBuilder=void 0;var Yv=Is(),Gv=Ue(),Ts=class extends Gv.FixedWidthBuilder{};ar.FloatBuilder=Ts;var $h=class extends Ts{setValue(e,t){this._values.set(e,Yv.float64ToUint16(t))}};ar.Float16Builder=$h;var Kh=class extends Ts{setValue(e,t){this._values.set(e,t)}};ar.Float32Builder=Kh;var Jh=class extends Ts{setValue(e,t){this._values.set(e,t)}};ar.Float64Builder=Jh});var Fs=g(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.BN=Ye.bignumToBigInt=Ye.bignumToString=Ye.isArrowBigNumSymbol=void 0;var $v=We(),As=st();Ye.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function zt(r,...e){return e.length===0?Object.setPrototypeOf($v.toArrayBufferView(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...e),this.constructor.prototype)}zt.prototype[Ye.isArrowBigNumSymbol]=!0;zt.prototype.toJSON=function(){return`"${Ye.bignumToString(this)}"`};zt.prototype.valueOf=function(){return Xh(this)};zt.prototype.toString=function(){return Ye.bignumToString(this)};zt.prototype[Symbol.toPrimitive]=function(r="default"){switch(r){case"number":return Xh(this);case"string":return Ye.bignumToString(this);case"default":return Ye.bignumToBigInt(this)}return Ye.bignumToString(this)};function wi(...r){return zt.apply(this,r)}function Bi(...r){return zt.apply(this,r)}function Ss(...r){return zt.apply(this,r)}Object.setPrototypeOf(wi.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Bi.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Ss.prototype,Object.create(Uint32Array.prototype));Object.assign(wi.prototype,zt.prototype,{constructor:wi,signed:!0,TypedArray:Int32Array,BigIntArray:As.BigInt64Array});Object.assign(Bi.prototype,zt.prototype,{constructor:Bi,signed:!1,TypedArray:Uint32Array,BigIntArray:As.BigUint64Array});Object.assign(Ss.prototype,zt.prototype,{constructor:Ss,signed:!0,TypedArray:Uint32Array,BigIntArray:As.BigUint64Array});function Xh(r){let{buffer:e,byteOffset:t,length:n,signed:i}=r,s=new Int32Array(e,t,n),o=0,a=0,c=s.length,f,y;for(;a<c;)y=s[a++],f=s[a++],i||(f=f>>>0),o+=(y>>>0)+f*Math.pow(a,32);return o}As.BigIntAvailable?(Ye.bignumToBigInt=r=>r.byteLength===8?new r.BigIntArray(r.buffer,r.byteOffset,1)[0]:Ou(r),Ye.bignumToString=r=>r.byteLength===8?`${new r.BigIntArray(r.buffer,r.byteOffset,1)[0]}`:Ou(r)):(Ye.bignumToString=Ou,Ye.bignumToBigInt=Ye.bignumToString);function Ou(r){let e="",t=new Uint32Array(2),n=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),i=new Uint32Array((n=new Uint16Array(n).reverse()).buffer),s=-1,o=n.length-1;do{for(t[0]=n[s=0];s<o;)n[s++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+n[s];n[s]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e||"0"}var ta=class{static new(e,t){switch(t){case!0:return new wi(e);case!1:return new Bi(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case As.BigInt64Array:return new wi(e)}return e.byteLength===16?new Ss(e):new Bi(e)}static signed(e){return new wi(e)}static unsigned(e){return new Bi(e)}static decimal(e){return new Ss(e)}constructor(e,t){return ta.new(e,t)}};Ye.BN=ta});var Mu=g(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.Uint64Builder=qe.Uint32Builder=qe.Uint16Builder=qe.Uint8Builder=qe.Int64Builder=qe.Int32Builder=qe.Int16Builder=qe.Int8Builder=qe.IntBuilder=void 0;var Kv=Fs(),Zh=rn(),Jv=st(),Xv=Ue(),cr=class extends Xv.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};qe.IntBuilder=cr;var Qh=class extends cr{};qe.Int8Builder=Qh;var ep=class extends cr{};qe.Int16Builder=ep;var tp=class extends cr{};qe.Int32Builder=tp;var rp=class extends cr{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(ra));super(e);this._values=new Zh.WideBufferBuilder(new Int32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(ra(e))}};qe.Int64Builder=rp;var np=class extends cr{};qe.Uint8Builder=np;var ip=class extends cr{};qe.Uint16Builder=ip;var sp=class extends cr{};qe.Uint32Builder=sp;var op=class extends cr{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(ra));super(e);this._values=new Zh.WideBufferBuilder(new Uint32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(ra(e))}};qe.Uint64Builder=op;var ra=(r=>e=>(ArrayBuffer.isView(e)&&(r.buffer=e.buffer,r.byteOffset=e.byteOffset,r.byteLength=e.byteLength,e=Kv.bignumToBigInt(r),r.buffer=null),e))({BigIntArray:Jv.BigInt64Array})});var Uu=g(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.TimeNanosecondBuilder=Tt.TimeMicrosecondBuilder=Tt.TimeMillisecondBuilder=Tt.TimeSecondBuilder=Tt.TimeBuilder=void 0;var Zv=Ue(),Ii=class extends Zv.FixedWidthBuilder{};Tt.TimeBuilder=Ii;var ap=class extends Ii{};Tt.TimeSecondBuilder=ap;var cp=class extends Ii{};Tt.TimeMillisecondBuilder=cp;var up=class extends Ii{};Tt.TimeMicrosecondBuilder=up;var lp=class extends Ii{};Tt.TimeNanosecondBuilder=lp});var Eu=g(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.TimestampNanosecondBuilder=St.TimestampMicrosecondBuilder=St.TimestampMillisecondBuilder=St.TimestampSecondBuilder=St.TimestampBuilder=void 0;var Qv=Ue(),Ti=class extends Qv.FixedWidthBuilder{};St.TimestampBuilder=Ti;var dp=class extends Ti{};St.TimestampSecondBuilder=dp;var fp=class extends Ti{};St.TimestampMillisecondBuilder=fp;var hp=class extends Ti{};St.TimestampMicrosecondBuilder=hp;var pp=class extends Ti{};St.TimestampNanosecondBuilder=pp});var Vu=g(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.IntervalYearMonthBuilder=on.IntervalDayTimeBuilder=on.IntervalBuilder=void 0;var ew=Ue(),na=class extends ew.FixedWidthBuilder{};on.IntervalBuilder=na;var yp=class extends na{};on.IntervalDayTimeBuilder=yp;var _p=class extends na{};on.IntervalYearMonthBuilder=_p});var sa=g(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.BinaryBuilder=void 0;var tw=We(),rw=rn(),nw=Ue(),mp=class extends nw.VariableWidthBuilder{constructor(e){super(e);this._values=new rw.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,tw.toUint8Array(t))}_flushPending(e,t){let n=this._offsets,i=this._values.reserve(t).buffer,s=0,o=0,a=0,c;for([s,c]of e)c===void 0?n.set(s,0):(o=c.length,i.set(c,a),n.set(s,o),a+=o)}};ia.BinaryBuilder=mp});var aa=g(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.Utf8Builder=void 0;var iw=Nn(),sw=sa(),ow=rn(),aw=Ue(),Ru=class extends aw.VariableWidthBuilder{constructor(e){super(e);this._values=new ow.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,iw.encodeUtf8(t))}_flushPending(e,t){}};oa.Utf8Builder=Ru;Ru.prototype._flushPending=sw.BinaryBuilder.prototype._flushPending});var xu=g(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.Run=void 0;var cw=Ne(),bp=class{get length(){return this._values.length}get(e){return this._values[e]}clear(){return this._values=null,this}bind(e){return e instanceof cw.Vector?e:(this._values=e,this)}};ca.Run=bp});var Je=g(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.Field=Si.Schema=void 0;var uw=ce(),At=class{constructor(e=[],t,n){this.fields=e||[],this.metadata=t||new Map,n||(n=Pu(e)),this.dictionaries=n}get[Symbol.toStringTag](){return"Schema"}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(...e){let t=e.reduce((n,i)=>(n[i]=!0)&&n,Object.create(null));return new At(this.fields.filter(n=>t[n.name]),this.metadata)}selectAt(...e){return new At(e.map(t=>this.fields[t]).filter(Boolean),this.metadata)}assign(...e){let t=e[0]instanceof At?e[0]:Array.isArray(e[0])?new At(e[0]):new At(e),n=[...this.fields],i=ua(ua(new Map,this.metadata),t.metadata),s=t.fields.filter(a=>{let c=n.findIndex(f=>f.name===a.name);return~c?(n[c]=a.clone({metadata:ua(ua(new Map,n[c].metadata),a.metadata)}))&&!1:!0}),o=Pu(s,new Map);return new At([...n,...s],i,new Map([...this.dictionaries,...o]))}};Si.Schema=At;var Or=class{constructor(e,t,n=!1,i){this.name=e,this.type=t,this.nullable=n,this.metadata=i||new Map}static new(...e){let[t,n,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],n===void 0&&(n=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new Or(`${t}`,n,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,n,i,s]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,n=this.type,i=this.nullable,s=this.metadata]=e:{name:t=this.name,type:n=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],Or.new(t,n,i,s)}};Si.Field=Or;function ua(r,e){return new Map([...r||new Map,...e||new Map])}function Pu(r,e=new Map){for(let t=-1,n=r.length;++t<n;){let s=r[t].type;if(uw.DataType.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&Pu(s.children,e)}return e}At.prototype.fields=null;At.prototype.metadata=null;At.prototype.dictionaries=null;Or.prototype.type=null;Or.prototype.name=null;Or.prototype.nullable=null;Or.prototype.metadata=null});var Nu=g(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.ListBuilder=void 0;var lw=xu(),dw=Je(),fw=ce(),hw=rn(),pw=Ue(),gp=class extends pw.VariableWidthBuilder{constructor(e){super(e);this._run=new lw.Run,this._offsets=new hw.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new fw.List(new dw.Field(t,e.type,!0)),this.numChildren-1}clear(){return this._run.clear(),super.clear()}_flushPending(e){let t=this._run,n=this._offsets,i=this._setValue,s=0,o;for([s,o]of e)o===void 0?n.set(s,0):(n.set(s,o.length),i(this,s,t.bind(o)))}};la.ListBuilder=gp});var Lu=g(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.FixedSizeListBuilder=void 0;var yw=xu(),_w=Je(),mw=Ue(),bw=ce(),vp=class extends mw.Builder{constructor(){super(...arguments);this._run=new yw.Run}setValue(e,t){super.setValue(e,this._run.bind(t))}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let n=this.children.push(e);return this.type=new bw.FixedSizeList(this.type.listSize,new _w.Field(t,e.type,!0)),n}clear(){return this._run.clear(),super.clear()}};da.FixedSizeListBuilder=vp});var ku=g(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.MapBuilder=void 0;var gw=Je(),vw=ce(),ww=Ue(),wp=class extends ww.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){t=t instanceof Map?t:new Map(Object.entries(t));let n=this._pending||(this._pending=new Map),i=n.get(e);i&&(this._pendingLength-=i.size),this._pendingLength+=t.size,n.set(e,t)}addChild(e,t=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new vw.Map_(new gw.Field(t,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,n=this._setValue;e.forEach((i,s)=>{i===void 0?t.set(s,0):(t.set(s,i.size),n(this,s,i))})}};fa.MapBuilder=wp});var Cu=g(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.StructBuilder=void 0;var Bw=Je(),Iw=Ue(),Tw=ce(),Bp=class extends Iw.Builder{addChild(e,t=`${this.numChildren}`){let n=this.children.push(e);return this.type=new Tw.Struct([...this.type.children,new Bw.Field(t,e.type,!0)]),n}};ha.StructBuilder=Bp});var ju=g(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.DenseUnionBuilder=an.SparseUnionBuilder=an.UnionBuilder=void 0;var Sw=Je(),Ip=rn(),Aw=Ue(),Fw=ce(),pa=class extends Aw.Builder{constructor(e){super(e);this._typeIds=new Ip.DataBufferBuilder(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,n){return n===void 0&&(n=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,n),this}setValue(e,t,n){this._typeIds.set(e,n),super.setValue(e,t)}addChild(e,t=`${this.children.length}`){let n=this.children.push(e),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new Sw.Field(t,e.type)];return this.type=new Fw.Union(s,[...o,n],a),n}_valueToChildTypeId(e,t,n){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};an.UnionBuilder=pa;var Tp=class extends pa{};an.SparseUnionBuilder=Tp;var Sp=class extends pa{constructor(e){super(e);this._offsets=new Ip.DataBufferBuilder(new Int32Array(0))}setValue(e,t,n){let i=this.type.typeIdToChildIndex[n];return this._offsets.set(e,this.getChildAt(i).length),super.setValue(e,t,n)}};an.DenseUnionBuilder=Sp});var et=g(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.Visitor=void 0;var Dw=Ht(),Ow=Ne(),b=ge(),Mw=ce(),be=class{visitMany(e,...t){return e.map((n,i)=>this.visit(n,...t.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return Uw(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};ya.Visitor=be;function Uw(r,e,t=!0){let n=null,i=b.Type.NONE;switch(e instanceof Dw.Data||e instanceof Ow.Vector?i=qu(e.type):e instanceof Mw.DataType?i=qu(e):typeof(i=e)!="number"&&(i=b.Type[e]),i){case b.Type.Null:n=r.visitNull;break;case b.Type.Bool:n=r.visitBool;break;case b.Type.Int:n=r.visitInt;break;case b.Type.Int8:n=r.visitInt8||r.visitInt;break;case b.Type.Int16:n=r.visitInt16||r.visitInt;break;case b.Type.Int32:n=r.visitInt32||r.visitInt;break;case b.Type.Int64:n=r.visitInt64||r.visitInt;break;case b.Type.Uint8:n=r.visitUint8||r.visitInt;break;case b.Type.Uint16:n=r.visitUint16||r.visitInt;break;case b.Type.Uint32:n=r.visitUint32||r.visitInt;break;case b.Type.Uint64:n=r.visitUint64||r.visitInt;break;case b.Type.Float:n=r.visitFloat;break;case b.Type.Float16:n=r.visitFloat16||r.visitFloat;break;case b.Type.Float32:n=r.visitFloat32||r.visitFloat;break;case b.Type.Float64:n=r.visitFloat64||r.visitFloat;break;case b.Type.Utf8:n=r.visitUtf8;break;case b.Type.Binary:n=r.visitBinary;break;case b.Type.FixedSizeBinary:n=r.visitFixedSizeBinary;break;case b.Type.Date:n=r.visitDate;break;case b.Type.DateDay:n=r.visitDateDay||r.visitDate;break;case b.Type.DateMillisecond:n=r.visitDateMillisecond||r.visitDate;break;case b.Type.Timestamp:n=r.visitTimestamp;break;case b.Type.TimestampSecond:n=r.visitTimestampSecond||r.visitTimestamp;break;case b.Type.TimestampMillisecond:n=r.visitTimestampMillisecond||r.visitTimestamp;break;case b.Type.TimestampMicrosecond:n=r.visitTimestampMicrosecond||r.visitTimestamp;break;case b.Type.TimestampNanosecond:n=r.visitTimestampNanosecond||r.visitTimestamp;break;case b.Type.Time:n=r.visitTime;break;case b.Type.TimeSecond:n=r.visitTimeSecond||r.visitTime;break;case b.Type.TimeMillisecond:n=r.visitTimeMillisecond||r.visitTime;break;case b.Type.TimeMicrosecond:n=r.visitTimeMicrosecond||r.visitTime;break;case b.Type.TimeNanosecond:n=r.visitTimeNanosecond||r.visitTime;break;case b.Type.Decimal:n=r.visitDecimal;break;case b.Type.List:n=r.visitList;break;case b.Type.Struct:n=r.visitStruct;break;case b.Type.Union:n=r.visitUnion;break;case b.Type.DenseUnion:n=r.visitDenseUnion||r.visitUnion;break;case b.Type.SparseUnion:n=r.visitSparseUnion||r.visitUnion;break;case b.Type.Dictionary:n=r.visitDictionary;break;case b.Type.Interval:n=r.visitInterval;break;case b.Type.IntervalDayTime:n=r.visitIntervalDayTime||r.visitInterval;break;case b.Type.IntervalYearMonth:n=r.visitIntervalYearMonth||r.visitInterval;break;case b.Type.FixedSizeList:n=r.visitFixedSizeList;break;case b.Type.Map:n=r.visitMap;break}if(typeof n=="function")return n;if(!t)return()=>null;throw new Error(`Unrecognized type '${b.Type[i]}'`)}function qu(r){switch(r.typeId){case b.Type.Null:return b.Type.Null;case b.Type.Int:{let{bitWidth:e,isSigned:t}=r;switch(e){case 8:return t?b.Type.Int8:b.Type.Uint8;case 16:return t?b.Type.Int16:b.Type.Uint16;case 32:return t?b.Type.Int32:b.Type.Uint32;case 64:return t?b.Type.Int64:b.Type.Uint64}return b.Type.Int}case b.Type.Float:switch(r.precision){case b.Precision.HALF:return b.Type.Float16;case b.Precision.SINGLE:return b.Type.Float32;case b.Precision.DOUBLE:return b.Type.Float64}return b.Type.Float;case b.Type.Binary:return b.Type.Binary;case b.Type.Utf8:return b.Type.Utf8;case b.Type.Bool:return b.Type.Bool;case b.Type.Decimal:return b.Type.Decimal;case b.Type.Time:switch(r.unit){case b.TimeUnit.SECOND:return b.Type.TimeSecond;case b.TimeUnit.MILLISECOND:return b.Type.TimeMillisecond;case b.TimeUnit.MICROSECOND:return b.Type.TimeMicrosecond;case b.TimeUnit.NANOSECOND:return b.Type.TimeNanosecond}return b.Type.Time;case b.Type.Timestamp:switch(r.unit){case b.TimeUnit.SECOND:return b.Type.TimestampSecond;case b.TimeUnit.MILLISECOND:return b.Type.TimestampMillisecond;case b.TimeUnit.MICROSECOND:return b.Type.TimestampMicrosecond;case b.TimeUnit.NANOSECOND:return b.Type.TimestampNanosecond}return b.Type.Timestamp;case b.Type.Date:switch(r.unit){case b.DateUnit.DAY:return b.Type.DateDay;case b.DateUnit.MILLISECOND:return b.Type.DateMillisecond}return b.Type.Date;case b.Type.Interval:switch(r.unit){case b.IntervalUnit.DAY_TIME:return b.Type.IntervalDayTime;case b.IntervalUnit.YEAR_MONTH:return b.Type.IntervalYearMonth}return b.Type.Interval;case b.Type.Map:return b.Type.Map;case b.Type.List:return b.Type.List;case b.Type.Struct:return b.Type.Struct;case b.Type.Union:switch(r.mode){case b.UnionMode.Dense:return b.Type.DenseUnion;case b.UnionMode.Sparse:return b.Type.SparseUnion}return b.Type.Union;case b.Type.FixedSizeBinary:return b.Type.FixedSizeBinary;case b.Type.FixedSizeList:return b.Type.FixedSizeList;case b.Type.Dictionary:return b.Type.Dictionary}throw new Error(`Unrecognized type '${b.Type[r.typeId]}'`)}be.prototype.visitInt8=null;be.prototype.visitInt16=null;be.prototype.visitInt32=null;be.prototype.visitInt64=null;be.prototype.visitUint8=null;be.prototype.visitUint16=null;be.prototype.visitUint32=null;be.prototype.visitUint64=null;be.prototype.visitFloat16=null;be.prototype.visitFloat32=null;be.prototype.visitFloat64=null;be.prototype.visitDateDay=null;be.prototype.visitDateMillisecond=null;be.prototype.visitTimestampSecond=null;be.prototype.visitTimestampMillisecond=null;be.prototype.visitTimestampMicrosecond=null;be.prototype.visitTimestampNanosecond=null;be.prototype.visitTimeSecond=null;be.prototype.visitTimeMillisecond=null;be.prototype.visitTimeMicrosecond=null;be.prototype.visitTimeNanosecond=null;be.prototype.visitDenseUnion=null;be.prototype.visitSparseUnion=null;be.prototype.visitIntervalDayTime=null;be.prototype.visitIntervalYearMonth=null});var Wu=g(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.instance=Ai.SetVisitor=void 0;var Ew=Ne(),Vw=et(),Rw=Nn(),xw=Is(),Pw=We(),Ft=ge(),$=class extends Vw.Visitor{};Ai.SetVisitor=$;var Nw=(r,e,t)=>{r[e]=t/864e5|0},Hu=(r,e,t)=>{r[e]=t%4294967296|0,r[e+1]=t/4294967296|0},Lw=(r,e,t)=>{r[e]=t*1e3%4294967296|0,r[e+1]=t*1e3/4294967296|0},kw=(r,e,t)=>{r[e]=t*1e6%4294967296|0,r[e+1]=t*1e6/4294967296|0},Ap=(r,e,t,n)=>{let{[t]:i,[t+1]:s}=e;i!=null&&s!=null&&r.set(n.subarray(0,s-i),i)},Cw=({offset:r,values:e},t,n)=>{let i=r+t;n?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},Fp=({values:r},e,t)=>{Nw(r,e,t.valueOf())},Dp=({values:r},e,t)=>{Hu(r,e*2,t.valueOf())},ur=({stride:r,values:e},t,n)=>{e[r*t]=n},Op=({stride:r,values:e},t,n)=>{e[r*t]=xw.float64ToUint16(n)},zu=(r,e,t)=>{switch(typeof t){case"bigint":r.values64[e]=t;break;case"number":r.values[e*r.stride]=t;break;default:{let n=t,{stride:i,ArrayType:s}=r,o=Pw.toArrayBufferView(s,n);r.values.set(o.subarray(0,i),i*e)}}},jw=({stride:r,values:e},t,n)=>{e.set(n.subarray(0,r),r*t)},qw=({values:r,valueOffsets:e},t,n)=>Ap(r,e,t,n),Hw=({values:r,valueOffsets:e},t,n)=>{Ap(r,e,t,Rw.encodeUtf8(n))},zw=(r,e,t)=>{r.type.bitWidth<64?ur(r,e,t):zu(r,e,t)},Ww=(r,e,t)=>{r.type.precision!==Ft.Precision.HALF?ur(r,e,t):Op(r,e,t)},Yw=(r,e,t)=>{r.type.unit===Ft.DateUnit.DAY?Fp(r,e,t):Dp(r,e,t)},Mp=({values:r},e,t)=>Hu(r,e*2,t/1e3),Up=({values:r},e,t)=>Hu(r,e*2,t),Ep=({values:r},e,t)=>Lw(r,e*2,t),Vp=({values:r},e,t)=>kw(r,e*2,t),Gw=(r,e,t)=>{switch(r.type.unit){case Ft.TimeUnit.SECOND:return Mp(r,e,t);case Ft.TimeUnit.MILLISECOND:return Up(r,e,t);case Ft.TimeUnit.MICROSECOND:return Ep(r,e,t);case Ft.TimeUnit.NANOSECOND:return Vp(r,e,t)}},Rp=({values:r,stride:e},t,n)=>{r[e*t]=n},xp=({values:r,stride:e},t,n)=>{r[e*t]=n},Pp=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},Np=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},$w=(r,e,t)=>{switch(r.type.unit){case Ft.TimeUnit.SECOND:return Rp(r,e,t);case Ft.TimeUnit.MILLISECOND:return xp(r,e,t);case Ft.TimeUnit.MICROSECOND:return Pp(r,e,t);case Ft.TimeUnit.NANOSECOND:return Np(r,e,t)}},Kw=({values:r},e,t)=>{r.set(t.subarray(0,4),4*e)},Jw=(r,e,t)=>{let n=r.getChildAt(0),i=r.valueOffsets;for(let s=-1,o=i[e],a=i[e+1];o<a;)n.set(o++,t.get(++s))},Xw=(r,e,t)=>{let n=r.getChildAt(0),i=r.valueOffsets,s=t instanceof Map?[...t]:Object.entries(t);for(let o=-1,a=i[e],c=i[e+1];a<c;)n.set(a++,s[++o])},Zw=(r,e)=>(t,n,i)=>t==null?void 0:t.set(r,e[i]),Qw=(r,e)=>(t,n,i)=>t==null?void 0:t.set(r,e.get(i)),eB=(r,e)=>(t,n,i)=>t==null?void 0:t.set(r,e.get(n.name)),tB=(r,e)=>(t,n,i)=>t==null?void 0:t.set(r,e[n.name]),rB=(r,e,t)=>{let n=t instanceof Map?eB(e,t):t instanceof Ew.Vector?Qw(e,t):Array.isArray(t)?Zw(e,t):tB(e,t);r.type.children.forEach((i,s)=>n(r.getChildAt(s),i,s))},nB=(r,e,t)=>{r.type.mode===Ft.UnionMode.Dense?Lp(r,e,t):kp(r,e,t)},Lp=(r,e,t)=>{let n=r.typeIdToChildIndex[r.typeIds[e]],i=r.getChildAt(n);i&&i.set(r.valueOffsets[e],t)},kp=(r,e,t)=>{let n=r.typeIdToChildIndex[r.typeIds[e]],i=r.getChildAt(n);i&&i.set(e,t)},iB=(r,e,t)=>{let n=r.getKey(e);n!==null&&r.setValue(n,t)},sB=(r,e,t)=>{r.type.unit===Ft.IntervalUnit.DAY_TIME?Cp(r,e,t):jp(r,e,t)},Cp=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},jp=({values:r},e,t)=>{r[e]=t[0]*12+t[1]%12},oB=(r,e,t)=>{let n=r.getChildAt(0),{stride:i}=r;for(let s=-1,o=e*i;++s<i;)n.set(o+s,t.get(s))};$.prototype.visitBool=Cw;$.prototype.visitInt=zw;$.prototype.visitInt8=ur;$.prototype.visitInt16=ur;$.prototype.visitInt32=ur;$.prototype.visitInt64=zu;$.prototype.visitUint8=ur;$.prototype.visitUint16=ur;$.prototype.visitUint32=ur;$.prototype.visitUint64=zu;$.prototype.visitFloat=Ww;$.prototype.visitFloat16=Op;$.prototype.visitFloat32=ur;$.prototype.visitFloat64=ur;$.prototype.visitUtf8=Hw;$.prototype.visitBinary=qw;$.prototype.visitFixedSizeBinary=jw;$.prototype.visitDate=Yw;$.prototype.visitDateDay=Fp;$.prototype.visitDateMillisecond=Dp;$.prototype.visitTimestamp=Gw;$.prototype.visitTimestampSecond=Mp;$.prototype.visitTimestampMillisecond=Up;$.prototype.visitTimestampMicrosecond=Ep;$.prototype.visitTimestampNanosecond=Vp;$.prototype.visitTime=$w;$.prototype.visitTimeSecond=Rp;$.prototype.visitTimeMillisecond=xp;$.prototype.visitTimeMicrosecond=Pp;$.prototype.visitTimeNanosecond=Np;$.prototype.visitDecimal=Kw;$.prototype.visitList=Jw;$.prototype.visitStruct=rB;$.prototype.visitUnion=nB;$.prototype.visitDenseUnion=Lp;$.prototype.visitSparseUnion=kp;$.prototype.visitDictionary=iB;$.prototype.visitInterval=sB;$.prototype.visitIntervalDayTime=Cp;$.prototype.visitIntervalYearMonth=jp;$.prototype.visitFixedSizeList=oB;$.prototype.visitMap=Xw;Ai.instance=new $});var qp=g(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.instance=Fi.GetBuilderCtor=void 0;var aB=et(),cB=sa(),uB=wu(),Yu=Iu(),lB=Tu(),dB=Au(),fB=Fu(),hB=Lu(),_a=Du(),Gu=Vu(),Mr=Mu(),pB=Nu(),yB=ku(),_B=Bu(),mB=Cu(),Ds=Eu(),Os=Uu(),$u=ju(),bB=aa(),Ku=class extends aB.Visitor{visitNull(){return _B.NullBuilder}visitBool(){return uB.BoolBuilder}visitInt(){return Mr.IntBuilder}visitInt8(){return Mr.Int8Builder}visitInt16(){return Mr.Int16Builder}visitInt32(){return Mr.Int32Builder}visitInt64(){return Mr.Int64Builder}visitUint8(){return Mr.Uint8Builder}visitUint16(){return Mr.Uint16Builder}visitUint32(){return Mr.Uint32Builder}visitUint64(){return Mr.Uint64Builder}visitFloat(){return _a.FloatBuilder}visitFloat16(){return _a.Float16Builder}visitFloat32(){return _a.Float32Builder}visitFloat64(){return _a.Float64Builder}visitUtf8(){return bB.Utf8Builder}visitBinary(){return cB.BinaryBuilder}visitFixedSizeBinary(){return fB.FixedSizeBinaryBuilder}visitDate(){return Yu.DateBuilder}visitDateDay(){return Yu.DateDayBuilder}visitDateMillisecond(){return Yu.DateMillisecondBuilder}visitTimestamp(){return Ds.TimestampBuilder}visitTimestampSecond(){return Ds.TimestampSecondBuilder}visitTimestampMillisecond(){return Ds.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return Ds.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return Ds.TimestampNanosecondBuilder}visitTime(){return Os.TimeBuilder}visitTimeSecond(){return Os.TimeSecondBuilder}visitTimeMillisecond(){return Os.TimeMillisecondBuilder}visitTimeMicrosecond(){return Os.TimeMicrosecondBuilder}visitTimeNanosecond(){return Os.TimeNanosecondBuilder}visitDecimal(){return lB.DecimalBuilder}visitList(){return pB.ListBuilder}visitStruct(){return mB.StructBuilder}visitUnion(){return $u.UnionBuilder}visitDenseUnion(){return $u.DenseUnionBuilder}visitSparseUnion(){return $u.SparseUnionBuilder}visitDictionary(){return dB.DictionaryBuilder}visitInterval(){return Gu.IntervalBuilder}visitIntervalDayTime(){return Gu.IntervalDayTimeBuilder}visitIntervalYearMonth(){return Gu.IntervalYearMonthBuilder}visitFixedSizeList(){return hB.FixedSizeListBuilder}visitMap(){return yB.MapBuilder}};Fi.GetBuilderCtor=Ku;Fi.instance=new Ku});var ba=g(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.DenseUnionBuilder=S.SparseUnionBuilder=S.UnionBuilder=S.StructBuilder=S.MapBuilder=S.FixedSizeListBuilder=S.ListBuilder=S.BinaryBuilder=S.Utf8Builder=S.IntervalYearMonthBuilder=S.IntervalDayTimeBuilder=S.IntervalBuilder=S.TimestampNanosecondBuilder=S.TimestampMicrosecondBuilder=S.TimestampMillisecondBuilder=S.TimestampSecondBuilder=S.TimestampBuilder=S.TimeNanosecondBuilder=S.TimeMicrosecondBuilder=S.TimeMillisecondBuilder=S.TimeSecondBuilder=S.TimeBuilder=S.Uint64Builder=S.Uint32Builder=S.Uint16Builder=S.Uint8Builder=S.Int64Builder=S.Int32Builder=S.Int16Builder=S.Int8Builder=S.IntBuilder=S.Float64Builder=S.Float32Builder=S.Float16Builder=S.FloatBuilder=S.FixedSizeBinaryBuilder=S.DictionaryBuilder=S.DecimalBuilder=S.DateMillisecondBuilder=S.DateDayBuilder=S.DateBuilder=S.NullBuilder=S.BoolBuilder=S.Builder=void 0;var gB=Ue();Object.defineProperty(S,"Builder",{enumerable:!0,get:function(){return gB.Builder}});var vB=wu();Object.defineProperty(S,"BoolBuilder",{enumerable:!0,get:function(){return vB.BoolBuilder}});var wB=Bu();Object.defineProperty(S,"NullBuilder",{enumerable:!0,get:function(){return wB.NullBuilder}});var Xu=Iu();Object.defineProperty(S,"DateBuilder",{enumerable:!0,get:function(){return Xu.DateBuilder}});Object.defineProperty(S,"DateDayBuilder",{enumerable:!0,get:function(){return Xu.DateDayBuilder}});Object.defineProperty(S,"DateMillisecondBuilder",{enumerable:!0,get:function(){return Xu.DateMillisecondBuilder}});var BB=Tu();Object.defineProperty(S,"DecimalBuilder",{enumerable:!0,get:function(){return BB.DecimalBuilder}});var IB=Au();Object.defineProperty(S,"DictionaryBuilder",{enumerable:!0,get:function(){return IB.DictionaryBuilder}});var TB=Fu();Object.defineProperty(S,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return TB.FixedSizeBinaryBuilder}});var ma=Du();Object.defineProperty(S,"FloatBuilder",{enumerable:!0,get:function(){return ma.FloatBuilder}});Object.defineProperty(S,"Float16Builder",{enumerable:!0,get:function(){return ma.Float16Builder}});Object.defineProperty(S,"Float32Builder",{enumerable:!0,get:function(){return ma.Float32Builder}});Object.defineProperty(S,"Float64Builder",{enumerable:!0,get:function(){return ma.Float64Builder}});var Ur=Mu();Object.defineProperty(S,"IntBuilder",{enumerable:!0,get:function(){return Ur.IntBuilder}});Object.defineProperty(S,"Int8Builder",{enumerable:!0,get:function(){return Ur.Int8Builder}});Object.defineProperty(S,"Int16Builder",{enumerable:!0,get:function(){return Ur.Int16Builder}});Object.defineProperty(S,"Int32Builder",{enumerable:!0,get:function(){return Ur.Int32Builder}});Object.defineProperty(S,"Int64Builder",{enumerable:!0,get:function(){return Ur.Int64Builder}});Object.defineProperty(S,"Uint8Builder",{enumerable:!0,get:function(){return Ur.Uint8Builder}});Object.defineProperty(S,"Uint16Builder",{enumerable:!0,get:function(){return Ur.Uint16Builder}});Object.defineProperty(S,"Uint32Builder",{enumerable:!0,get:function(){return Ur.Uint32Builder}});Object.defineProperty(S,"Uint64Builder",{enumerable:!0,get:function(){return Ur.Uint64Builder}});var Ms=Uu();Object.defineProperty(S,"TimeBuilder",{enumerable:!0,get:function(){return Ms.TimeBuilder}});Object.defineProperty(S,"TimeSecondBuilder",{enumerable:!0,get:function(){return Ms.TimeSecondBuilder}});Object.defineProperty(S,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return Ms.TimeMillisecondBuilder}});Object.defineProperty(S,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return Ms.TimeMicrosecondBuilder}});Object.defineProperty(S,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return Ms.TimeNanosecondBuilder}});var Us=Eu();Object.defineProperty(S,"TimestampBuilder",{enumerable:!0,get:function(){return Us.TimestampBuilder}});Object.defineProperty(S,"TimestampSecondBuilder",{enumerable:!0,get:function(){return Us.TimestampSecondBuilder}});Object.defineProperty(S,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return Us.TimestampMillisecondBuilder}});Object.defineProperty(S,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return Us.TimestampMicrosecondBuilder}});Object.defineProperty(S,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return Us.TimestampNanosecondBuilder}});var Zu=Vu();Object.defineProperty(S,"IntervalBuilder",{enumerable:!0,get:function(){return Zu.IntervalBuilder}});Object.defineProperty(S,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return Zu.IntervalDayTimeBuilder}});Object.defineProperty(S,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return Zu.IntervalYearMonthBuilder}});var SB=aa();Object.defineProperty(S,"Utf8Builder",{enumerable:!0,get:function(){return SB.Utf8Builder}});var AB=sa();Object.defineProperty(S,"BinaryBuilder",{enumerable:!0,get:function(){return AB.BinaryBuilder}});var FB=Nu();Object.defineProperty(S,"ListBuilder",{enumerable:!0,get:function(){return FB.ListBuilder}});var DB=Lu();Object.defineProperty(S,"FixedSizeListBuilder",{enumerable:!0,get:function(){return DB.FixedSizeListBuilder}});var OB=ku();Object.defineProperty(S,"MapBuilder",{enumerable:!0,get:function(){return OB.MapBuilder}});var MB=Cu();Object.defineProperty(S,"StructBuilder",{enumerable:!0,get:function(){return MB.StructBuilder}});var Qu=ju();Object.defineProperty(S,"UnionBuilder",{enumerable:!0,get:function(){return Qu.UnionBuilder}});Object.defineProperty(S,"SparseUnionBuilder",{enumerable:!0,get:function(){return Qu.SparseUnionBuilder}});Object.defineProperty(S,"DenseUnionBuilder",{enumerable:!0,get:function(){return Qu.DenseUnionBuilder}});var Ju=ge(),UB=aa(),EB=Ue(),Hp=Wu(),zp=qp();EB.Builder.new=Wp;function Wp(r){let e=r.type,t=new(zp.instance.getVisitFn(e)())(r);if(e.children&&e.children.length>0){let n=r.children||[],i={nullValues:r.nullValues},s=Array.isArray(n)?(o,a)=>n[a]||i:({name:o})=>n[o]||i;e.children.forEach((o,a)=>{let{type:c}=o,f=s(o,a);t.children.push(Wp(Object.assign(Object.assign({},f),{type:c})))})}return t}Object.keys(Ju.Type).map(r=>Ju.Type[r]).filter(r=>typeof r=="number"&&r!==Ju.Type.NONE).forEach(r=>{let e=zp.instance.visit(r);e.prototype._setValue=Hp.instance.getVisitFn(r)});UB.Utf8Builder.prototype._setValue=Hp.instance.visitBinary});var Yp=g(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.Block=Di.Footer=void 0;var VB=Sr(),ga=Qr(),Dt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new Dt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+VB.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Dt).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ga.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new ga.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new va).__init(this.bb.__vector(this.bb_pos+n)+e*24,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let n=this.bb.__offset(this.bb_pos,10);return n?(t||new va).__init(this.bb.__vector(this.bb_pos+n)+e*24,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let n=this.bb.__offset(this.bb_pos,12);return n?(t||new ga.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,ga.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}static createFooter(e,t,n,i,s,o){return Dt.startFooter(e),Dt.addVersion(e,t),Dt.addSchema(e,n),Dt.addDictionaries(e,i),Dt.addRecordBatches(e,s),Dt.addCustomMetadata(e,o),Dt.endFooter(e)}};Di.Footer=Dt;var va=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(e,t,n,i){return e.prep(8,24),e.writeInt64(i),e.pad(4),e.writeInt32(n),e.writeInt64(t),e.offset()}};Di.Block=va});var rl=g(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.FileBlock=Oi.Footer=void 0;var Wt=Yp(),el=Sr(),Gp=el.flatbuffers.Long,RB=el.flatbuffers.Builder,xB=el.flatbuffers.ByteBuffer,$p=Je(),Kp=ge(),PB=We(),tl=class{constructor(e,t=Kp.MetadataVersion.V4,n,i){this.schema=e,this.version=t,n&&(this._recordBatches=n),i&&(this._dictionaryBatches=i)}static decode(e){e=new xB(PB.toUint8Array(e));let t=Wt.Footer.getRootAsFooter(e),n=$p.Schema.decode(t.schema());return new Jp(n,t)}static encode(e){let t=new RB,n=$p.Schema.encode(t,e.schema);Wt.Footer.startRecordBatchesVector(t,e.numRecordBatches),[...e.recordBatches()].slice().reverse().forEach(o=>cn.encode(t,o));let i=t.endVector();Wt.Footer.startDictionariesVector(t,e.numDictionaries),[...e.dictionaryBatches()].slice().reverse().forEach(o=>cn.encode(t,o));let s=t.endVector();return Wt.Footer.startFooter(t),Wt.Footer.addSchema(t,n),Wt.Footer.addVersion(t,Kp.MetadataVersion.V4),Wt.Footer.addRecordBatches(t,i),Wt.Footer.addDictionaries(t,s),Wt.Footer.finishFooterBuffer(t,Wt.Footer.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,n=this.numRecordBatches;++t<n;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,n=this.numDictionaries;++t<n;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};Oi.Footer=tl;var Jp=class extends tl{constructor(e,t){super(e,t.version());this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return cn.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return cn.decode(t)}return null}},cn=class{constructor(e,t,n){this.metaDataLength=e,this.offset=typeof n=="number"?n:n.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new cn(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){let{metaDataLength:n}=t,i=new Gp(t.offset,0),s=new Gp(t.bodyLength,0);return Wt.Block.createBlock(e,i,n,s)}};Oi.FileBlock=cn});var hn=g(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.AsyncByteStream=fn.ByteStream=fn.AsyncByteQueue=void 0;var dn=it(),un=ws(),Xp=Nn(),Es=di(),nl=We(),Mi=st(),il=class extends Es.AsyncQueue{write(e){if((e=nl.toUint8Array(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?Xp.decodeUtf8(this.toUint8Array(!0)):this.toUint8Array(!1).then(Xp.decodeUtf8)}toUint8Array(e=!1){return e?nl.joinUint8Arrays(this._values)[0]:(()=>dn.__awaiter(this,void 0,void 0,function*(){var t,n;let i=[],s=0;try{for(var o=dn.__asyncValues(this),a;a=yield o.next(),!a.done;){let c=a.value;i.push(c),s+=c.byteLength}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}return nl.joinUint8Arrays(i,s)[0]}))()}};fn.AsyncByteQueue=il;var Zp=class{constructor(e){e&&(this.source=new Qp(un.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};fn.ByteStream=Zp;var wa=class{constructor(e){e instanceof wa?this.source=e.source:e instanceof il?this.source=new ln(un.default.fromAsyncIterable(e)):Mi.isReadableNodeStream(e)?this.source=new ln(un.default.fromNodeStream(e)):Mi.isReadableDOMStream(e)?this.source=new ln(un.default.fromDOMStream(e)):Mi.isFetchResponse(e)?this.source=new ln(un.default.fromDOMStream(e.body)):Mi.isIterable(e)?this.source=new ln(un.default.fromIterable(e)):Mi.isPromise(e)?this.source=new ln(un.default.fromAsyncIterable(e)):Mi.isAsyncIterable(e)&&(this.source=new ln(un.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};fn.AsyncByteStream=wa;var Qp=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||Es.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||Es.ITERATOR_DONE)}},ln=class{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return dn.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return dn.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return dn.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return dn.__awaiter(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return dn.__awaiter(this,void 0,void 0,function*(){let t=this.source.throw&&(yield this.source.throw(e))||Es.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return dn.__awaiter(this,void 0,void 0,function*(){let t=this.source.return&&(yield this.source.return(e))||Es.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}});var sl=g(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.AsyncRandomAccessFile=Ui.RandomAccessFile=void 0;var pn=it(),ey=hn(),NB=We(),ty=class extends ey.ByteStream{constructor(e,t){super();this.position=0,this.buffer=NB.toUint8Array(e),this.size=typeof t>"u"?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:n}=this.readAt(e,4);return new DataView(t,n).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:n,position:i}=this;return t&&i<n?(typeof e!="number"&&(e=1/0),this.position=Math.min(n,i+Math.min(n-i,e)),t.subarray(i,this.position)):null}readAt(e,t){let n=this.buffer,i=Math.min(this.size,e+t);return n?n.subarray(e,i):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};Ui.RandomAccessFile=ty;var ry=class extends ey.AsyncByteStream{constructor(e,t){super();this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=(()=>pn.__awaiter(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return pn.__awaiter(this,void 0,void 0,function*(){let{buffer:t,byteOffset:n}=yield this.readAt(e,4);return new DataView(t,n).getInt32(0,!0)})}seek(e){return pn.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return pn.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:t,size:n,position:i}=this;if(t&&i<n){typeof e!="number"&&(e=1/0);let s=i,o=0,a=0,c=Math.min(n,s+Math.min(n-s,e)),f=new Uint8Array(Math.max(0,(this.position=c)-s));for(;(s+=a)<c&&(o+=a)<f.byteLength;)({bytesRead:a}=yield t.read(f,o,f.byteLength-o,s));return f}return null})}readAt(e,t){return pn.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:n,size:i}=this;if(n&&e+t<i){let s=Math.min(i,e+t),o=new Uint8Array(s-e);return(yield n.read(o,0,t,e)).buffer}return new Uint8Array(t)})}close(){return pn.__awaiter(this,void 0,void 0,function*(){let e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return pn.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return pn.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}};Ui.AsyncRandomAccessFile=ry});var al=g(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.Int128=lr.Int64=lr.Uint64=lr.BaseInt64=void 0;var LB=1<<16;function Ei(r){return r<0&&(r=4294967295+r+1),`0x${r.toString(16)}`}var Vi=8,ol=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],Ba=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),n=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),i=t[3]*n[3];this.buffer[0]=i&65535;let s=i>>>16;return i=t[2]*n[3],s+=i,i=t[3]*n[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?LB:0,this.buffer[1]+=s>>>16,this.buffer[1]+=t[1]*n[3]+t[2]*n[2]+t[3]*n[1],this.buffer[1]+=t[0]*n[3]+t[1]*n[2]+t[2]*n[1]+t[3]*n[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${Ei(this.buffer[1])} ${Ei(this.buffer[0])}`}};lr.BaseInt64=Ba;var ue=class extends Ba{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return ue.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return ue.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let n=e.length,i=new ue(t);for(let s=0;s<n;){let o=Vi<n-s?Vi:n-s,a=new ue(new Uint32Array([parseInt(e.substr(s,o),10),0])),c=new ue(new Uint32Array([ol[o],0]));i.times(c),i.plus(a),s+=o}return i}static convertArray(e){let t=new Uint32Array(e.length*2);for(let n=-1,i=e.length;++n<i;)ue.from(e[n],new Uint32Array(t.buffer,t.byteOffset+2*n*4,2));return t}static multiply(e,t){return new ue(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new ue(new Uint32Array(e.buffer)).plus(t)}};lr.Uint64=ue;var dt=class extends Ba{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,n=e.buffer[1]<<0;return t<n||t===n&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return dt.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return dt.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let n=e.startsWith("-"),i=e.length,s=new dt(t);for(let o=n?1:0;o<i;){let a=Vi<i-o?Vi:i-o,c=new dt(new Uint32Array([parseInt(e.substr(o,a),10),0])),f=new dt(new Uint32Array([ol[a],0]));s.times(f),s.plus(c),o+=a}return n?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*2);for(let n=-1,i=e.length;++n<i;)dt.from(e[n],new Uint32Array(t.buffer,t.byteOffset+2*n*4,2));return t}static multiply(e,t){return new dt(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new dt(new Uint32Array(e.buffer)).plus(t)}};lr.Int64=dt;var Yt=class{constructor(e){this.buffer=e}high(){return new dt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new dt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let t=new ue(new Uint32Array([this.buffer[3],0])),n=new ue(new Uint32Array([this.buffer[2],0])),i=new ue(new Uint32Array([this.buffer[1],0])),s=new ue(new Uint32Array([this.buffer[0],0])),o=new ue(new Uint32Array([e.buffer[3],0])),a=new ue(new Uint32Array([e.buffer[2],0])),c=new ue(new Uint32Array([e.buffer[1],0])),f=new ue(new Uint32Array([e.buffer[0],0])),y=ue.multiply(s,f);this.buffer[0]=y.low();let B=new ue(new Uint32Array([y.high(),0]));return y=ue.multiply(i,f),B.plus(y),y=ue.multiply(s,c),B.plus(y),this.buffer[1]=B.low(),this.buffer[3]=B.lessThan(y)?1:0,this.buffer[2]=B.high(),new ue(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ue.multiply(n,f)).plus(ue.multiply(i,c)).plus(ue.multiply(s,a)),this.buffer[3]+=ue.multiply(t,f).plus(ue.multiply(n,c)).plus(ue.multiply(i,a)).plus(ue.multiply(s,o)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${Ei(this.buffer[3])} ${Ei(this.buffer[2])} ${Ei(this.buffer[1])} ${Ei(this.buffer[0])}`}static multiply(e,t){return new Yt(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Yt(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return Yt.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return Yt.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let n=e.startsWith("-"),i=e.length,s=new Yt(t);for(let o=n?1:0;o<i;){let a=Vi<i-o?Vi:i-o,c=new Yt(new Uint32Array([parseInt(e.substr(o,a),10),0,0,0])),f=new Yt(new Uint32Array([ol[a],0,0,0]));s.times(f),s.plus(c),o+=a}return n?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*4);for(let n=-1,i=e.length;++n<i;)Yt.from(e[n],new Uint32Array(t.buffer,t.byteOffset+4*4*n,4));return t}};lr.Int128=Yt});var oy=g(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.JSONVectorLoader=Ri.VectorLoader=void 0;var Ge=Ht(),kB=Je(),Er=ce(),CB=et(),ny=or(),jB=Nn(),Ia=al(),iy=ge(),dr=We(),cl=class extends CB.Visitor{constructor(e,t,n,i){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=n,this.dictionaries=i}visit(e){return super.visit(e instanceof kB.Field?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return Ge.Data.Null(e,0,t)}visitBool(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Bool(e,0,t,n,this.readNullBitmap(e,n),this.readData(e))}visitInt(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Int(e,0,t,n,this.readNullBitmap(e,n),this.readData(e))}visitFloat(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Float(e,0,t,n,this.readNullBitmap(e,n),this.readData(e))}visitUtf8(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Utf8(e,0,t,n,this.readNullBitmap(e,n),this.readOffsets(e),this.readData(e))}visitBinary(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Binary(e,0,t,n,this.readNullBitmap(e,n),this.readOffsets(e),this.readData(e))}visitFixedSizeBinary(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.FixedSizeBinary(e,0,t,n,this.readNullBitmap(e,n),this.readData(e))}visitDate(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Date(e,0,t,n,this.readNullBitmap(e,n),this.readData(e))}visitTimestamp(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Timestamp(e,0,t,n,this.readNullBitmap(e,n),this.readData(e))}visitTime(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Time(e,0,t,n,this.readNullBitmap(e,n),this.readData(e))}visitDecimal(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Decimal(e,0,t,n,this.readNullBitmap(e,n),this.readData(e))}visitList(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.List(e,0,t,n,this.readNullBitmap(e,n),this.readOffsets(e),this.visit(e.children[0]))}visitStruct(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Struct(e,0,t,n,this.readNullBitmap(e,n),this.visitMany(e.children))}visitUnion(e){return e.mode===iy.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Union(e,0,t,n,this.readNullBitmap(e,n),this.readTypeIds(e),this.readOffsets(e),this.visitMany(e.children))}visitSparseUnion(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Union(e,0,t,n,this.readNullBitmap(e,n),this.readTypeIds(e),this.visitMany(e.children))}visitDictionary(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Dictionary(e,0,t,n,this.readNullBitmap(e,n),this.readData(e.indices),this.readDictionary(e))}visitInterval(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Interval(e,0,t,n,this.readNullBitmap(e,n),this.readData(e))}visitFixedSizeList(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.FixedSizeList(e,0,t,n,this.readNullBitmap(e,n),this.visit(e.children[0]))}visitMap(e,{length:t,nullCount:n}=this.nextFieldNode()){return Ge.Data.Map(e,0,t,n,this.readNullBitmap(e,n),this.readOffsets(e),this.visit(e.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,n=this.nextBufferRange()){return t>0&&this.readData(e,n)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+t)}readDictionary(e){return this.dictionaries.get(e.id)}};Ri.VectorLoader=cl;var sy=class extends cl{constructor(e,t,n,i){super(new Uint8Array(0),t,n,i);this.sources=e}readNullBitmap(e,t,{offset:n}=this.nextBufferRange()){return t<=0?new Uint8Array(0):ny.packBools(this.sources[n])}readOffsets(e,{offset:t}=this.nextBufferRange()){return dr.toArrayBufferView(Uint8Array,dr.toArrayBufferView(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return dr.toArrayBufferView(Uint8Array,dr.toArrayBufferView(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:n}=this;return Er.DataType.isTimestamp(e)||(Er.DataType.isInt(e)||Er.DataType.isTime(e))&&e.bitWidth===64||Er.DataType.isDate(e)&&e.unit===iy.DateUnit.MILLISECOND?dr.toArrayBufferView(Uint8Array,Ia.Int64.convertArray(n[t])):Er.DataType.isDecimal(e)?dr.toArrayBufferView(Uint8Array,Ia.Int128.convertArray(n[t])):Er.DataType.isBinary(e)||Er.DataType.isFixedSizeBinary(e)?qB(n[t]):Er.DataType.isBool(e)?ny.packBools(n[t]):Er.DataType.isUtf8(e)?jB.encodeUtf8(n[t].join("")):dr.toArrayBufferView(Uint8Array,dr.toArrayBufferView(e.ArrayType,n[t].map(i=>+i)))}};Ri.JSONVectorLoader=sy;function qB(r){let e=r.join(""),t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n>>1]=parseInt(e.substr(n,2),16);return t}});var Vs=g(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.StructRow=Pi.MapRow=void 0;var ay=_u(),tt=Symbol.for("parent"),xi=Symbol.for("rowIndex"),ht=Symbol.for("keyToIdx"),ft=Symbol.for("idxToVal"),ul=Symbol.for("nodejs.util.inspect.custom"),fr=class{constructor(e,t){this[tt]=e,this.size=t}entries(){return this[Symbol.iterator]()}has(e){return this.get(e)!==void 0}get(e){let t;if(e!=null){let n=this[ht]||(this[ht]=new Map),i=n.get(e);if(i!==void 0){let s=this[ft]||(this[ft]=new Array(this.size));(t=s[i])!==void 0||(s[i]=t=this.getValue(i))}else if((i=this.getIndex(e))>-1){n.set(e,i);let s=this[ft]||(this[ft]=new Array(this.size));(t=s[i])!==void 0||(s[i]=t=this.getValue(i))}}return t}set(e,t){if(e!=null){let n=this[ht]||(this[ht]=new Map),i=n.get(e);if(i===void 0&&n.set(e,i=this.getIndex(e)),i>-1){let s=this[ft]||(this[ft]=new Array(this.size));s[i]=this.setValue(i,t)}}return this}clear(){throw new Error(`Clearing ${this[Symbol.toStringTag]} not supported.`)}delete(e){throw new Error(`Deleting ${this[Symbol.toStringTag]} values not supported.`)}*[Symbol.iterator](){let e=this.keys(),t=this.values(),n=this[ht]||(this[ht]=new Map),i=this[ft]||(this[ft]=new Array(this.size));for(let s,o,a=0,c,f;!((c=e.next()).done||(f=t.next()).done);++a)s=c.value,o=f.value,i[a]=o,n.has(s)||n.set(s,a),yield[s,o]}forEach(e,t){let n=this.keys(),i=this.values(),s=t===void 0?e:(c,f,y)=>e.call(t,c,f,y),o=this[ht]||(this[ht]=new Map),a=this[ft]||(this[ft]=new Array(this.size));for(let c,f,y=0,B,F;!((B=n.next()).done||(F=i.next()).done);++y)c=B.value,f=F.value,a[y]=f,o.has(c)||o.set(c,y),s(f,c,this)}toArray(){return[...this.values()]}toJSON(){let e={};return this.forEach((t,n)=>e[n]=t),e}inspect(){return this.toString()}[ul](){return this.toString()}toString(){let e=[];return this.forEach((t,n)=>{n=ay.valueToString(n),t=ay.valueToString(t),e.push(`${n}: ${t}`)}),`{ ${e.join(", ")} }`}};fr[Symbol.toStringTag]=(r=>(Object.defineProperties(r,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[tt]:{writable:!0,enumerable:!1,configurable:!1,value:null},[xi]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),r[Symbol.toStringTag]="Row"))(fr.prototype);var cy=class extends fr{constructor(e){super(e,e.length);return HB(this)}keys(){return this[tt].getChildAt(0)[Symbol.iterator]()}values(){return this[tt].getChildAt(1)[Symbol.iterator]()}getKey(e){return this[tt].getChildAt(0).get(e)}getIndex(e){return this[tt].getChildAt(0).indexOf(e)}getValue(e){return this[tt].getChildAt(1).get(e)}setValue(e,t){this[tt].getChildAt(1).set(e,t)}};Pi.MapRow=cy;var uy=class extends fr{constructor(e){super(e,e.type.children.length);return ly(this)}*keys(){for(let e of this[tt].type.children)yield e.name}*values(){for(let e of this[tt].type.children)yield this[e.name]}getKey(e){return this[tt].type.children[e].name}getIndex(e){return this[tt].type.children.findIndex(t=>t.name===e)}getValue(e){return this[tt].getChildAt(e).get(this[xi])}setValue(e,t){return this[tt].getChildAt(e).set(this[xi],t)}};Pi.StructRow=uy;Object.setPrototypeOf(fr.prototype,Map.prototype);var ly=(()=>{let r={enumerable:!0,configurable:!1,get:null,set:null};return e=>{let t=-1,n=e[ht]||(e[ht]=new Map),i=o=>function(){return this.get(o)},s=o=>function(a){return this.set(o,a)};for(let o of e.keys())n.set(o,++t),r.get=i(o),r.set=s(o),Object.prototype.hasOwnProperty.call(e,o)||(r.enumerable=!0,Object.defineProperty(e,o,r)),Object.prototype.hasOwnProperty.call(e,t)||(r.enumerable=!1,Object.defineProperty(e,t,r));return r.get=r.set=null,e}})(),HB=(()=>{if(typeof Proxy>"u")return ly;let r=fr.prototype.has,e=fr.prototype.get,t=fr.prototype.set,n=fr.prototype.getKey,i={isExtensible(){return!1},deleteProperty(){return!1},preventExtensions(){return!0},ownKeys(s){return[...s.keys()].map(o=>`${o}`)},has(s,o){switch(o){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case tt:case xi:case ft:case ht:case ul:return!0}return typeof o=="number"&&!s.has(o)&&(o=s.getKey(o)),s.has(o)},get(s,o,a){switch(o){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case tt:case xi:case ft:case ht:case ul:return Reflect.get(s,o,a)}return typeof o=="number"&&!r.call(a,o)&&(o=n.call(a,o)),e.call(a,o)},set(s,o,a,c){switch(o){case tt:case xi:case ft:case ht:return Reflect.set(s,o,a,c);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return typeof o=="number"&&!r.call(c,o)&&(o=n.call(c,o)),r.call(c,o)?!!t.call(c,o,a):!1}};return s=>new Proxy(s,i)})()});var xs=g(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.createElementComparator=yn.clampRange=yn.clampIndex=void 0;var _y=Ne(),dy=Vs(),zB=We(),fy=st();function WB(r,e,t){let n=r.length,i=e>-1?e:n+e%n;return t?t(r,i):i}yn.clampIndex=WB;var hy;function YB(r,e,t,n){let{length:i=0}=r,s=typeof e!="number"?0:e,o=typeof t!="number"?i:t;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(hy=s,s=o,o=hy),o>i&&(o=i),n?n(r,s,o):[s,o]}yn.clampRange=YB;var GB=fy.BigIntAvailable?fy.BigInt(0):0,py=r=>r!==r;function Rs(r){let e=typeof r;if(e!=="object"||r===null)return py(r)?py:e!=="bigint"?t=>t===r:t=>GB+t===r;if(r instanceof Date){let t=r.valueOf();return n=>n instanceof Date?n.valueOf()===t:!1}return ArrayBuffer.isView(r)?t=>t?zB.compareArrayLike(r,t):!1:r instanceof Map?KB(r):Array.isArray(r)?$B(r):r instanceof _y.Vector?JB(r):XB(r)}yn.createElementComparator=Rs;function $B(r){let e=[];for(let t=-1,n=r.length;++t<n;)e[t]=Rs(r[t]);return Ta(e)}function KB(r){let e=-1,t=[];return r.forEach(n=>t[++e]=Rs(n)),Ta(t)}function JB(r){let e=[];for(let t=-1,n=r.length;++t<n;)e[t]=Rs(r.get(t));return Ta(e)}function XB(r){let e=Object.keys(r);if(e.length===0)return()=>!1;let t=[];for(let n=-1,i=e.length;++n<i;)t[n]=Rs(r[e[n]]);return Ta(t,e)}function Ta(r,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return ZB(r,t);case Map:case dy.MapRow:case dy.StructRow:return yy(r,t,t.keys());case Object:case void 0:return yy(r,t,e||Object.keys(t))}return t instanceof _y.Vector?QB(r,t):!1}}function ZB(r,e){let t=r.length;if(e.length!==t)return!1;for(let n=-1;++n<t;)if(!r[n](e[n]))return!1;return!0}function QB(r,e){let t=r.length;if(e.length!==t)return!1;for(let n=-1;++n<t;)if(!r[n](e.get(n)))return!1;return!0}function yy(r,e,t){let n=t[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),o=0,a=r.length,c=s.next(),f=n.next(),y=i.next();for(;o<a&&!f.done&&!y.done&&!c.done&&!(f.value!==y.value||!r[o](c.value));++o,f=n.next(),y=i.next(),c=s.next());return o===a&&f.done&&y.done&&c.done?!0:(n.return&&n.return(),i.return&&i.return(),s.return&&s.return(),!1)}});var Xn=g(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.selectColumnChildrenArgs=Xe.selectVectorChildrenArgs=Xe.selectChunkArgs=Xe.selectFieldArgs=Xe.selectColumnArgs=Xe.selectArgs=Xe.arrayTypeToDataType=Xe.isTypedArray=void 0;var ll=Ht(),my=Je(),Vr=Li(),Ni=Ne(),Ot=ce(),eI=mn(),_n=Array.isArray;function fl(r){return ArrayBuffer.isView(r)&&"BYTES_PER_ELEMENT"in r}Xe.isTypedArray=fl;function by(r){switch(r){case Int8Array:return Ot.Int8;case Int16Array:return Ot.Int16;case Int32Array:return Ot.Int32;case BigInt64Array:return Ot.Int64;case Uint8Array:return Ot.Uint8;case Uint16Array:return Ot.Uint16;case Uint32Array:return Ot.Uint32;case BigUint64Array:return Ot.Uint64;case Float32Array:return Ot.Float32;case Float64Array:return Ot.Float64;default:return null}}Xe.arrayTypeToDataType=by;function tI(r){let e=by(r.constructor);if(!e)throw new TypeError("Unrecognized Array input");let t=new e,n=ll.Data.new(t,0,r.length,0,[void 0,r]);return Ni.Vector.new(n)}Xe.selectArgs=(r,e)=>Sa(r,e,[],0);Xe.selectColumnArgs=r=>{let[e,t]=hl(r,[[],[]]);return t.map((n,i)=>n instanceof Vr.Column?Vr.Column.new(n.field.clone(e[i]),n):n instanceof Ni.Vector?Vr.Column.new(e[i],n):fl(n)?Vr.Column.new(e[i],tI(n)):Vr.Column.new(e[i],[]))};Xe.selectFieldArgs=r=>hl(r,[[],[]]);Xe.selectChunkArgs=(r,e)=>dl(r,e,[],0);Xe.selectVectorChildrenArgs=(r,e)=>gy(r,e,[],0);Xe.selectColumnChildrenArgs=(r,e)=>vy(r,e,[],0);function Sa(r,e,t,n){let i,s=n,o=-1,a=e.length;for(;++o<a;)_n(i=e[o])?s=Sa(r,i,t,s).length:i instanceof r&&(t[s++]=i);return t}function dl(r,e,t,n){let i,s=n,o=-1,a=e.length;for(;++o<a;)_n(i=e[o])?s=dl(r,i,t,s).length:i instanceof eI.Chunked?s=dl(r,i.chunks,t,s).length:i instanceof r&&(t[s++]=i);return t}function gy(r,e,t,n){let i,s=n,o=-1,a=e.length;for(;++o<a;)_n(i=e[o])?s=gy(r,i,t,s).length:i instanceof r?s=Sa(Ni.Vector,i.schema.fields.map((c,f)=>i.getChildAt(f)),t,s).length:i instanceof Ni.Vector&&(t[s++]=i);return t}function vy(r,e,t,n){let i,s=n,o=-1,a=e.length;for(;++o<a;)_n(i=e[o])?s=vy(r,i,t,s).length:i instanceof r?s=Sa(Vr.Column,i.schema.fields.map((c,f)=>Vr.Column.new(c,i.getChildAt(f))),t,s).length:i instanceof Vr.Column&&(t[s++]=i);return t}var rI=(r,[e,t],n)=>(r[0][n]=e,r[1][n]=t,r);function hl(r,e){let t,n;switch(n=r.length){case 0:return e;case 1:if(t=e[0],!r[0])return e;if(_n(r[0]))return hl(r[0],e);r[0]instanceof ll.Data||r[0]instanceof Ni.Vector||fl(r[0])||r[0]instanceof Ot.DataType||([t,r]=Object.entries(r[0]).reduce(rI,e));break;default:_n(t=r[n-1])?r=_n(r[0])?r[0]:r.slice(0,n-1):(r=_n(r[0])?r[0]:r,t=[])}let i=-1,s=-1,o=-1,a=r.length,c,f,[y,B]=e;for(;++o<a;)f=r[o],f instanceof Vr.Column&&(B[++s]=f)?y[++i]=f.field.clone(t[o],f.type,!0):({[o]:c=o}=t,f instanceof Ot.DataType&&(B[++s]=f)?y[++i]=my.Field.new(c,f,!0):(f==null?void 0:f.type)&&(B[++s]=f)&&(f instanceof ll.Data&&(B[s]=f=Ni.Vector.new(f)),y[++i]=my.Field.new(c,f.type,!0)));return e}});var mn=g(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.Chunked=void 0;var nI=xs(),wy=ce(),iI=Xn(),By=Ne(),Iy=class{constructor(e){this.chunks=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator()}next(){for(;this.chunkIndex<this.chunks.length;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.chunks.length&&(this.chunkIterator=this.getChunkIterator())}return{done:!0,value:null}}getChunkIterator(){return this.chunks[this.chunkIndex][Symbol.iterator]()}[Symbol.iterator](){return this}},Rr=class extends By.AbstractVector{constructor(e,t=[],n=sI(t)){super();this._nullCount=-1,this._type=e,this._chunks=t,this._chunkOffsets=n,this._length=n[n.length-1],this._numChildren=(this._type.children||[]).length}static flatten(...e){return iI.selectChunkArgs(By.Vector,e)}static concat(...e){let t=Rr.flatten(...e);return new Rr(t[0].type,t)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return`Chunked<${this._type}>`}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce((e,t)=>e+t.byteLength,0)}get nullCount(){let e=this._nullCount;return e<0&&(this._nullCount=e=this._chunks.reduce((t,{nullCount:n})=>t+n,0)),e}get indices(){if(wy.DataType.isDictionary(this._type)){if(!this._indices){let e=this._chunks;this._indices=e.length===1?e[0].indices:Rr.concat(...e.map(t=>t.indices))}return this._indices}return null}get dictionary(){return wy.DataType.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}[Symbol.iterator](){return new Iy(this._chunks)}clone(e=this._chunks){return new Rr(this._type,e)}concat(...e){return this.clone(Rr.flatten(this,...e))}slice(e,t){return nI.clampRange(this,e,t,this._sliceInternal)}getChildAt(e){if(e<0||e>=this._numChildren)return null;let t=this._children||(this._children=[]),n,i,s;return(n=t[e])?n:(i=(this._type.children||[])[e])&&(s=this._chunks.map(o=>o.getChildAt(e)).filter(o=>o!=null),s.length>0)?t[e]=new Rr(i.type,s):null}search(e,t){let n=e,i=this._chunkOffsets,s=i.length-1;if(n<0||n>=i[s])return null;if(s<=1)return t?t(this,0,n):[0,n];let o=0,a=0,c=0;do{if(o+1===s)return t?t(this,o,n-a):[o,n-a];c=o+(s-o)/2|0,n>=i[c]?o=c:s=c}while(n<i[s]&&n>=(a=i[o]));return null}isValid(e){return!!this.search(e,this.isValidInternal)}get(e){return this.search(e,this.getInternal)}set(e,t){this.search(e,({chunks:n},i,s)=>n[i].set(s,t))}indexOf(e,t){return t&&typeof t=="number"?this.search(t,(n,i,s)=>this.indexOfInternal(n,i,s,e)):this.indexOfInternal(this,0,Math.max(0,t||0),e)}toArray(){let{chunks:e}=this,t=e.length,n=this._type.ArrayType;if(t<=0)return new n(0);if(t<=1)return e[0].toArray();let i=0,s=new Array(t);for(let c=-1;++c<t;)i+=(s[c]=e[c].toArray()).length;n!==s[0].constructor&&(n=s[0].constructor);let o=new n(i),a=n===Array?aI:oI;for(let c=-1,f=0;++c<t;)f=a(s[c],o,f);return o}getInternal({_chunks:e},t,n){return e[t].get(n)}isValidInternal({_chunks:e},t,n){return e[t].isValid(n)}indexOfInternal({_chunks:e},t,n,i){let s=t-1,o=e.length,a=n,c=0,f=-1;for(;++s<o;){if(~(f=e[s].indexOf(i,a)))return c+f;a=0,c+=e[s].length}return-1}_sliceInternal(e,t,n){let i=[],{chunks:s,_chunkOffsets:o}=e;for(let a=-1,c=s.length;++a<c;){let f=s[a],y=f.length,B=o[a];if(B>=n)break;if(t>=B+y)continue;if(B>=t&&B+y<=n){i.push(f);continue}let F=Math.max(0,t-B),A=Math.min(n-B,y);i.push(f.slice(F,A))}return e.clone(i)}};Aa.Chunked=Rr;function sI(r){let e=new Uint32Array((r||[]).length+1),t=e[0]=0,n=e.length;for(let i=0;++i<n;)e[i]=t+=r[i-1].length;return e}var oI=(r,e,t)=>(e.set(r,t),t+r.length),aI=(r,e,t)=>{let n=t;for(let i=-1,s=r.length;++i<s;)e[n++]=r[i];return n}});var Li=g(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.Column=void 0;var Ty=Je(),Sy=Ne(),pl=mn(),Zn=class extends pl.Chunked{constructor(e,t=[],n){t=pl.Chunked.flatten(...t);super(e.type,t,n);if(this._field=e,t.length===1&&!(this instanceof yl))return new yl(e,t[0],this._chunkOffsets)}static new(...e){let[t,n,...i]=e;typeof t!="string"&&!(t instanceof Ty.Field)&&(n=t,t="");let s=pl.Chunked.flatten(Array.isArray(n)?[...n,...i]:n instanceof Sy.Vector?[n,...i]:[Sy.Vector.new(n,...i)]);if(typeof t=="string"){let o=s[0].data.type;t=new Ty.Field(t,o,!0)}else!t.nullable&&s.some(({nullCount:o})=>o>0)&&(t=t.clone({nullable:!0}));return new Zn(t,s)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(e=this._chunks){return new Zn(this._field,e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let t=this._children||(this._children=[]),n,i,s;return(n=t[e])?n:(i=(this.type.children||[])[e])&&(s=this._chunks.map(o=>o.getChildAt(e)).filter(o=>o!=null),s.length>0)?t[e]=new Zn(i,s):null}};Fa.Column=Zn;var yl=class extends Zn{constructor(e,t,n){super(e,[t],n);this._chunk=t}search(e,t){return t?t(this,0,e):[0,e]}isValid(e){return this._chunk.isValid(e)}get(e){return this._chunk.get(e)}set(e,t){this._chunk.set(e,t)}indexOf(e,t){return this._chunk.indexOf(e,t)}}});var Ay=g(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.instance=ki.TypeAssembler=void 0;var cI=Sr(),uI=cI.flatbuffers.Long,lI=et(),N=Qr(),_l=class extends lI.Visitor{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return N.Null.startNull(t),N.Null.endNull(t)}visitInt(e,t){return N.Int.startInt(t),N.Int.addBitWidth(t,e.bitWidth),N.Int.addIsSigned(t,e.isSigned),N.Int.endInt(t)}visitFloat(e,t){return N.FloatingPoint.startFloatingPoint(t),N.FloatingPoint.addPrecision(t,e.precision),N.FloatingPoint.endFloatingPoint(t)}visitBinary(e,t){return N.Binary.startBinary(t),N.Binary.endBinary(t)}visitBool(e,t){return N.Bool.startBool(t),N.Bool.endBool(t)}visitUtf8(e,t){return N.Utf8.startUtf8(t),N.Utf8.endUtf8(t)}visitDecimal(e,t){return N.Decimal.startDecimal(t),N.Decimal.addScale(t,e.scale),N.Decimal.addPrecision(t,e.precision),N.Decimal.endDecimal(t)}visitDate(e,t){return N.Date.startDate(t),N.Date.addUnit(t,e.unit),N.Date.endDate(t)}visitTime(e,t){return N.Time.startTime(t),N.Time.addUnit(t,e.unit),N.Time.addBitWidth(t,e.bitWidth),N.Time.endTime(t)}visitTimestamp(e,t){let n=e.timezone&&t.createString(e.timezone)||void 0;return N.Timestamp.startTimestamp(t),N.Timestamp.addUnit(t,e.unit),n!==void 0&&N.Timestamp.addTimezone(t,n),N.Timestamp.endTimestamp(t)}visitInterval(e,t){return N.Interval.startInterval(t),N.Interval.addUnit(t,e.unit),N.Interval.endInterval(t)}visitList(e,t){return N.List.startList(t),N.List.endList(t)}visitStruct(e,t){return N.Struct_.startStruct_(t),N.Struct_.endStruct_(t)}visitUnion(e,t){N.Union.startTypeIdsVector(t,e.typeIds.length);let n=N.Union.createTypeIdsVector(t,e.typeIds);return N.Union.startUnion(t),N.Union.addMode(t,e.mode),N.Union.addTypeIds(t,n),N.Union.endUnion(t)}visitDictionary(e,t){let n=this.visit(e.indices,t);return N.DictionaryEncoding.startDictionaryEncoding(t),N.DictionaryEncoding.addId(t,new uI(e.id,0)),N.DictionaryEncoding.addIsOrdered(t,e.isOrdered),n!==void 0&&N.DictionaryEncoding.addIndexType(t,n),N.DictionaryEncoding.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return N.FixedSizeBinary.startFixedSizeBinary(t),N.FixedSizeBinary.addByteWidth(t,e.byteWidth),N.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return N.FixedSizeList.startFixedSizeList(t),N.FixedSizeList.addListSize(t,e.listSize),N.FixedSizeList.endFixedSizeList(t)}visitMap(e,t){return N.Map.startMap(t),N.Map.addKeysSorted(t,e.keysSorted),N.Map.endMap(t)}};ki.TypeAssembler=_l;ki.instance=new _l});var Vy=g(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.fieldFromJSON=hr.dictionaryBatchFromJSON=hr.recordBatchFromJSON=hr.schemaFromJSON=void 0;var ji=Je(),Se=ce(),Qn=ei(),Ci=ge();function dI(r,e=new Map){return new ji.Schema(hI(r,e),Da(r.customMetadata),e)}hr.schemaFromJSON=dI;function My(r){return new Qn.RecordBatch(r.count,Uy(r.columns),Ey(r.columns))}hr.recordBatchFromJSON=My;function fI(r){return new Qn.DictionaryBatch(My(r.data),r.id,r.isDelta)}hr.dictionaryBatchFromJSON=fI;function hI(r,e){return(r.fields||[]).filter(Boolean).map(t=>ji.Field.fromJSON(t,e))}function Fy(r,e){return(r.children||[]).filter(Boolean).map(t=>ji.Field.fromJSON(t,e))}function Uy(r){return(r||[]).reduce((e,t)=>[...e,new Qn.FieldNode(t.count,pI(t.VALIDITY)),...Uy(t.children)],[])}function Ey(r,e=[]){for(let t=-1,n=(r||[]).length;++t<n;){let i=r[t];i.VALIDITY&&e.push(new Qn.BufferRegion(e.length,i.VALIDITY.length)),i.TYPE&&e.push(new Qn.BufferRegion(e.length,i.TYPE.length)),i.OFFSET&&e.push(new Qn.BufferRegion(e.length,i.OFFSET.length)),i.DATA&&e.push(new Qn.BufferRegion(e.length,i.DATA.length)),e=Ey(i.children,e)}return e}function pI(r){return(r||[]).reduce((e,t)=>e+ +(t===0),0)}function yI(r,e){let t,n,i,s,o,a;return!e||!(s=r.dictionary)?(o=Oy(r,Fy(r,e)),i=new ji.Field(r.name,o,r.nullable,Da(r.customMetadata))):e.has(t=s.id)?(n=(n=s.indexType)?Dy(n):new Se.Int32,a=new Se.Dictionary(e.get(t),n,t,s.isOrdered),i=new ji.Field(r.name,a,r.nullable,Da(r.customMetadata))):(n=(n=s.indexType)?Dy(n):new Se.Int32,e.set(t,o=Oy(r,Fy(r,e))),a=new Se.Dictionary(o,n,t,s.isOrdered),i=new ji.Field(r.name,a,r.nullable,Da(r.customMetadata))),i||null}hr.fieldFromJSON=yI;function Da(r){return new Map(Object.entries(r||{}))}function Dy(r){return new Se.Int(r.isSigned,r.bitWidth)}function Oy(r,e){let t=r.type.name;switch(t){case"NONE":return new Se.Null;case"null":return new Se.Null;case"binary":return new Se.Binary;case"utf8":return new Se.Utf8;case"bool":return new Se.Bool;case"list":return new Se.List((e||[])[0]);case"struct":return new Se.Struct(e||[]);case"struct_":return new Se.Struct(e||[])}switch(t){case"int":{let n=r.type;return new Se.Int(n.isSigned,n.bitWidth)}case"floatingpoint":{let n=r.type;return new Se.Float(Ci.Precision[n.precision])}case"decimal":{let n=r.type;return new Se.Decimal(n.scale,n.precision)}case"date":{let n=r.type;return new Se.Date_(Ci.DateUnit[n.unit])}case"time":{let n=r.type;return new Se.Time(Ci.TimeUnit[n.unit],n.bitWidth)}case"timestamp":{let n=r.type;return new Se.Timestamp(Ci.TimeUnit[n.unit],n.timezone)}case"interval":{let n=r.type;return new Se.Interval(Ci.IntervalUnit[n.unit])}case"union":{let n=r.type;return new Se.Union(Ci.UnionMode[n.mode],n.typeIds||[],e||[])}case"fixedsizebinary":{let n=r.type;return new Se.FixedSizeBinary(n.byteWidth)}case"fixedsizelist":{let n=r.type;return new Se.FixedSizeList(n.listSize,(e||[])[0])}case"map":{let n=r.type;return new Se.Map_((e||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}});var ei=g(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.FieldNode=Mt.BufferRegion=Mt.DictionaryBatch=Mt.RecordBatch=Mt.Message=void 0;var bl=Sr(),P=Qr(),De=Eo(),Ze=Je(),_I=We(),Ee=ge(),ml=Ay(),Ma=Vy(),ti=bl.flatbuffers.Long,mI=bl.flatbuffers.Builder,bI=bl.flatbuffers.ByteBuffer,Ae=ce(),bn=class{constructor(e,t,n,i){this._version=t,this._headerType=n,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){let n=new bn(0,Ee.MetadataVersion.V4,t);return n._createHeader=gI(e,t),n}static decode(e){e=new bI(_I.toUint8Array(e));let t=De.Message.getRootAsMessage(e),n=t.bodyLength(),i=t.version(),s=t.headerType(),o=new bn(n,i,s);return o._createHeader=vI(t,s),o}static encode(e){let t=new mI,n=-1;return e.isSchema()?n=Ze.Schema.encode(t,e.header()):e.isRecordBatch()?n=Ut.encode(t,e.header()):e.isDictionaryBatch()&&(n=pr.encode(t,e.header())),De.Message.startMessage(t),De.Message.addVersion(t,Ee.MetadataVersion.V4),De.Message.addHeader(t,n),De.Message.addHeaderType(t,e.headerType),De.Message.addBodyLength(t,new ti(e.bodyLength,0)),De.Message.finishMessageBuffer(t,De.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof Ze.Schema)return new bn(0,Ee.MetadataVersion.V4,Ee.MessageHeader.Schema,e);if(e instanceof Ut)return new bn(t,Ee.MetadataVersion.V4,Ee.MessageHeader.RecordBatch,e);if(e instanceof pr)return new bn(t,Ee.MetadataVersion.V4,Ee.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ee.MessageHeader.Schema}isRecordBatch(){return this.headerType===Ee.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===Ee.MessageHeader.DictionaryBatch}};Mt.Message=bn;var Ut=class{constructor(e,t,n){this._nodes=t,this._buffers=n,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};Mt.RecordBatch=Ut;var pr=class{constructor(e,t,n=!1){this._data=e,this._isDelta=n,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};Mt.DictionaryBatch=pr;var ri=class{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}};Mt.BufferRegion=ri;var ni=class{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}};Mt.FieldNode=ni;function gI(r,e){return()=>{switch(e){case Ee.MessageHeader.Schema:return Ze.Schema.fromJSON(r);case Ee.MessageHeader.RecordBatch:return Ut.fromJSON(r);case Ee.MessageHeader.DictionaryBatch:return pr.fromJSON(r)}throw new Error(`Unrecognized Message type: { name: ${Ee.MessageHeader[e]}, type: ${e} }`)}}function vI(r,e){return()=>{switch(e){case Ee.MessageHeader.Schema:return Ze.Schema.decode(r.header(new P.Schema));case Ee.MessageHeader.RecordBatch:return Ut.decode(r.header(new De.RecordBatch),r.version());case Ee.MessageHeader.DictionaryBatch:return pr.decode(r.header(new De.DictionaryBatch),r.version())}throw new Error(`Unrecognized Message type: { name: ${Ee.MessageHeader[e]}, type: ${e} }`)}}Ze.Field.encode=UI;Ze.Field.decode=OI;Ze.Field.fromJSON=Ma.fieldFromJSON;Ze.Schema.encode=MI;Ze.Schema.decode=wI;Ze.Schema.fromJSON=Ma.schemaFromJSON;Ut.encode=EI;Ut.decode=BI;Ut.fromJSON=Ma.recordBatchFromJSON;pr.encode=VI;pr.decode=II;pr.fromJSON=Ma.dictionaryBatchFromJSON;ni.encode=RI;ni.decode=SI;ri.encode=xI;ri.decode=TI;function wI(r,e=new Map){let t=DI(r,e);return new Ze.Schema(t,Oa(r),e)}function BI(r,e=Ee.MetadataVersion.V4){return new Ut(r.length(),AI(r),FI(r,e))}function II(r,e=Ee.MetadataVersion.V4){return new pr(Ut.decode(r.data(),e),r.id(),r.isDelta())}function TI(r){return new ri(r.offset(),r.length())}function SI(r){return new ni(r.length(),r.nullCount())}function AI(r){let e=[];for(let t,n=-1,i=-1,s=r.nodesLength();++n<s;)(t=r.nodes(n))&&(e[++i]=ni.decode(t));return e}function FI(r,e){let t=[];for(let n,i=-1,s=-1,o=r.buffersLength();++i<o;)(n=r.buffers(i))&&(e<Ee.MetadataVersion.V4&&(n.bb_pos+=8*(i+1)),t[++s]=ri.decode(n));return t}function DI(r,e){let t=[];for(let n,i=-1,s=-1,o=r.fieldsLength();++i<o;)(n=r.fields(i))&&(t[++s]=Ze.Field.decode(n,e));return t}function Ry(r,e){let t=[];for(let n,i=-1,s=-1,o=r.childrenLength();++i<o;)(n=r.children(i))&&(t[++s]=Ze.Field.decode(n,e));return t}function OI(r,e){let t,n,i,s,o,a;return!e||!(a=r.dictionary())?(i=Py(r,Ry(r,e)),n=new Ze.Field(r.name(),i,r.nullable(),Oa(r))):e.has(t=a.id().low)?(s=(s=a.indexType())?xy(s):new Ae.Int32,o=new Ae.Dictionary(e.get(t),s,t,a.isOrdered()),n=new Ze.Field(r.name(),o,r.nullable(),Oa(r))):(s=(s=a.indexType())?xy(s):new Ae.Int32,e.set(t,i=Py(r,Ry(r,e))),o=new Ae.Dictionary(i,s,t,a.isOrdered()),n=new Ze.Field(r.name(),o,r.nullable(),Oa(r))),n||null}function Oa(r){let e=new Map;if(r)for(let t,n,i=-1,s=r.customMetadataLength()|0;++i<s;)(t=r.customMetadata(i))&&(n=t.key())!=null&&e.set(n,t.value());return e}function xy(r){return new Ae.Int(r.isSigned(),r.bitWidth())}function Py(r,e){let t=r.typeType();switch(t){case P.Type.NONE:return new Ae.Null;case P.Type.Null:return new Ae.Null;case P.Type.Binary:return new Ae.Binary;case P.Type.Utf8:return new Ae.Utf8;case P.Type.Bool:return new Ae.Bool;case P.Type.List:return new Ae.List((e||[])[0]);case P.Type.Struct_:return new Ae.Struct(e||[])}switch(t){case P.Type.Int:{let n=r.type(new P.Int);return new Ae.Int(n.isSigned(),n.bitWidth())}case P.Type.FloatingPoint:{let n=r.type(new P.FloatingPoint);return new Ae.Float(n.precision())}case P.Type.Decimal:{let n=r.type(new P.Decimal);return new Ae.Decimal(n.scale(),n.precision())}case P.Type.Date:{let n=r.type(new P.Date);return new Ae.Date_(n.unit())}case P.Type.Time:{let n=r.type(new P.Time);return new Ae.Time(n.unit(),n.bitWidth())}case P.Type.Timestamp:{let n=r.type(new P.Timestamp);return new Ae.Timestamp(n.unit(),n.timezone())}case P.Type.Interval:{let n=r.type(new P.Interval);return new Ae.Interval(n.unit())}case P.Type.Union:{let n=r.type(new P.Union);return new Ae.Union(n.mode(),n.typeIdsArray()||[],e||[])}case P.Type.FixedSizeBinary:{let n=r.type(new P.FixedSizeBinary);return new Ae.FixedSizeBinary(n.byteWidth())}case P.Type.FixedSizeList:{let n=r.type(new P.FixedSizeList);return new Ae.FixedSizeList(n.listSize(),(e||[])[0])}case P.Type.Map:{let n=r.type(new P.Map);return new Ae.Map_((e||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${P.Type[t]}" (${t})`)}function MI(r,e){let t=e.fields.map(s=>Ze.Field.encode(r,s));P.Schema.startFieldsVector(r,t.length);let n=P.Schema.createFieldsVector(r,t),i=e.metadata&&e.metadata.size>0?P.Schema.createCustomMetadataVector(r,[...e.metadata].map(([s,o])=>{let a=r.createString(`${s}`),c=r.createString(`${o}`);return P.KeyValue.startKeyValue(r),P.KeyValue.addKey(r,a),P.KeyValue.addValue(r,c),P.KeyValue.endKeyValue(r)})):-1;return P.Schema.startSchema(r),P.Schema.addFields(r,n),P.Schema.addEndianness(r,PI?P.Endianness.Little:P.Endianness.Big),i!==-1&&P.Schema.addCustomMetadata(r,i),P.Schema.endSchema(r)}function UI(r,e){let t=-1,n=-1,i=-1,s=e.type,o=e.typeId;Ae.DataType.isDictionary(s)?(o=s.dictionary.typeId,i=ml.instance.visit(s,r),n=ml.instance.visit(s.dictionary,r)):n=ml.instance.visit(s,r);let a=(s.children||[]).map(y=>Ze.Field.encode(r,y)),c=P.Field.createChildrenVector(r,a),f=e.metadata&&e.metadata.size>0?P.Field.createCustomMetadataVector(r,[...e.metadata].map(([y,B])=>{let F=r.createString(`${y}`),A=r.createString(`${B}`);return P.KeyValue.startKeyValue(r),P.KeyValue.addKey(r,F),P.KeyValue.addValue(r,A),P.KeyValue.endKeyValue(r)})):-1;return e.name&&(t=r.createString(e.name)),P.Field.startField(r),P.Field.addType(r,n),P.Field.addTypeType(r,o),P.Field.addChildren(r,c),P.Field.addNullable(r,!!e.nullable),t!==-1&&P.Field.addName(r,t),i!==-1&&P.Field.addDictionary(r,i),f!==-1&&P.Field.addCustomMetadata(r,f),P.Field.endField(r)}function EI(r,e){let t=e.nodes||[],n=e.buffers||[];De.RecordBatch.startNodesVector(r,t.length),t.slice().reverse().forEach(o=>ni.encode(r,o));let i=r.endVector();De.RecordBatch.startBuffersVector(r,n.length),n.slice().reverse().forEach(o=>ri.encode(r,o));let s=r.endVector();return De.RecordBatch.startRecordBatch(r),De.RecordBatch.addLength(r,new ti(e.length,0)),De.RecordBatch.addNodes(r,i),De.RecordBatch.addBuffers(r,s),De.RecordBatch.endRecordBatch(r)}function VI(r,e){let t=Ut.encode(r,e.data);return De.DictionaryBatch.startDictionaryBatch(r),De.DictionaryBatch.addId(r,new ti(e.id,0)),De.DictionaryBatch.addIsDelta(r,e.isDelta),De.DictionaryBatch.addData(r,t),De.DictionaryBatch.endDictionaryBatch(r)}function RI(r,e){return De.FieldNode.createFieldNode(r,new ti(e.length,0),new ti(e.nullCount,0))}function xI(r,e){return P.Buffer.createBuffer(r,new ti(e.offset,0),new ti(e.length,0))}var PI=function(){let r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256}()});var Ea=g(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.magicX2AndPadding=oe.magicAndPadding=oe.magicLength=oe.checkForMagicArrowString=oe.MAGIC=oe.MAGIC_STR=oe.PADDING=oe.JSONMessageReader=oe.AsyncMessageReader=oe.MessageReader=void 0;var gn=it(),vn=ge(),NI=Sr(),Ny=NI.flatbuffers.ByteBuffer,Ps=ei(),LI=st(),kI=sl(),Ly=We(),Ua=hn(),Gt=di(),gl=r=>`Expected ${vn.MessageHeader[r]} Message in stream, but was null or length 0.`,vl=r=>`Header pointer of flatbuffer-encoded ${vn.MessageHeader[r]} Message is null or length 0.`,ky=(r,e)=>`Expected to read ${r} metadata bytes, but only read ${e}.`,Cy=(r,e)=>`Expected to read ${r} bytes for message body, but only read ${e}.`,wl=class{constructor(e){this.source=e instanceof Ua.ByteStream?e:new Ua.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?Gt.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(gl(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=Ly.toUint8Array(this.source.read(e));if(t.byteLength<e)throw new Error(Cy(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=vn.MessageHeader.Schema,n=this.readMessage(t),i=n==null?void 0:n.header();if(e&&!i)throw new Error(vl(t));return i}readMetadataLength(){let e=this.source.read(oe.PADDING),t=e&&new Ny(e),n=(t==null?void 0:t.readInt32(0))||0;return{done:n===0,value:n}}readMetadata(e){let t=this.source.read(e);if(!t)return Gt.ITERATOR_DONE;if(t.byteLength<e)throw new Error(ky(e,t.byteLength));return{done:!1,value:Ps.Message.decode(t)}}};oe.MessageReader=wl;var jy=class{constructor(e,t){this.source=e instanceof Ua.AsyncByteStream?e:LI.isFileHandle(e)?new kI.AsyncRandomAccessFile(e,t):new Ua.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return gn.__awaiter(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?Gt.ITERATOR_DONE:e})}throw(e){return gn.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return gn.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return gn.__awaiter(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(gl(e));return t.value})}readMessageBody(e){return gn.__awaiter(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);let t=Ly.toUint8Array(yield this.source.read(e));if(t.byteLength<e)throw new Error(Cy(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return gn.__awaiter(this,void 0,void 0,function*(){let t=vn.MessageHeader.Schema,n=yield this.readMessage(t),i=n==null?void 0:n.header();if(e&&!i)throw new Error(vl(t));return i})}readMetadataLength(){return gn.__awaiter(this,void 0,void 0,function*(){let e=yield this.source.read(oe.PADDING),t=e&&new Ny(e),n=(t==null?void 0:t.readInt32(0))||0;return{done:n===0,value:n}})}readMetadata(e){return gn.__awaiter(this,void 0,void 0,function*(){let t=yield this.source.read(e);if(!t)return Gt.ITERATOR_DONE;if(t.byteLength<e)throw new Error(ky(e,t.byteLength));return{done:!1,value:Ps.Message.decode(t)}})}};oe.AsyncMessageReader=jy;var qy=class extends wl{constructor(e){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof Gt.ArrowJSON?e:new Gt.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema){this._schema=!0;let t=Ps.Message.fromJSON(e.schema,vn.MessageHeader.Schema);return{done:!1,value:t}}if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];this._body=t.data.columns;let n=Ps.Message.fromJSON(t,vn.MessageHeader.DictionaryBatch);return{done:!1,value:n}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];this._body=t.columns;let n=Ps.Message.fromJSON(t,vn.MessageHeader.RecordBatch);return{done:!1,value:n}}return this._body=[],Gt.ITERATOR_DONE}readMessageBody(e){return t(this._body);function t(n){return(n||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...t(s.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(gl(e));return t.value}readSchema(){let e=vn.MessageHeader.Schema,t=this.readMessage(e),n=t==null?void 0:t.header();if(!t||!n)throw new Error(vl(e));return n}};oe.JSONMessageReader=qy;oe.PADDING=4;oe.MAGIC_STR="ARROW1";oe.MAGIC=new Uint8Array(oe.MAGIC_STR.length);for(let r=0;r<oe.MAGIC_STR.length;r+=1)oe.MAGIC[r]=oe.MAGIC_STR.charCodeAt(r);function CI(r,e=0){for(let t=-1,n=oe.MAGIC.length;++t<n;)if(oe.MAGIC[t]!==r[e+t])return!1;return!0}oe.checkForMagicArrowString=CI;oe.magicLength=oe.MAGIC.length;oe.magicAndPadding=oe.magicLength+oe.PADDING;oe.magicX2AndPadding=oe.magicLength*2+oe.PADDING});var Sl=g(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.compareTypes=Ve.compareFields=Ve.compareSchemas=Ve.instance=Ve.TypeComparator=void 0;var jI=et(),j=class extends jI.Visitor{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((n,i)=>this.compareFields(n,t[i]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}};Ve.TypeComparator=j;function lt(r,e){return e instanceof r.constructor}function Ns(r,e){return r===e||lt(r,e)}function xr(r,e){return r===e||lt(r,e)&&r.bitWidth===e.bitWidth&&r.isSigned===e.isSigned}function Va(r,e){return r===e||lt(r,e)&&r.precision===e.precision}function qI(r,e){return r===e||lt(r,e)&&r.byteWidth===e.byteWidth}function Bl(r,e){return r===e||lt(r,e)&&r.unit===e.unit}function Ls(r,e){return r===e||lt(r,e)&&r.unit===e.unit&&r.timezone===e.timezone}function ks(r,e){return r===e||lt(r,e)&&r.unit===e.unit&&r.bitWidth===e.bitWidth}function HI(r,e){return r===e||lt(r,e)&&r.children.length===e.children.length&&Ve.instance.compareManyFields(r.children,e.children)}function zI(r,e){return r===e||lt(r,e)&&r.children.length===e.children.length&&Ve.instance.compareManyFields(r.children,e.children)}function Il(r,e){return r===e||lt(r,e)&&r.mode===e.mode&&r.typeIds.every((t,n)=>t===e.typeIds[n])&&Ve.instance.compareManyFields(r.children,e.children)}function WI(r,e){return r===e||lt(r,e)&&r.id===e.id&&r.isOrdered===e.isOrdered&&Ve.instance.visit(r.indices,e.indices)&&Ve.instance.visit(r.dictionary,e.dictionary)}function Tl(r,e){return r===e||lt(r,e)&&r.unit===e.unit}function YI(r,e){return r===e||lt(r,e)&&r.listSize===e.listSize&&r.children.length===e.children.length&&Ve.instance.compareManyFields(r.children,e.children)}function GI(r,e){return r===e||lt(r,e)&&r.keysSorted===e.keysSorted&&r.children.length===e.children.length&&Ve.instance.compareManyFields(r.children,e.children)}j.prototype.visitNull=Ns;j.prototype.visitBool=Ns;j.prototype.visitInt=xr;j.prototype.visitInt8=xr;j.prototype.visitInt16=xr;j.prototype.visitInt32=xr;j.prototype.visitInt64=xr;j.prototype.visitUint8=xr;j.prototype.visitUint16=xr;j.prototype.visitUint32=xr;j.prototype.visitUint64=xr;j.prototype.visitFloat=Va;j.prototype.visitFloat16=Va;j.prototype.visitFloat32=Va;j.prototype.visitFloat64=Va;j.prototype.visitUtf8=Ns;j.prototype.visitBinary=Ns;j.prototype.visitFixedSizeBinary=qI;j.prototype.visitDate=Bl;j.prototype.visitDateDay=Bl;j.prototype.visitDateMillisecond=Bl;j.prototype.visitTimestamp=Ls;j.prototype.visitTimestampSecond=Ls;j.prototype.visitTimestampMillisecond=Ls;j.prototype.visitTimestampMicrosecond=Ls;j.prototype.visitTimestampNanosecond=Ls;j.prototype.visitTime=ks;j.prototype.visitTimeSecond=ks;j.prototype.visitTimeMillisecond=ks;j.prototype.visitTimeMicrosecond=ks;j.prototype.visitTimeNanosecond=ks;j.prototype.visitDecimal=Ns;j.prototype.visitList=HI;j.prototype.visitStruct=zI;j.prototype.visitUnion=Il;j.prototype.visitDenseUnion=Il;j.prototype.visitSparseUnion=Il;j.prototype.visitDictionary=WI;j.prototype.visitInterval=Tl;j.prototype.visitIntervalDayTime=Tl;j.prototype.visitIntervalYearMonth=Tl;j.prototype.visitFixedSizeList=YI;j.prototype.visitMap=GI;Ve.instance=new j;function $I(r,e){return Ve.instance.compareSchemas(r,e)}Ve.compareSchemas=$I;function KI(r,e){return Ve.instance.compareFields(r,e)}Ve.compareFields=KI;function JI(r,e){return Ve.instance.visit(r,e)}Ve.compareTypes=JI});var Gy=g(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.VectorAssembler=void 0;var XI=et(),Hy=ge(),ZI=Pr(),Dl=We(),Al=or(),QI=Xn(),Wy=ei(),zy=ce(),He=class extends XI.Visitor{constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=new He,n=QI.selectVectorChildrenArgs(ZI.RecordBatch,e),[i=t]=t.visitMany(n);return i}visit(e){if(!zy.DataType.isDictionary(e.type)){let{data:t,length:n,nullCount:i}=e;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");zy.DataType.isNull(e.type)||$t.call(this,i<=0?new Uint8Array(0):Al.truncateBitmap(t.offset,n,t.nullBitmap)),this.nodes.push(new Wy.FieldNode(n,i))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};Ra.VectorAssembler=He;function $t(r){let e=r.byteLength+7&-8;return this.buffers.push(r),this.bufferRegions.push(new Wy.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function eT(r){let{type:e,length:t,typeIds:n,valueOffsets:i}=r;if($t.call(this,n),e.mode===Hy.UnionMode.Sparse)return Fl.call(this,r);if(e.mode===Hy.UnionMode.Dense){if(r.offset<=0)return $t.call(this,i),Fl.call(this,r);{let s=n.reduce((y,B)=>Math.max(y,B),n[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),c=new Int32Array(t),f=Dl.rebaseValueOffsets(-i[0],t,i);for(let y,B,F=-1;++F<t;)(B=a[y=n[F]])===-1&&(B=a[y]=f[y]),c[F]=f[F]-B,++o[y];$t.call(this,c);for(let y,B=-1,F=e.children.length;++B<F;)if(y=r.getChildAt(B)){let A=e.typeIds[B],ne=Math.min(t,o[A]);this.visit(y.slice(a[A],ne))}}}return this}function tT(r){let e;return r.nullCount>=r.length?$t.call(this,new Uint8Array(0)):(e=r.values)instanceof Uint8Array?$t.call(this,Al.truncateBitmap(r.offset,r.length,e)):$t.call(this,Al.packBools(r))}function wn(r){return $t.call(this,r.values.subarray(0,r.length*r.stride))}function Yy(r){let{length:e,values:t,valueOffsets:n}=r,i=n[0],s=n[e],o=Math.min(s-i,t.byteLength-i);return $t.call(this,Dl.rebaseValueOffsets(-n[0],e,n)),$t.call(this,t.subarray(i,i+o)),this}function Ol(r){let{length:e,valueOffsets:t}=r;return t&&$t.call(this,Dl.rebaseValueOffsets(t[0],e,t)),this.visit(r.getChildAt(0))}function Fl(r){return this.visitMany(r.type.children.map((e,t)=>r.getChildAt(t)).filter(Boolean))[0]}He.prototype.visitBool=tT;He.prototype.visitInt=wn;He.prototype.visitFloat=wn;He.prototype.visitUtf8=Yy;He.prototype.visitBinary=Yy;He.prototype.visitFixedSizeBinary=wn;He.prototype.visitDate=wn;He.prototype.visitTimestamp=wn;He.prototype.visitTime=wn;He.prototype.visitDecimal=wn;He.prototype.visitList=Ol;He.prototype.visitStruct=Fl;He.prototype.visitUnion=eT;He.prototype.visitInterval=wn;He.prototype.visitFixedSizeList=Ol;He.prototype.visitMap=Ol});var Ky=g(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.JSONTypeAssembler=void 0;var rT=et(),rt=Qr(),qi=ge(),$y=class extends rT.Visitor{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:rt.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:n}){return{name:rt.Type[e].toLowerCase(),bitWidth:t,isSigned:n}}visitFloat({typeId:e,precision:t}){return{name:rt.Type[e].toLowerCase(),precision:qi.Precision[t]}}visitBinary({typeId:e}){return{name:rt.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:rt.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:rt.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:n}){return{name:rt.Type[e].toLowerCase(),scale:t,precision:n}}visitDate({typeId:e,unit:t}){return{name:rt.Type[e].toLowerCase(),unit:qi.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:n}){return{name:rt.Type[e].toLowerCase(),unit:qi.TimeUnit[t],bitWidth:n}}visitTimestamp({typeId:e,timezone:t,unit:n}){return{name:rt.Type[e].toLowerCase(),unit:qi.TimeUnit[n],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:rt.Type[e].toLowerCase(),unit:qi.IntervalUnit[t]}}visitList({typeId:e}){return{name:rt.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:rt.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:n}){return{name:rt.Type[e].toLowerCase(),mode:qi.UnionMode[t],typeIds:[...n]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:rt.Type[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:rt.Type[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:rt.Type[e].toLowerCase(),keysSorted:t}}};xa.JSONTypeAssembler=$y});var Zy=g(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.JSONVectorAssembler=void 0;var nT=Fs(),Cs=Li(),iT=Ne(),sT=et(),oT=ge(),aT=Pr(),Ml=ge(),Pa=or(),cT=Xn(),Jy=ce(),Na=class extends sT.Visitor{static assemble(...e){return new Na().visitMany(cT.selectColumnChildrenArgs(aT.RecordBatch,e))}visit(e){let{data:t,name:n,length:i}=e,{offset:s,nullCount:o,nullBitmap:a}=t,c=Jy.DataType.isDictionary(e.type)?e.type.indices:e.type,f=Object.assign([],t.buffers,{[oT.BufferType.VALIDITY]:void 0});return Object.assign({name:n,count:i,VALIDITY:Jy.DataType.isNull(c)?void 0:o<=0?Array.from({length:i},()=>1):[...new Pa.BitIterator(a,s,i,null,Pa.getBit)]},super.visit(iT.Vector.new(t.clone(c,s,i,0,f))))}visitNull(){return{}}visitBool({values:e,offset:t,length:n}){return{DATA:[...new Pa.BitIterator(e,t,n,null,Pa.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...js(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...e],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...Xy(e)],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...Xy(e)]}}visitDate(e){return{DATA:e.type.unit===Ml.DateUnit.DAY?[...e.values]:[...js(e.values,2)]}}visitTimestamp(e){return{DATA:[...js(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<Ml.TimeUnit.MICROSECOND?[...e.values]:[...js(e.values,2)]}}visitDecimal(e){return{DATA:[...js(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map((t,n)=>this.visit(new Cs.Column(t,[e.getChildAt(n)])))}}visitStruct(e){return{children:e.type.children.map((t,n)=>this.visit(new Cs.Column(t,[e.getChildAt(n)])))}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===Ml.UnionMode.Dense?[...e.valueOffsets]:void 0,children:e.type.children.map((t,n)=>this.visit(new Cs.Column(t,[e.getChildAt(n)])))}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:e.type.children.map((t,n)=>this.visit(new Cs.Column(t,[e.getChildAt(n)])))}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map((t,n)=>this.visit(new Cs.Column(t,[e.getChildAt(n)])))}}};La.JSONVectorAssembler=Na;function*Xy(r){for(let e of r)yield e.reduce((t,n)=>`${t}${("0"+(n&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*js(r,e){for(let t=-1,n=r.length/e;++t<n;)yield`${nT.BN.new(r.subarray((t+0)*e,(t+1)*e),!1)}`}});var Ha=g(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.RecordBatchJSONWriter=_r.RecordBatchFileWriter=_r.RecordBatchStreamWriter=_r.RecordBatchWriter=void 0;var Qy=it(),Rl=Hs(),uT=Ea(),lT=Li(),dT=ce(),fT=Je(),ka=ei(),Ul=ei(),Hi=rl(),xl=ge(),e_=Sl(),El=hn(),t_=Gy(),hT=Ky(),r_=Zy(),pT=We(),Vl=Pr(),yT=di(),yr=st(),qs=class extends yT.ReadableInterop{constructor(e){super();this._position=0,this._started=!1,this._sink=new El.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,yr.isObject(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return yr.isPromise(e)?e.then(t=>this.writeAll(t)):yr.isAsyncIterable(e)?Nl(this,e):Pl(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof El.AsyncByteQueue?this._sink=e:(this._sink=new El.AsyncByteQueue,e&&yr.isWritableDOMStream(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&yr.isWritableNodeStream(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!e_.compareSchemas(t,this._schema))&&(t===null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Rl.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof Vl.RecordBatch&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!e_.compareSchemas(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof Vl.RecordBatch?e instanceof Vl._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof Rl.Table?this.writeAll(e.chunks):yr.isIterable(e)&&this.writeAll(e)}_writeMessage(e,t=8){let n=t-1,i=ka.Message.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+n&~n,c=a-s-o;return e.headerType===xl.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new Hi.FileBlock(a,e.bodyLength,this._position)):e.headerType===xl.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new Hi.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(c)}_write(e){if(this._started){let t=pT.toUint8Array(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(ka.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(uT.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:n,bufferRegions:i,buffers:s}=t_.VectorAssembler.assemble(e),o=new Ul.RecordBatch(e.length,n,i),a=ka.Message.from(o,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,t,n=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=t_.VectorAssembler.assemble(e),c=new Ul.RecordBatch(e.length,s,o),f=new Ul.DictionaryBatch(c,t,n),y=ka.Message.from(f,i);return this._writeMessage(y)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,n,i;for(let s=-1,o=e.length;++s<o;)(t=e[s])&&(n=t.byteLength)>0&&(this._write(t),(i=(n+7&-8)-n)>0&&this._writePadding(i));return this}_writeDictionaries(e){for(let[t,n]of e.dictionaries){let i=this._dictionaryDeltaOffsets.get(t)||0;if(i===0||(n=n.slice(i)).length>0){let s="chunks"in n?n.chunks:[n];for(let o of s)this._writeDictionaryBatch(o,t,i>0),i+=o.length}}return this}};_r.RecordBatchWriter=qs;var Ca=class extends qs{static writeAll(e,t){let n=new Ca(t);return yr.isPromise(e)?e.then(i=>n.writeAll(i)):yr.isAsyncIterable(e)?Nl(n,e):Pl(n,e)}};_r.RecordBatchStreamWriter=Ca;var ja=class extends qs{static writeAll(e){let t=new ja;return yr.isPromise(e)?e.then(n=>t.writeAll(n)):yr.isAsyncIterable(e)?Nl(t,e):Pl(t,e)}constructor(){super();this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=Hi.Footer.encode(new Hi.Footer(e,xl.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};_r.RecordBatchFileWriter=ja;var qa=class extends qs{constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return new qa().writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(n_)},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,n=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${_T(e,t,n)}`),this._dictionaryBlocks.push(new Hi.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,t=this._recordBatches.length;++e<t;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(`${mT(this._recordBatches[e])}`),this._recordBatchBlocks.push(new Hi.FileBlock(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}};_r.RecordBatchJSONWriter=qa;function Pl(r,e){let t=e;e instanceof Rl.Table&&(t=e.chunks,r.reset(void 0,e.schema));for(let n of t)r.write(n);return r.finish()}function Nl(r,e){var t,n,i,s;return Qy.__awaiter(this,void 0,void 0,function*(){try{for(t=Qy.__asyncValues(e);n=yield t.next(),!n.done;){let o=n.value;r.write(o)}}catch(o){i={error:o}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}return r.finish()})}function n_({name:r,type:e,nullable:t}){let n=new hT.JSONTypeAssembler;return{name:r,nullable:t,type:n.visit(e),children:(e.children||[]).map(n_),dictionary:dT.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:n.visit(e.indices)}:void 0}}function _T(r,e,t=!1){let n=new fT.Field(`${e}`,r.type,r.nullCount>0),i=r_.JSONVectorAssembler.assemble(new lT.Column(n,[r]));return JSON.stringify({id:e,isDelta:t,data:{count:r.length,columns:i}},null,2)}function mT(r){return JSON.stringify({count:r.length,columns:r_.JSONVectorAssembler.assemble(r)},null,2)}});var Cl=g(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.distributeVectorsIntoRecordBatches=Bn.distributeColumnsIntoRecordBatches=Bn.ensureSameLengthData=void 0;var i_=Ht(),kl=Je(),bT=mn(),gT=Pr(),Ll=new Uint8Array(0),s_=r=>[Ll,Ll,new Uint8Array(r),Ll];function vT(r,e,t=e.reduce((n,i)=>Math.max(n,i.length),0)){let n,i,s=-1,o=e.length,a=[...r.fields],c=[],f=(t+63&-64)>>3;for(;++s<o;)(n=e[s])&&n.length===t?c[s]=n:((i=a[s]).nullable||(a[s]=a[s].clone({nullable:!0})),c[s]=n?n._changeLengthAndBackfillNullBitmap(t):i_.Data.new(i.type,0,t,t,s_(f)));return[new kl.Schema(a),t,c]}Bn.ensureSameLengthData=vT;function wT(r){return o_(new kl.Schema(r.map(({field:e})=>e)),r)}Bn.distributeColumnsIntoRecordBatches=wT;function o_(r,e){return BT(r,e.map(t=>t instanceof bT.Chunked?t.chunks.map(n=>n.data):[t.data]))}Bn.distributeVectorsIntoRecordBatches=o_;function BT(r,e){let t=[...r.fields],n=[],i={numBatches:e.reduce((B,F)=>Math.max(B,F.length),0)},s=0,o=0,a=-1,c=e.length,f,y=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<c;)y[a]=f=e[a].shift(),o=Math.min(o,f?f.length:o);isFinite(o)&&(y=IT(t,o,y,e,i),o>0&&(n[s++]=[o,y.slice()]))}return[r=new kl.Schema(t,r.metadata),n.map(B=>new gT.RecordBatch(r,...B))]}function IT(r,e,t,n,i){let s,o,a=0,c=-1,f=n.length,y=(e+63&-64)>>3;for(;++c<f;)(s=t[c])&&(a=s.length)>=e?a===e?t[c]=s:(t[c]=s.slice(0,e),s=s.slice(e,a-e),i.numBatches=Math.max(i.numBatches,n[c].unshift(s))):((o=r[c]).nullable||(r[c]=o.clone({nullable:!0})),t[c]=s?s._changeLengthAndBackfillNullBitmap(e):i_.Data.new(o.type,0,e,e,s_(y)));return t}});var ke=g(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.BaseVector=void 0;var TT=ge(),ST=mn(),AT=xs(),jl=Ne(),ql=class extends jl.AbstractVector{constructor(e,t){super();this._children=t,this.numChildren=e.childData.length,this._bindDataAccessors(this.data=e)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return`${TT.Type[this.typeId]}Vector`}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}clone(e,t=this._children){return jl.Vector.new(e,t)}concat(...e){return ST.Chunked.concat(this,...e)}slice(e,t){return AT.clampRange(this,e,t,this._sliceInternal)}isValid(e){if(this.nullCount>0){let t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}getChildAt(e){return e<0||e>=this.numChildren?null:(this._children||(this._children=[]))[e]||(this._children[e]=jl.Vector.new(this.data.childData[e]))}toJSON(){return[...this]}_sliceInternal(e,t,n){return e.clone(e.data.slice(t,n-t),null)}_bindDataAccessors(e){}};za.BaseVector=ql;ql.prototype[Symbol.isConcatSpreadable]=!0});var Hl=g(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.BinaryVector=void 0;var FT=Ne(),DT=ke(),OT=ce(),a_=class extends DT.BaseVector{asUtf8(){return FT.Vector.new(this.data.clone(new OT.Utf8))}};Wa.BinaryVector=a_});var zl=g(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.BoolVector=void 0;var MT=ce(),UT=ke(),ET=mr(),c_=class extends UT.BaseVector{static from(e){return ET.vectorFromValuesWithType(()=>new MT.Bool,e)}};Ya.BoolVector=c_});var Yl=g(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.DateMillisecondVector=In.DateDayVector=In.DateVector=void 0;var VT=ge(),RT=ke(),u_=mr(),Wl=ce(),Ga=class extends RT.BaseVector{static from(...e){return e.length===2?u_.vectorFromValuesWithType(()=>e[1]===VT.DateUnit.DAY?new Wl.DateDay:new Wl.DateMillisecond,e[0]):u_.vectorFromValuesWithType(()=>new Wl.DateMillisecond,e[0])}};In.DateVector=Ga;var l_=class extends Ga{};In.DateDayVector=l_;var d_=class extends Ga{};In.DateMillisecondVector=d_});var Gl=g($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.DecimalVector=void 0;var xT=ke(),f_=class extends xT.BaseVector{};$a.DecimalVector=f_});var Ja=g(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.DictionaryVector=void 0;var PT=Ht(),h_=Ne(),NT=ke(),LT=mr(),kT=ce(),$l=class extends NT.BaseVector{constructor(e){super(e);this.indices=h_.Vector.new(e.clone(this.type.indices))}static from(...e){if(e.length===3){let[t,n,i]=e,s=new kT.Dictionary(t.type,n,null,null);return h_.Vector.new(PT.Data.Dictionary(s,0,i.length,0,null,i,t))}return LT.vectorFromValuesWithType(()=>e[0].type,e[0])}get dictionary(){return this.data.dictionary}reverseLookup(e){return this.dictionary.indexOf(e)}getKey(e){return this.indices.get(e)}getValue(e){return this.dictionary.get(e)}setKey(e,t){return this.indices.set(e,t)}setValue(e,t){return this.dictionary.set(e,t)}};Ka.DictionaryVector=$l;$l.prototype.indices=null});var Kl=g(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.FixedSizeBinaryVector=void 0;var CT=ke(),p_=class extends CT.BaseVector{};Xa.FixedSizeBinaryVector=p_});var Jl=g(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.FixedSizeListVector=void 0;var jT=ke(),y_=class extends jT.BaseVector{};Za.FixedSizeListVector=y_});var ed=g(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.Float64Vector=br.Float32Vector=br.Float16Vector=br.FloatVector=void 0;var qT=Ht(),HT=Ne(),zT=ke(),WT=mr(),ii=ce(),zs=class extends zT.BaseVector{static from(e){let t=$T(this);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){let n=GT(e.constructor)||t;if(t===null&&(t=n),t&&t===n){let i=new t,s=e.byteLength/i.ArrayType.BYTES_PER_ELEMENT;if(!YT(t,e.constructor))return HT.Vector.new(qT.Data.Float(i,0,s,0,null,e))}}if(t)return WT.vectorFromValuesWithType(()=>new t,e);throw e instanceof DataView||e instanceof ArrayBuffer?new TypeError(`Cannot infer float type from instance of ${e.constructor.name}`):new TypeError("Unrecognized FloatVector input")}};br.FloatVector=zs;var Xl=class extends zs{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}};br.Float16Vector=Xl;var Zl=class extends zs{};br.Float32Vector=Zl;var Ql=class extends zs{};br.Float64Vector=Ql;var YT=(r,e)=>r===ii.Float16&&e!==Uint16Array,GT=r=>{switch(r){case Uint16Array:return ii.Float16;case Float32Array:return ii.Float32;case Float64Array:return ii.Float64;default:return null}},$T=r=>{switch(r){case Xl:return ii.Float16;case Zl:return ii.Float32;case Ql:return ii.Float64;default:return null}}});var td=g(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.IntervalYearMonthVector=Tn.IntervalDayTimeVector=Tn.IntervalVector=void 0;var KT=ke(),Qa=class extends KT.BaseVector{};Tn.IntervalVector=Qa;var __=class extends Qa{};Tn.IntervalDayTimeVector=__;var m_=class extends Qa{};Tn.IntervalYearMonthVector=m_});var ec=g(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.Uint64Vector=ze.Uint32Vector=ze.Uint16Vector=ze.Uint8Vector=ze.Int64Vector=ze.Int32Vector=ze.Int16Vector=ze.Int8Vector=ze.IntVector=void 0;var JT=Ht(),XT=Ne(),ZT=ke(),QT=mr(),b_=st(),g_=We(),Re=ce(),gr=class extends ZT.BaseVector{static from(...e){let[t,n=!1]=e,i=rS(this,n);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){let s=tS(t.constructor,n)||i;if(i===null&&(i=s),i&&i===s){let o=new i,a=t.byteLength/o.ArrayType.BYTES_PER_ELEMENT;return eS(i,t.constructor)&&(a*=.5),XT.Vector.new(JT.Data.Int(o,0,a,0,null,t))}}if(i)return QT.vectorFromValuesWithType(()=>new i,t);throw t instanceof DataView||t instanceof ArrayBuffer?new TypeError(`Cannot infer integer type from instance of ${t.constructor.name}`):new TypeError("Unrecognized IntVector input")}};ze.IntVector=gr;var rd=class extends gr{};ze.Int8Vector=rd;var nd=class extends gr{};ze.Int16Vector=nd;var id=class extends gr{};ze.Int32Vector=id;var sd=class extends gr{toBigInt64Array(){return g_.toBigInt64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}};ze.Int64Vector=sd;var od=class extends gr{};ze.Uint8Vector=od;var ad=class extends gr{};ze.Uint16Vector=ad;var cd=class extends gr{};ze.Uint32Vector=cd;var ud=class extends gr{toBigUint64Array(){return g_.toBigUint64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}};ze.Uint64Vector=ud;var eS=(r,e)=>(r===Re.Int64||r===Re.Uint64)&&(e===Int32Array||e===Uint32Array),tS=(r,e)=>{switch(r){case Int8Array:return Re.Int8;case Int16Array:return Re.Int16;case Int32Array:return e?Re.Int64:Re.Int32;case b_.BigInt64Array:return Re.Int64;case Uint8Array:return Re.Uint8;case Uint16Array:return Re.Uint16;case Uint32Array:return e?Re.Uint64:Re.Uint32;case b_.BigUint64Array:return Re.Uint64;default:return null}},rS=(r,e)=>{switch(r){case rd:return Re.Int8;case nd:return Re.Int16;case id:return e?Re.Int64:Re.Int32;case sd:return Re.Int64;case od:return Re.Uint8;case ad:return Re.Uint16;case cd:return e?Re.Uint64:Re.Uint32;case ud:return Re.Uint64;default:return null}}});var ld=g(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.ListVector=void 0;var nS=ke(),v_=class extends nS.BaseVector{};tc.ListVector=v_});var dd=g(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.MapVector=void 0;var iS=Vs(),sS=Ne(),oS=ke(),aS=ce(),w_=class extends oS.BaseVector{asList(){let e=this.type.children[0];return sS.Vector.new(this.data.clone(new aS.List(e)))}bind(e){let t=this.getChildAt(0),{[e]:n,[e+1]:i}=this.valueOffsets;return new iS.MapRow(t.slice(n,i))}};rc.MapVector=w_});var fd=g(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.NullVector=void 0;var cS=ke(),B_=class extends cS.BaseVector{};nc.NullVector=B_});var hd=g(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.StructVector=void 0;var uS=Vs(),lS=ke(),dS=Symbol.for("rowIndex"),I_=class extends lS.BaseVector{bind(e){let t=this._row||(this._row=new uS.StructRow(this)),n=Object.create(t);return n[dS]=e,n}};ic.StructVector=I_});var pd=g(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.TimestampNanosecondVector=Et.TimestampMicrosecondVector=Et.TimestampMillisecondVector=Et.TimestampSecondVector=Et.TimestampVector=void 0;var fS=ke(),zi=class extends fS.BaseVector{};Et.TimestampVector=zi;var T_=class extends zi{};Et.TimestampSecondVector=T_;var S_=class extends zi{};Et.TimestampMillisecondVector=S_;var A_=class extends zi{};Et.TimestampMicrosecondVector=A_;var F_=class extends zi{};Et.TimestampNanosecondVector=F_});var yd=g(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.TimeNanosecondVector=Vt.TimeMicrosecondVector=Vt.TimeMillisecondVector=Vt.TimeSecondVector=Vt.TimeVector=void 0;var hS=ke(),Wi=class extends hS.BaseVector{};Vt.TimeVector=Wi;var D_=class extends Wi{};Vt.TimeSecondVector=D_;var O_=class extends Wi{};Vt.TimeMillisecondVector=O_;var M_=class extends Wi{};Vt.TimeMicrosecondVector=M_;var U_=class extends Wi{};Vt.TimeNanosecondVector=U_});var _d=g(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.SparseUnionVector=Sn.DenseUnionVector=Sn.UnionVector=void 0;var pS=ke(),sc=class extends pS.BaseVector{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}};Sn.UnionVector=sc;var E_=class extends sc{get valueOffsets(){return this.data.valueOffsets}};Sn.DenseUnionVector=E_;var V_=class extends sc{};Sn.SparseUnionVector=V_});var md=g(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.Utf8Vector=void 0;var yS=Ne(),_S=ke(),R_=ce(),mS=mr(),x_=class extends _S.BaseVector{static from(e){return mS.vectorFromValuesWithType(()=>new R_.Utf8,e)}asBinary(){return yS.Vector.new(this.data.clone(new R_.Binary))}};oc.Utf8Vector=x_});var P_=g(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.partial2=An.partial1=An.partial0=void 0;function bS(r){return function(){return r(this)}}An.partial0=bS;function gS(r){return function(e){return r(this,e)}}An.partial1=gS;function vS(r){return function(e,t){return r(this,e,t)}}An.partial2=vS});var vd=g(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.instance=Yi.GetVisitor=void 0;var ac=Fs(),wS=et(),BS=Nn(),IS=Is(),Rt=ge(),q=class extends wS.Visitor{};Yi.GetVisitor=q;var TS=(r,e)=>864e5*r[e],bd=(r,e)=>4294967296*r[e+1]+(r[e]>>>0),SS=(r,e)=>4294967296*(r[e+1]/1e3)+(r[e]>>>0)/1e3,AS=(r,e)=>4294967296*(r[e+1]/1e6)+(r[e]>>>0)/1e6,N_=r=>new Date(r),FS=(r,e)=>N_(TS(r,e)),DS=(r,e)=>N_(bd(r,e)),OS=(r,e)=>null,L_=(r,e,t)=>{let{[t]:n,[t+1]:i}=e;return n!=null&&i!=null?r.subarray(n,i):null},MS=({offset:r,values:e},t)=>{let n=r+t;return(e[n>>3]&1<<n%8)!==0},k_=({values:r},e)=>FS(r,e),C_=({values:r},e)=>DS(r,e*2),vr=({stride:r,values:e},t)=>e[r*t],j_=({stride:r,values:e},t)=>IS.uint16ToFloat64(e[r*t]),gd=({stride:r,values:e,type:t},n)=>ac.BN.new(e.subarray(r*n,r*(n+1)),t.isSigned),US=({stride:r,values:e},t)=>e.subarray(r*t,r*(t+1)),ES=({values:r,valueOffsets:e},t)=>L_(r,e,t),VS=({values:r,valueOffsets:e},t)=>{let n=L_(r,e,t);return n!==null?BS.decodeUtf8(n):null},RS=(r,e)=>r.type.bitWidth<64?vr(r,e):gd(r,e),xS=(r,e)=>r.type.precision!==Rt.Precision.HALF?vr(r,e):j_(r,e),PS=(r,e)=>r.type.unit===Rt.DateUnit.DAY?k_(r,e):C_(r,e),q_=({values:r},e)=>1e3*bd(r,e*2),H_=({values:r},e)=>bd(r,e*2),z_=({values:r},e)=>SS(r,e*2),W_=({values:r},e)=>AS(r,e*2),NS=(r,e)=>{switch(r.type.unit){case Rt.TimeUnit.SECOND:return q_(r,e);case Rt.TimeUnit.MILLISECOND:return H_(r,e);case Rt.TimeUnit.MICROSECOND:return z_(r,e);case Rt.TimeUnit.NANOSECOND:return W_(r,e)}},Y_=({values:r,stride:e},t)=>r[e*t],G_=({values:r,stride:e},t)=>r[e*t],$_=({values:r},e)=>ac.BN.signed(r.subarray(2*e,2*(e+1))),K_=({values:r},e)=>ac.BN.signed(r.subarray(2*e,2*(e+1))),LS=(r,e)=>{switch(r.type.unit){case Rt.TimeUnit.SECOND:return Y_(r,e);case Rt.TimeUnit.MILLISECOND:return G_(r,e);case Rt.TimeUnit.MICROSECOND:return $_(r,e);case Rt.TimeUnit.NANOSECOND:return K_(r,e)}},kS=({values:r},e)=>ac.BN.decimal(r.subarray(4*e,4*(e+1))),CS=(r,e)=>{let t=r.getChildAt(0),{valueOffsets:n,stride:i}=r;return t.slice(n[e*i],n[e*i+1])},jS=(r,e)=>r.bind(e),qS=(r,e)=>r.bind(e),HS=(r,e)=>r.type.mode===Rt.UnionMode.Dense?J_(r,e):X_(r,e),J_=(r,e)=>{let t=r.typeIdToChildIndex[r.typeIds[e]],n=r.getChildAt(t);return n?n.get(r.valueOffsets[e]):null},X_=(r,e)=>{let t=r.typeIdToChildIndex[r.typeIds[e]],n=r.getChildAt(t);return n?n.get(e):null},zS=(r,e)=>r.getValue(r.getKey(e)),WS=(r,e)=>r.type.unit===Rt.IntervalUnit.DAY_TIME?Z_(r,e):Q_(r,e),Z_=({values:r},e)=>r.subarray(2*e,2*(e+1)),Q_=({values:r},e)=>{let t=r[e],n=new Int32Array(2);return n[0]=t/12|0,n[1]=t%12|0,n},YS=(r,e)=>{let t=r.getChildAt(0),{stride:n}=r;return t.slice(e*n,(e+1)*n)};q.prototype.visitNull=OS;q.prototype.visitBool=MS;q.prototype.visitInt=RS;q.prototype.visitInt8=vr;q.prototype.visitInt16=vr;q.prototype.visitInt32=vr;q.prototype.visitInt64=gd;q.prototype.visitUint8=vr;q.prototype.visitUint16=vr;q.prototype.visitUint32=vr;q.prototype.visitUint64=gd;q.prototype.visitFloat=xS;q.prototype.visitFloat16=j_;q.prototype.visitFloat32=vr;q.prototype.visitFloat64=vr;q.prototype.visitUtf8=VS;q.prototype.visitBinary=ES;q.prototype.visitFixedSizeBinary=US;q.prototype.visitDate=PS;q.prototype.visitDateDay=k_;q.prototype.visitDateMillisecond=C_;q.prototype.visitTimestamp=NS;q.prototype.visitTimestampSecond=q_;q.prototype.visitTimestampMillisecond=H_;q.prototype.visitTimestampMicrosecond=z_;q.prototype.visitTimestampNanosecond=W_;q.prototype.visitTime=LS;q.prototype.visitTimeSecond=Y_;q.prototype.visitTimeMillisecond=G_;q.prototype.visitTimeMicrosecond=$_;q.prototype.visitTimeNanosecond=K_;q.prototype.visitDecimal=kS;q.prototype.visitList=CS;q.prototype.visitStruct=qS;q.prototype.visitUnion=HS;q.prototype.visitDenseUnion=J_;q.prototype.visitSparseUnion=X_;q.prototype.visitDictionary=zS;q.prototype.visitInterval=WS;q.prototype.visitIntervalDayTime=Z_;q.prototype.visitIntervalYearMonth=Q_;q.prototype.visitFixedSizeList=YS;q.prototype.visitMap=jS;Yi.instance=new q});var nm=g(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.instance=Gi.IndexOfVisitor=void 0;var GS=et(),em=or(),tm=xs(),H=class extends GS.Visitor{};Gi.IndexOfVisitor=H;function $S(r,e){return e===null&&r.length>0?0:-1}function KS(r,e){let{nullBitmap:t}=r.data;if(!t||r.nullCount<=0)return-1;let n=0;for(let i of new em.BitIterator(t,r.data.offset+(e||0),r.length,t,em.getBool)){if(!i)return n;++n}return-1}function te(r,e,t){if(e===void 0)return-1;if(e===null)return KS(r,t);let n=tm.createElementComparator(e);for(let i=(t||0)-1,s=r.length;++i<s;)if(n(r.get(i)))return i;return-1}function rm(r,e,t){let n=tm.createElementComparator(e);for(let i=(t||0)-1,s=r.length;++i<s;)if(n(r.get(i)))return i;return-1}H.prototype.visitNull=$S;H.prototype.visitBool=te;H.prototype.visitInt=te;H.prototype.visitInt8=te;H.prototype.visitInt16=te;H.prototype.visitInt32=te;H.prototype.visitInt64=te;H.prototype.visitUint8=te;H.prototype.visitUint16=te;H.prototype.visitUint32=te;H.prototype.visitUint64=te;H.prototype.visitFloat=te;H.prototype.visitFloat16=te;H.prototype.visitFloat32=te;H.prototype.visitFloat64=te;H.prototype.visitUtf8=te;H.prototype.visitBinary=te;H.prototype.visitFixedSizeBinary=te;H.prototype.visitDate=te;H.prototype.visitDateDay=te;H.prototype.visitDateMillisecond=te;H.prototype.visitTimestamp=te;H.prototype.visitTimestampSecond=te;H.prototype.visitTimestampMillisecond=te;H.prototype.visitTimestampMicrosecond=te;H.prototype.visitTimestampNanosecond=te;H.prototype.visitTime=te;H.prototype.visitTimeSecond=te;H.prototype.visitTimeMillisecond=te;H.prototype.visitTimeMicrosecond=te;H.prototype.visitTimeNanosecond=te;H.prototype.visitDecimal=te;H.prototype.visitList=te;H.prototype.visitStruct=te;H.prototype.visitUnion=te;H.prototype.visitDenseUnion=rm;H.prototype.visitSparseUnion=rm;H.prototype.visitDictionary=te;H.prototype.visitInterval=te;H.prototype.visitIntervalDayTime=te;H.prototype.visitIntervalYearMonth=te;H.prototype.visitFixedSizeList=te;H.prototype.visitMap=te;Gi.instance=new H});var wd=g($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.instance=$i.IteratorVisitor=void 0;var cc=ge(),JS=et(),XS=or(),im=vd(),z=class extends JS.Visitor{};$i.IteratorVisitor=z;function ZS(r){let e=im.instance.getVisitFn(r);return new XS.BitIterator(r.data.nullBitmap,r.data.offset,r.length,r,(t,n,i,s)=>(i&1<<s)!==0?e(t,n):null)}var sm=class{constructor(e,t){this.vector=e,this.getFn=t,this.index=0}next(){return this.index<this.vector.length?{value:this.getFn(this.vector,this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};function Z(r){if(r.nullCount>0)return ZS(r);let{type:e,typeId:t,length:n}=r;return r.stride===1&&(t===cc.Type.Timestamp||t===cc.Type.Int&&e.bitWidth!==64||t===cc.Type.Time&&e.bitWidth!==64||t===cc.Type.Float&&e.precision>0)?r.data.values.subarray(0,n)[Symbol.iterator]():new sm(r,im.instance.getVisitFn(r))}z.prototype.visitNull=Z;z.prototype.visitBool=Z;z.prototype.visitInt=Z;z.prototype.visitInt8=Z;z.prototype.visitInt16=Z;z.prototype.visitInt32=Z;z.prototype.visitInt64=Z;z.prototype.visitUint8=Z;z.prototype.visitUint16=Z;z.prototype.visitUint32=Z;z.prototype.visitUint64=Z;z.prototype.visitFloat=Z;z.prototype.visitFloat16=Z;z.prototype.visitFloat32=Z;z.prototype.visitFloat64=Z;z.prototype.visitUtf8=Z;z.prototype.visitBinary=Z;z.prototype.visitFixedSizeBinary=Z;z.prototype.visitDate=Z;z.prototype.visitDateDay=Z;z.prototype.visitDateMillisecond=Z;z.prototype.visitTimestamp=Z;z.prototype.visitTimestampSecond=Z;z.prototype.visitTimestampMillisecond=Z;z.prototype.visitTimestampMicrosecond=Z;z.prototype.visitTimestampNanosecond=Z;z.prototype.visitTime=Z;z.prototype.visitTimeSecond=Z;z.prototype.visitTimeMillisecond=Z;z.prototype.visitTimeMicrosecond=Z;z.prototype.visitTimeNanosecond=Z;z.prototype.visitDecimal=Z;z.prototype.visitList=Z;z.prototype.visitStruct=Z;z.prototype.visitUnion=Z;z.prototype.visitDenseUnion=Z;z.prototype.visitSparseUnion=Z;z.prototype.visitDictionary=Z;z.prototype.visitInterval=Z;z.prototype.visitIntervalDayTime=Z;z.prototype.visitIntervalYearMonth=Z;z.prototype.visitFixedSizeList=Z;z.prototype.visitMap=Z;$i.instance=new z});var om=g(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.instance=Ki.ToArrayVisitor=void 0;var Ws=ge(),QS=et(),e1=wd(),W=class extends QS.Visitor{};Ki.ToArrayVisitor=W;function Q(r){let{type:e,length:t,stride:n}=r;switch(e.typeId){case Ws.Type.Int:case Ws.Type.Float:case Ws.Type.Decimal:case Ws.Type.Time:case Ws.Type.Timestamp:return r.data.values.subarray(0,t*n)}return[...e1.instance.visit(r)]}W.prototype.visitNull=Q;W.prototype.visitBool=Q;W.prototype.visitInt=Q;W.prototype.visitInt8=Q;W.prototype.visitInt16=Q;W.prototype.visitInt32=Q;W.prototype.visitInt64=Q;W.prototype.visitUint8=Q;W.prototype.visitUint16=Q;W.prototype.visitUint32=Q;W.prototype.visitUint64=Q;W.prototype.visitFloat=Q;W.prototype.visitFloat16=Q;W.prototype.visitFloat32=Q;W.prototype.visitFloat64=Q;W.prototype.visitUtf8=Q;W.prototype.visitBinary=Q;W.prototype.visitFixedSizeBinary=Q;W.prototype.visitDate=Q;W.prototype.visitDateDay=Q;W.prototype.visitDateMillisecond=Q;W.prototype.visitTimestamp=Q;W.prototype.visitTimestampSecond=Q;W.prototype.visitTimestampMillisecond=Q;W.prototype.visitTimestampMicrosecond=Q;W.prototype.visitTimestampNanosecond=Q;W.prototype.visitTime=Q;W.prototype.visitTimeSecond=Q;W.prototype.visitTimeMillisecond=Q;W.prototype.visitTimeMicrosecond=Q;W.prototype.visitTimeNanosecond=Q;W.prototype.visitDecimal=Q;W.prototype.visitList=Q;W.prototype.visitStruct=Q;W.prototype.visitUnion=Q;W.prototype.visitDenseUnion=Q;W.prototype.visitSparseUnion=Q;W.prototype.visitDictionary=Q;W.prototype.visitInterval=Q;W.prototype.visitIntervalDayTime=Q;W.prototype.visitIntervalYearMonth=Q;W.prototype.visitFixedSizeList=Q;W.prototype.visitMap=Q;Ki.instance=new W});var am=g(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.instance=Ji.ByteWidthVisitor=void 0;var t1=et(),r1=ge(),Ys=(r,e)=>r+e,Bd=r=>`Cannot compute the byte width of variable-width column ${r}`,Id=class extends t1.Visitor{visitNull(e){return 0}visitInt(e){return e.bitWidth/8}visitFloat(e){return e.ArrayType.BYTES_PER_ELEMENT}visitBinary(e){throw new Error(Bd(e))}visitUtf8(e){throw new Error(Bd(e))}visitBool(e){return 1/8}visitDecimal(e){return 16}visitDate(e){return(e.unit+1)*4}visitTime(e){return e.bitWidth/8}visitTimestamp(e){return e.unit===r1.TimeUnit.SECOND?4:8}visitInterval(e){return(e.unit+1)*4}visitList(e){throw new Error(Bd(e))}visitStruct(e){return this.visitFields(e.children).reduce(Ys,0)}visitUnion(e){return this.visitFields(e.children).reduce(Ys,0)}visitFixedSizeBinary(e){return e.byteWidth}visitFixedSizeList(e){return e.listSize*this.visitFields(e.children).reduce(Ys,0)}visitMap(e){return this.visitFields(e.children).reduce(Ys,0)}visitDictionary(e){return this.visit(e.indices)}visitFields(e){return(e||[]).map(t=>this.visit(t.type))}visitSchema(e){return this.visitFields(e.fields).reduce(Ys,0)}};Ji.ByteWidthVisitor=Id;Ji.instance=new Id});var cm=g(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.instance=Xi.GetVectorConstructor=void 0;var n1=et(),i1=Hl(),s1=zl(),Td=Yl(),o1=Gl(),a1=Ja(),c1=Kl(),u1=Jl(),uc=ed(),Sd=td(),Nr=ec(),l1=ld(),d1=dd(),f1=fd(),h1=hd(),Gs=pd(),$s=yd(),Ad=_d(),p1=md(),Fd=class extends n1.Visitor{visitNull(){return f1.NullVector}visitBool(){return s1.BoolVector}visitInt(){return Nr.IntVector}visitInt8(){return Nr.Int8Vector}visitInt16(){return Nr.Int16Vector}visitInt32(){return Nr.Int32Vector}visitInt64(){return Nr.Int64Vector}visitUint8(){return Nr.Uint8Vector}visitUint16(){return Nr.Uint16Vector}visitUint32(){return Nr.Uint32Vector}visitUint64(){return Nr.Uint64Vector}visitFloat(){return uc.FloatVector}visitFloat16(){return uc.Float16Vector}visitFloat32(){return uc.Float32Vector}visitFloat64(){return uc.Float64Vector}visitUtf8(){return p1.Utf8Vector}visitBinary(){return i1.BinaryVector}visitFixedSizeBinary(){return c1.FixedSizeBinaryVector}visitDate(){return Td.DateVector}visitDateDay(){return Td.DateDayVector}visitDateMillisecond(){return Td.DateMillisecondVector}visitTimestamp(){return Gs.TimestampVector}visitTimestampSecond(){return Gs.TimestampSecondVector}visitTimestampMillisecond(){return Gs.TimestampMillisecondVector}visitTimestampMicrosecond(){return Gs.TimestampMicrosecondVector}visitTimestampNanosecond(){return Gs.TimestampNanosecondVector}visitTime(){return $s.TimeVector}visitTimeSecond(){return $s.TimeSecondVector}visitTimeMillisecond(){return $s.TimeMillisecondVector}visitTimeMicrosecond(){return $s.TimeMicrosecondVector}visitTimeNanosecond(){return $s.TimeNanosecondVector}visitDecimal(){return o1.DecimalVector}visitList(){return l1.ListVector}visitStruct(){return h1.StructVector}visitUnion(){return Ad.UnionVector}visitDenseUnion(){return Ad.DenseUnionVector}visitSparseUnion(){return Ad.SparseUnionVector}visitDictionary(){return a1.DictionaryVector}visitInterval(){return Sd.IntervalVector}visitIntervalDayTime(){return Sd.IntervalDayTimeVector}visitIntervalYearMonth(){return Sd.IntervalYearMonthVector}visitFixedSizeList(){return u1.FixedSizeListVector}visitMap(){return d1.MapVector}};Xi.GetVectorConstructor=Fd;Xi.instance=new Fd});var mr=g(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.vectorFromValuesWithType=w.StructRow=w.MapRow=w.Utf8Vector=w.SparseUnionVector=w.DenseUnionVector=w.UnionVector=w.TimeNanosecondVector=w.TimeMicrosecondVector=w.TimeMillisecondVector=w.TimeSecondVector=w.TimeVector=w.TimestampNanosecondVector=w.TimestampMicrosecondVector=w.TimestampMillisecondVector=w.TimestampSecondVector=w.TimestampVector=w.StructVector=w.NullVector=w.MapVector=w.ListVector=w.Uint64Vector=w.Uint32Vector=w.Uint16Vector=w.Uint8Vector=w.Int64Vector=w.Int32Vector=w.Int16Vector=w.Int8Vector=w.IntVector=w.IntervalYearMonthVector=w.IntervalDayTimeVector=w.IntervalVector=w.Float64Vector=w.Float32Vector=w.Float16Vector=w.FloatVector=w.FixedSizeListVector=w.FixedSizeBinaryVector=w.DictionaryVector=w.DecimalVector=w.DateMillisecondVector=w.DateDayVector=w.DateVector=w.Chunked=w.BoolVector=w.BinaryVector=w.BaseVector=w.Vector=void 0;var Dd=it(),y1=Ne();Object.defineProperty(w,"Vector",{enumerable:!0,get:function(){return y1.Vector}});var _1=ke();Object.defineProperty(w,"BaseVector",{enumerable:!0,get:function(){return _1.BaseVector}});var m1=Hl();Object.defineProperty(w,"BinaryVector",{enumerable:!0,get:function(){return m1.BinaryVector}});var b1=zl();Object.defineProperty(w,"BoolVector",{enumerable:!0,get:function(){return b1.BoolVector}});var g1=mn();Object.defineProperty(w,"Chunked",{enumerable:!0,get:function(){return g1.Chunked}});var Md=Yl();Object.defineProperty(w,"DateVector",{enumerable:!0,get:function(){return Md.DateVector}});Object.defineProperty(w,"DateDayVector",{enumerable:!0,get:function(){return Md.DateDayVector}});Object.defineProperty(w,"DateMillisecondVector",{enumerable:!0,get:function(){return Md.DateMillisecondVector}});var v1=Gl();Object.defineProperty(w,"DecimalVector",{enumerable:!0,get:function(){return v1.DecimalVector}});var w1=Ja();Object.defineProperty(w,"DictionaryVector",{enumerable:!0,get:function(){return w1.DictionaryVector}});var B1=Kl();Object.defineProperty(w,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return B1.FixedSizeBinaryVector}});var I1=Jl();Object.defineProperty(w,"FixedSizeListVector",{enumerable:!0,get:function(){return I1.FixedSizeListVector}});var dc=ed();Object.defineProperty(w,"FloatVector",{enumerable:!0,get:function(){return dc.FloatVector}});Object.defineProperty(w,"Float16Vector",{enumerable:!0,get:function(){return dc.Float16Vector}});Object.defineProperty(w,"Float32Vector",{enumerable:!0,get:function(){return dc.Float32Vector}});Object.defineProperty(w,"Float64Vector",{enumerable:!0,get:function(){return dc.Float64Vector}});var Ud=td();Object.defineProperty(w,"IntervalVector",{enumerable:!0,get:function(){return Ud.IntervalVector}});Object.defineProperty(w,"IntervalDayTimeVector",{enumerable:!0,get:function(){return Ud.IntervalDayTimeVector}});Object.defineProperty(w,"IntervalYearMonthVector",{enumerable:!0,get:function(){return Ud.IntervalYearMonthVector}});var Lr=ec();Object.defineProperty(w,"IntVector",{enumerable:!0,get:function(){return Lr.IntVector}});Object.defineProperty(w,"Int8Vector",{enumerable:!0,get:function(){return Lr.Int8Vector}});Object.defineProperty(w,"Int16Vector",{enumerable:!0,get:function(){return Lr.Int16Vector}});Object.defineProperty(w,"Int32Vector",{enumerable:!0,get:function(){return Lr.Int32Vector}});Object.defineProperty(w,"Int64Vector",{enumerable:!0,get:function(){return Lr.Int64Vector}});Object.defineProperty(w,"Uint8Vector",{enumerable:!0,get:function(){return Lr.Uint8Vector}});Object.defineProperty(w,"Uint16Vector",{enumerable:!0,get:function(){return Lr.Uint16Vector}});Object.defineProperty(w,"Uint32Vector",{enumerable:!0,get:function(){return Lr.Uint32Vector}});Object.defineProperty(w,"Uint64Vector",{enumerable:!0,get:function(){return Lr.Uint64Vector}});var T1=ld();Object.defineProperty(w,"ListVector",{enumerable:!0,get:function(){return T1.ListVector}});var S1=dd();Object.defineProperty(w,"MapVector",{enumerable:!0,get:function(){return S1.MapVector}});var A1=fd();Object.defineProperty(w,"NullVector",{enumerable:!0,get:function(){return A1.NullVector}});var F1=hd();Object.defineProperty(w,"StructVector",{enumerable:!0,get:function(){return F1.StructVector}});var Js=pd();Object.defineProperty(w,"TimestampVector",{enumerable:!0,get:function(){return Js.TimestampVector}});Object.defineProperty(w,"TimestampSecondVector",{enumerable:!0,get:function(){return Js.TimestampSecondVector}});Object.defineProperty(w,"TimestampMillisecondVector",{enumerable:!0,get:function(){return Js.TimestampMillisecondVector}});Object.defineProperty(w,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return Js.TimestampMicrosecondVector}});Object.defineProperty(w,"TimestampNanosecondVector",{enumerable:!0,get:function(){return Js.TimestampNanosecondVector}});var Xs=yd();Object.defineProperty(w,"TimeVector",{enumerable:!0,get:function(){return Xs.TimeVector}});Object.defineProperty(w,"TimeSecondVector",{enumerable:!0,get:function(){return Xs.TimeSecondVector}});Object.defineProperty(w,"TimeMillisecondVector",{enumerable:!0,get:function(){return Xs.TimeMillisecondVector}});Object.defineProperty(w,"TimeMicrosecondVector",{enumerable:!0,get:function(){return Xs.TimeMicrosecondVector}});Object.defineProperty(w,"TimeNanosecondVector",{enumerable:!0,get:function(){return Xs.TimeNanosecondVector}});var Ed=_d();Object.defineProperty(w,"UnionVector",{enumerable:!0,get:function(){return Ed.UnionVector}});Object.defineProperty(w,"DenseUnionVector",{enumerable:!0,get:function(){return Ed.DenseUnionVector}});Object.defineProperty(w,"SparseUnionVector",{enumerable:!0,get:function(){return Ed.SparseUnionVector}});var D1=md();Object.defineProperty(w,"Utf8Vector",{enumerable:!0,get:function(){return D1.Utf8Vector}});var dm=Vs();Object.defineProperty(w,"MapRow",{enumerable:!0,get:function(){return dm.MapRow}});Object.defineProperty(w,"StructRow",{enumerable:!0,get:function(){return dm.StructRow}});var Ks=P_(),Od=ge(),Zi=Ne(),um=mn(),si=ke(),O1=or(),lc=st(),lm=Ue(),fm=vd(),hm=Wu(),pm=nm(),ym=om(),_m=wd(),mm=am(),bm=cm();Zi.Vector.new=M1;Zi.Vector.from=E1;function M1(r,...e){return new(bm.instance.getVisitFn(r)())(r,...e)}function U1(r,e){if(lc.isIterable(e))return Zi.Vector.from({nullValues:[null,void 0],type:r(),values:e});if(lc.isAsyncIterable(e))return Zi.Vector.from({nullValues:[null,void 0],type:r(),values:e});let{values:t=[],type:n=r(),nullValues:i=[null,void 0]}=Object.assign({},e);return lc.isIterable(t)?Zi.Vector.from(Object.assign(Object.assign({nullValues:i},e),{type:n})):Zi.Vector.from(Object.assign(Object.assign({nullValues:i},e),{type:n}))}w.vectorFromValuesWithType=U1;function E1(r){let e=Object.assign({nullValues:[null,void 0]},r),{values:t=[]}=e,n=Dd.__rest(e,["values"]);if(lc.isIterable(t)){let i=[...lm.Builder.throughIterable(n)(t)];return i.length===1?i[0]:um.Chunked.concat(i)}return(i=>Dd.__awaiter(this,void 0,void 0,function*(){var s,o;let a=lm.Builder.throughAsyncIterable(n);try{for(var c=Dd.__asyncValues(a(t)),f;f=yield c.next(),!f.done;){let y=f.value;i.push(y)}}catch(y){s={error:y}}finally{try{f&&!f.done&&(o=c.return)&&(yield o.call(c))}finally{if(s)throw s.error}}return i.length===1?i[0]:um.Chunked.concat(i)}))([])}si.BaseVector.prototype.get=function(e){return fm.instance.visit(this,e)};si.BaseVector.prototype.set=function(e,t){return hm.instance.visit(this,e,t)};si.BaseVector.prototype.indexOf=function(e,t){return pm.instance.visit(this,e,t)};si.BaseVector.prototype.toArray=function(){return ym.instance.visit(this)};si.BaseVector.prototype.getByteWidth=function(){return mm.instance.visit(this.type)};si.BaseVector.prototype[Symbol.iterator]=function(){return _m.instance.visit(this)};si.BaseVector.prototype._bindDataAccessors=P1;Object.keys(Od.Type).map(r=>Od.Type[r]).filter(r=>typeof r=="number").filter(r=>r!==Od.Type.NONE).forEach(r=>{let e=bm.instance.visit(r);e.prototype.get=Ks.partial1(fm.instance.getVisitFn(r)),e.prototype.set=Ks.partial2(hm.instance.getVisitFn(r)),e.prototype.indexOf=Ks.partial2(pm.instance.getVisitFn(r)),e.prototype.toArray=Ks.partial0(ym.instance.getVisitFn(r)),e.prototype.getByteWidth=V1(mm.instance.getVisitFn(r)),e.prototype[Symbol.iterator]=Ks.partial0(_m.instance.getVisitFn(r))});function V1(r){return function(){return r(this.type)}}function R1(r){return function(e){return this.isValid(e)?r.call(this,e):null}}function x1(r){return function(e,t){O1.setBool(this.nullBitmap,this.offset+e,t!=null)&&r.call(this,e,t)}}function P1(){let r=this.nullBitmap;r&&r.byteLength>0&&(this.get=R1(this.get),this.set=x1(this.set))}});var Hs=g(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.Table=void 0;var fc=it(),N1=Li(),L1=Zs(),gm=Ha(),Vd=Pr(),vm=Je(),xd=ce(),wm=Xn(),Rd=st(),Bm=Cl(),Pd=mr(),$e=class extends Pd.Chunked{constructor(...e){var t;let n=null;e[0]instanceof vm.Schema&&(n=e[0]);let i=e[0]instanceof $e?e[0].chunks:wm.selectArgs(Vd.RecordBatch,e);if(!n&&!(n=(t=i[0])===null||t===void 0?void 0:t.schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");i[0]||(i[0]=new Vd._InternalEmptyPlaceholderRecordBatch(n));super(new xd.Struct(n.fields),i);this._schema=n,this._chunks=i}static empty(e=new vm.Schema([])){return new $e(e,[])}static from(e){if(!e)return $e.empty();if(typeof e=="object"){let n=Rd.isIterable(e.values)?k1(e):Rd.isAsyncIterable(e.values)?C1(e):null;if(n!==null)return n}let t=L1.RecordBatchReader.from(e);return Rd.isPromise(t)?(()=>fc.__awaiter(this,void 0,void 0,function*(){return yield $e.from(yield t)}))():t.isSync()&&(t=t.open())?t.schema?new $e(t.schema,[...t]):$e.empty():(n=>fc.__awaiter(this,void 0,void 0,function*(){var i,s;let o=yield n,a=o.schema,c=[];if(a){try{for(var f=fc.__asyncValues(o),y;y=yield f.next(),!y.done;){let B=y.value;c.push(B)}}catch(B){i={error:B}}finally{try{y&&!y.done&&(s=f.return)&&(yield s.call(f))}finally{if(i)throw i.error}}return new $e(a,c)}return $e.empty()}))(t.open())}static fromAsync(e){return fc.__awaiter(this,void 0,void 0,function*(){return yield $e.from(e)})}static fromStruct(e){return $e.new(e.data.childData,e.type.children)}static new(...e){return new $e(...Bm.distributeColumnsIntoRecordBatches(wm.selectColumnArgs(e)))}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(e=this._chunks){return new $e(this._schema,e)}getColumn(e){return this.getColumnAt(this.getColumnIndex(e))}getColumnAt(e){return this.getChildAt(e)}getColumnIndex(e){return this._schema.fields.findIndex(t=>t.name===e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let t,n,i=this._schema.fields,s=this._children||(this._children=[]);if(n=s[e])return n;if(t=i[e]){let o=this._chunks.map(a=>a.getChildAt(e)).filter(a=>a!=null);if(o.length>0)return s[e]=new N1.Column(t,o)}return null}serialize(e="binary",t=!0){return(t?gm.RecordBatchStreamWriter:gm.RecordBatchFileWriter).writeAll(this).toUint8Array(!0)}count(){return this._length}select(...e){let t=this._schema.fields.reduce((n,i,s)=>n.set(i.name,s),new Map);return this.selectAt(...e.map(n=>t.get(n)).filter(n=>n>-1))}selectAt(...e){let t=this._schema.selectAt(...e);return new $e(t,this._chunks.map(({length:n,data:{childData:i}})=>new Vd.RecordBatch(t,n,e.map(s=>i[s]).filter(Boolean))))}assign(e){let t=this._schema.fields,[n,i]=e.schema.fields.reduce((a,c,f)=>{let[y,B]=a,F=t.findIndex(A=>A.name===c.name);return~F?B[F]=f:y.push(f),a},[[],[]]),s=this._schema.assign(e.schema),o=[...t.map((a,c,f,y=i[c])=>y===void 0?this.getColumnAt(c):e.getColumnAt(y)),...n.map(a=>e.getColumnAt(a))].filter(Boolean);return new $e(...Bm.distributeVectorsIntoRecordBatches(s,o))}};hc.Table=$e;function k1(r){let{type:e}=r;return e instanceof xd.Struct?$e.fromStruct(Pd.StructVector.from(r)):null}function C1(r){let{type:e}=r;return e instanceof xd.Struct?Pd.StructVector.from(r).then(t=>$e.fromStruct(t)):null}});var Pr=g(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi._InternalEmptyPlaceholderRecordBatch=Qi.RecordBatch=void 0;var Ld=Ht(),Nd=Hs(),j1=Ne(),q1=et(),H1=Je(),z1=st(),W1=mn(),Y1=Xn(),kd=ce(),G1=Cl(),$1=mr(),Fn=class extends $1.StructVector{constructor(...e){let t,n=e[0],i;if(e[1]instanceof Ld.Data)[,t,i]=e;else{let s=n.fields,[,o,a]=e;t=Ld.Data.Struct(new kd.Struct(s),0,o,0,null,a)}super(t,i);this._schema=n}static from(e){return z1.isIterable(e.values),Nd.Table.from(e)}static new(...e){let[t,n]=Y1.selectFieldArgs(e),i=n.filter(s=>s instanceof j1.Vector);return new Fn(...G1.ensureSameLengthData(new H1.Schema(t),i.map(s=>s.data)))}clone(e,t=this._children){return new Fn(this._schema,e,t)}concat(...e){let t=this._schema,n=W1.Chunked.flatten(this,...e);return new Nd.Table(t,n.map(({data:i})=>new Fn(t,i)))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=pc.collect(this))}select(...e){let t=this._schema.fields.reduce((n,i,s)=>n.set(i.name,s),new Map);return this.selectAt(...e.map(n=>t.get(n)).filter(n=>n>-1))}selectAt(...e){let t=this._schema.selectAt(...e),n=e.map(i=>this.data.childData[i]).filter(Boolean);return new Fn(t,this.length,n)}};Qi.RecordBatch=Fn;var Im=class extends Fn{constructor(e){super(e,0,e.fields.map(t=>Ld.Data.new(t.type,0,0,0)))}};Qi._InternalEmptyPlaceholderRecordBatch=Im;var pc=class extends q1.Visitor{constructor(){super(...arguments);this.dictionaries=new Map}static collect(e){return new pc().visit(e.data,new kd.Struct(e.schema.fields)).dictionaries}visit(e,t){return kd.DataType.isDictionary(t)?this.visitDictionary(e,t):(e.childData.forEach((n,i)=>this.visit(n,t.children[i].type)),this)}visitDictionary(e,t){let n=e.dictionary;return n&&n.length>0&&this.dictionaries.set(t.id,n),this}}});var Zs=g(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.AsyncRecordBatchFileReader=Pt.RecordBatchFileReader=Pt.AsyncRecordBatchStreamReader=Pt.RecordBatchStreamReader=Pt.RecordBatchReader=void 0;var Ie=it(),Tm=Ne(),yc=ge(),Om=rl(),Sm=ws(),Am=hn(),Qs=sl(),Mm=oy(),Cd=Pr(),oi=di(),Nt=Ea(),xt=st(),wr=class extends oi.ReadableInterop{constructor(e){super();this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return xt.isPromise(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Sm.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Sm.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof wr?e:xt.isArrowJSON(e)?K1(e):xt.isFileHandle(e)?Z1(e):xt.isPromise(e)?(()=>Ie.__awaiter(this,void 0,void 0,function*(){return yield wr.from(yield e)}))():xt.isFetchResponse(e)||xt.isReadableDOMStream(e)||xt.isReadableNodeStream(e)||xt.isAsyncIterable(e)?X1(new Am.AsyncByteStream(e)):J1(new Am.ByteStream(e))}static readAll(e){return e instanceof wr?e.isSync()?Fm(e):Dm(e):xt.isArrowJSON(e)||ArrayBuffer.isView(e)||xt.isIterable(e)||xt.isIteratorResult(e)?Fm(e):Dm(e)}};Pt.RecordBatchReader=wr;var es=class extends wr{constructor(e){super(e);this._impl=e}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Ie.__asyncGenerator(this,arguments,function*(){yield Ie.__await(yield*Ie.__asyncDelegator(Ie.__asyncValues(this[Symbol.iterator]())))})}};Pt.RecordBatchStreamReader=es;var ts=class extends wr{constructor(e){super(e);this._impl=e}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};Pt.AsyncRecordBatchStreamReader=ts;var _c=class extends es{constructor(e){super(e);this._impl=e}};Pt.RecordBatchFileReader=_c;var jd=class extends ts{constructor(e){super(e);this._impl=e}};Pt.AsyncRecordBatchFileReader=jd;var qd=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){return new Cd.RecordBatch(this.schema,e.length,this._loadVectors(e,t,this.schema.fields))}_loadDictionaryBatch(e,t){let{id:n,isDelta:i,data:s}=e,{dictionaries:o,schema:a}=this,c=o.get(n);if(i||!c){let f=a.dictionaries.get(n);return c&&i?c.concat(Tm.Vector.new(this._loadVectors(s,t,[f])[0])):Tm.Vector.new(this._loadVectors(s,t,[f])[0])}return c}_loadVectors(e,t,n){return new Mm.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)}},eo=class extends qd{constructor(e,t){super(t);this._reader=xt.isArrowJSON(e)?new Nt.JSONMessageReader(this._handle=e):new Nt.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=Vm(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):oi.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):oi.ITERATOR_DONE}next(){if(this.closed)return oi.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let n=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(n,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let n=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Cd._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},to=class extends qd{constructor(e,t){super(t);this._reader=new Nt.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Ie.__awaiter(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return Ie.__awaiter(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Vm(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return Ie.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):oi.ITERATOR_DONE})}return(e){return Ie.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):oi.ITERATOR_DONE})}next(){return Ie.__awaiter(this,void 0,void 0,function*(){if(this.closed)return oi.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let n=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(n,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let n=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Cd._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return Ie.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}},Hd=class extends eo{constructor(e,t){super(e instanceof Qs.RandomAccessFile?e:new Qs.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){if(this.closed)return null;this._footer||this.open();let t=this._footer&&this._footer.getRecordBatch(e);if(t&&this._handle.seek(t.offset)){let n=this._reader.readMessage(yc.MessageHeader.RecordBatch);if(n==null?void 0:n.isRecordBatch()){let i=n.header(),s=this._reader.readMessageBody(n.bodyLength);return this._loadRecordBatch(i,s)}}return null}_readDictionaryBatch(e){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&this._handle.seek(t.offset)){let n=this._reader.readMessage(yc.MessageHeader.DictionaryBatch);if(n==null?void 0:n.isDictionaryBatch()){let i=n.header(),s=this._reader.readMessageBody(n.bodyLength),o=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,o)}}}_readFooter(){let{_handle:e}=this,t=e.size-Nt.magicAndPadding,n=e.readInt32(t),i=e.readAt(t-n,n);return Om.Footer.decode(i)}_readNextMessageAndValidate(e){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(t&&this._handle.seek(t.offset))return this._reader.readMessage(e)}return null}},Um=class extends to{constructor(e,...t){let n=typeof t[0]!="number"?t.shift():void 0,i=t[0]instanceof Map?t.shift():void 0;super(e instanceof Qs.AsyncRandomAccessFile?e:new Qs.AsyncRandomAccessFile(e,n),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let t=Object.create(null,{open:{get:()=>super.open}});return Ie.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let n of this._footer.dictionaryBatches())n&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){return Ie.__awaiter(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());let t=this._footer&&this._footer.getRecordBatch(e);if(t&&(yield this._handle.seek(t.offset))){let n=yield this._reader.readMessage(yc.MessageHeader.RecordBatch);if(n==null?void 0:n.isRecordBatch()){let i=n.header(),s=yield this._reader.readMessageBody(n.bodyLength);return this._loadRecordBatch(i,s)}}return null})}_readDictionaryBatch(e){return Ie.__awaiter(this,void 0,void 0,function*(){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&(yield this._handle.seek(t.offset))){let n=yield this._reader.readMessage(yc.MessageHeader.DictionaryBatch);if(n==null?void 0:n.isDictionaryBatch()){let i=n.header(),s=yield this._reader.readMessageBody(n.bodyLength),o=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,o)}}})}_readFooter(){return Ie.__awaiter(this,void 0,void 0,function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-Nt.magicAndPadding,n=yield e.readInt32(t),i=yield e.readAt(t-n,n);return Om.Footer.decode(i)})}_readNextMessageAndValidate(e){return Ie.__awaiter(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}},Em=class extends eo{constructor(e,t){super(e,t)}_loadVectors(e,t,n){return new Mm.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)}};function Vm(r,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:r.autoDestroy}function*Fm(r){let e=wr.from(r);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function Dm(r){return Ie.__asyncGenerator(this,arguments,function*(){let t=yield Ie.__await(wr.from(r));try{if(!(yield Ie.__await(t.open({autoDestroy:!1}))).closed)do yield yield Ie.__await(t);while(!(yield Ie.__await(t.reset().open())).closed)}finally{yield Ie.__await(t.cancel())}})}function K1(r){return new es(new Em(r))}function J1(r){let e=r.peek(Nt.magicLength+7&-8);return e&&e.byteLength>=4?Nt.checkForMagicArrowString(e)?new _c(new Hd(r.read())):new es(new eo(r)):new es(new eo(function*(){}()))}function X1(r){return Ie.__awaiter(this,void 0,void 0,function*(){let e=yield r.peek(Nt.magicLength+7&-8);return e&&e.byteLength>=4?Nt.checkForMagicArrowString(e)?new _c(new Hd(yield r.read())):new ts(new to(r)):new ts(new to(function(){return Ie.__asyncGenerator(this,arguments,function*(){})}()))})}function Z1(r){return Ie.__awaiter(this,void 0,void 0,function*(){let{size:e}=yield r.stat(),t=new Qs.AsyncRandomAccessFile(r,e);return e>=Nt.magicX2AndPadding&&Nt.checkForMagicArrowString(yield t.readAt(0,Nt.magicLength+7&-8))?new jd(new Um(t)):new ts(new to(t))})}});var Pm=g(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.toDOMStream=void 0;var mc=it(),xm=We(),Rm=st();function Q1(r,e){if(Rm.isAsyncIterable(r))return tA(r,e);if(Rm.isIterable(r))return eA(r,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}bc.toDOMStream=Q1;function eA(r,e){let t=null,n=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){s(o,t||(t=r[Symbol.iterator]()))},pull(o){t?s(o,t):o.close()},cancel(){((t==null?void 0:t.return)&&t.return()||!0)&&(t=null)}}),Object.assign({highWaterMark:n?i:void 0},e));function s(o,a){let c,f=null,y=o.desiredSize||null;for(;!(f=a.next(n?y:null)).done;)if(ArrayBuffer.isView(f.value)&&(c=xm.toUint8Array(f.value))&&(y!=null&&n&&(y=y-c.byteLength+1),f.value=c),o.enqueue(f.value),y!=null&&--y<=0)return;o.close()}}function tA(r,e){let t=null,n=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){return mc.__awaiter(this,void 0,void 0,function*(){yield s(o,t||(t=r[Symbol.asyncIterator]()))})},pull(o){return mc.__awaiter(this,void 0,void 0,function*(){t?yield s(o,t):o.close()})},cancel(){return mc.__awaiter(this,void 0,void 0,function*(){((t==null?void 0:t.return)&&(yield t.return())||!0)&&(t=null)})}}),Object.assign({highWaterMark:n?i:void 0},e));function s(o,a){return mc.__awaiter(this,void 0,void 0,function*(){let c,f=null,y=o.desiredSize||null;for(;!(f=yield a.next(n?y:null)).done;)if(ArrayBuffer.isView(f.value)&&(c=xm.toUint8Array(f.value))&&(y!=null&&n&&(y=y-c.byteLength+1),f.value=c),o.enqueue(f.value),y!=null&&--y<=0)return;o.close()})}}});var km=g(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.BuilderTransform=rs.builderThroughDOMStream=void 0;var rA=it(),nA=ba();function iA(r){return new zd(r)}rs.builderThroughDOMStream=iA;var zd=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:t,["writableStrategy"]:n,["queueingStrategy"]:i="count"}=e,s=rA.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=nA.Builder.new(s),this._getSize=i!=="bytes"?Nm:Lm;let{["highWaterMark"]:o=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},t),{["highWaterMark"]:a=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},n);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:c=>{this._maybeFlush(this._builder,this._controller=c)},start:c=>{this._maybeFlush(this._builder,this._controller=c)}},{highWaterMark:o,size:i!=="bytes"?Nm:Lm}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:c=>this._writeValueAndReturnChunkSize(c)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){t!==null&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,t===null?e.close():e.enqueue(t)}};rs.BuilderTransform=zd;var Nm=r=>r.length,Lm=r=>r.byteLength});var Cm=g(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.recordBatchReaderThroughDOMStream=void 0;var ro=it(),sA=hn(),oA=Zs();function aA(r,e){let t=new sA.AsyncByteQueue,n=null,i=new ReadableStream({cancel(){return ro.__awaiter(this,void 0,void 0,function*(){yield t.close()})},start(a){return ro.__awaiter(this,void 0,void 0,function*(){yield o(a,n||(n=yield s()))})},pull(a){return ro.__awaiter(this,void 0,void 0,function*(){n?yield o(a,n):a.close()})}});return{writable:new WritableStream(t,Object.assign({highWaterMark:Math.pow(2,14)},r)),readable:i};function s(){return ro.__awaiter(this,void 0,void 0,function*(){return yield(yield oA.RecordBatchReader.from(t)).open(e)})}function o(a,c){return ro.__awaiter(this,void 0,void 0,function*(){let f=a.desiredSize,y=null;for(;!(y=yield c.next()).done;)if(a.enqueue(y.value),f!=null&&--f<=0)return;a.close()})}}gc.recordBatchReaderThroughDOMStream=aA});var jm=g(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.recordBatchWriterThroughDOMStream=void 0;var vc=it(),cA=hn();function uA(r,e){let t=new this(r),n=new cA.AsyncByteStream(t),i=new ReadableStream({type:"bytes",cancel(){return vc.__awaiter(this,void 0,void 0,function*(){yield n.cancel()})},pull(o){return vc.__awaiter(this,void 0,void 0,function*(){yield s(o)})},start(o){return vc.__awaiter(this,void 0,void 0,function*(){yield s(o)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(t,r),readable:i};function s(o){return vc.__awaiter(this,void 0,void 0,function*(){let a=null,c=o.desiredSize;for(;a=yield n.read(c||null);)if(o.enqueue(a),c!=null&&(c-=a.byteLength)<=0)return;o.close()})}}wc.recordBatchWriterThroughDOMStream=uA});var Jd=g(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.custom=ie.or=ie.and=ie.col=ie.lit=ie.CustomPredicate=ie.Not=ie.GTeq=ie.LTeq=ie.Equals=ie.Or=ie.And=ie.CombinationPredicate=ie.ComparisonPredicate=ie.Predicate=ie.Col=ie.Literal=ie.Value=void 0;var lA=Ja(),Dn=class{eq(e){return e instanceof Dn||(e=new kr(e)),new Yd(this,e)}le(e){return e instanceof Dn||(e=new kr(e)),new Gd(this,e)}ge(e){return e instanceof Dn||(e=new kr(e)),new $d(this,e)}lt(e){return new ns(this.ge(e))}gt(e){return new ns(this.le(e))}ne(e){return new ns(this.eq(e))}};ie.Value=Dn;var kr=class extends Dn{constructor(e){super();this.v=e}};ie.Literal=kr;var Wd=class extends Dn{constructor(e){super();this.name=e}bind(e){if(!this.colidx){this.colidx=-1;let n=e.schema.fields;for(let i=-1;++i<n.length;)if(n[i].name===this.name){this.colidx=i;break}if(this.colidx<0)throw new Error(`Failed to bind Col "${this.name}"`)}let t=this.vector=e.getChildAt(this.colidx);return n=>t.get(n)}};ie.Col=Wd;var is=class{and(...e){return new ss(this,...e)}or(...e){return new os(this,...e)}not(){return new ns(this)}};ie.Predicate=is;var no=class extends is{constructor(e,t){super();this.left=e,this.right=t}bind(e){return this.left instanceof kr?this.right instanceof kr?this._bindLitLit(e,this.left,this.right):this._bindLitCol(e,this.left,this.right):this.right instanceof kr?this._bindColLit(e,this.left,this.right):this._bindColCol(e,this.left,this.right)}};ie.ComparisonPredicate=no;var io=class extends is{constructor(...e){super();this.children=e}};ie.CombinationPredicate=io;io.prototype.children=Object.freeze([]);var ss=class extends io{constructor(...e){e=e.reduce((t,n)=>t.concat(n instanceof ss?n.children:n),[]);super(...e)}bind(e){let t=this.children.map(n=>n.bind(e));return(n,i)=>t.every(s=>s(n,i))}};ie.And=ss;var os=class extends io{constructor(...e){e=e.reduce((t,n)=>t.concat(n instanceof os?n.children:n),[]);super(...e)}bind(e){let t=this.children.map(n=>n.bind(e));return(n,i)=>t.some(s=>s(n,i))}};ie.Or=os;var Yd=class extends no{_bindLitLit(e,t,n){let i=t.v==n.v;return()=>i}_bindColCol(e,t,n){let i=t.bind(e),s=n.bind(e);return(o,a)=>i(o,a)==s(o,a)}_bindColLit(e,t,n){let i=t.bind(e);if(t.vector instanceof lA.DictionaryVector){let s,o=t.vector;return o.dictionary!==this.lastDictionary?(s=o.reverseLookup(n.v),this.lastDictionary=o.dictionary,this.lastKey=s):s=this.lastKey,s===-1?()=>!1:a=>o.getKey(a)===s}else return(s,o)=>i(s,o)==n.v}_bindLitCol(e,t,n){return this._bindColLit(e,n,t)}};ie.Equals=Yd;var Gd=class extends no{_bindLitLit(e,t,n){let i=t.v<=n.v;return()=>i}_bindColCol(e,t,n){let i=t.bind(e),s=n.bind(e);return(o,a)=>i(o,a)<=s(o,a)}_bindColLit(e,t,n){let i=t.bind(e);return(s,o)=>i(s,o)<=n.v}_bindLitCol(e,t,n){let i=n.bind(e);return(s,o)=>t.v<=i(s,o)}};ie.LTeq=Gd;var $d=class extends no{_bindLitLit(e,t,n){let i=t.v>=n.v;return()=>i}_bindColCol(e,t,n){let i=t.bind(e),s=n.bind(e);return(o,a)=>i(o,a)>=s(o,a)}_bindColLit(e,t,n){let i=t.bind(e);return(s,o)=>i(s,o)>=n.v}_bindLitCol(e,t,n){let i=n.bind(e);return(s,o)=>t.v>=i(s,o)}};ie.GTeq=$d;var ns=class extends is{constructor(e){super();this.child=e}bind(e){let t=this.child.bind(e);return(n,i)=>!t(n,i)}};ie.Not=ns;var Kd=class extends is{constructor(e,t){super();this.next=e,this.bind_=t}bind(e){return this.bind_(e),this.next}};ie.CustomPredicate=Kd;function dA(r){return new kr(r)}ie.lit=dA;function fA(r){return new Wd(r)}ie.col=fA;function hA(...r){return new ss(...r)}ie.and=hA;function pA(...r){return new os(...r)}ie.or=pA;function yA(r,e){return new Kd(r,e)}ie.custom=yA});var Gm=g(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.FilteredDataFrame=On.CountByResult=On.DataFrame=void 0;var qm=Hs(),Hm=ec(),Xd=Je(),zm=Jd(),_A=Pr(),Wm=ce(),Zd=class extends qm.Table{filter(e){return new so(this.chunks,e)}scan(e,t){let n=this.chunks,i=n.length;for(let s=-1;++s<i;){let o=n[s];t&&t(o);for(let a=-1,c=o.length;++a<c;)e(a,o)}}scanReverse(e,t){let n=this.chunks,i=n.length;for(let s=i;--s>=0;){let o=n[s];t&&t(o);for(let a=o.length;--a>=0;)e(a,o)}}countBy(e){let t=this.chunks,n=t.length,i=typeof e=="string"?new zm.Col(e):e;i.bind(t[n-1]);let s=i.vector;if(!Wm.DataType.isDictionary(s.type))throw new Error("countBy currently only supports dictionary-encoded columns");let o=Math.ceil(Math.log(s.length)/Math.log(256)),a=o==4?Uint32Array:o>=2?Uint16Array:Uint8Array,c=new a(s.dictionary.length);for(let f=-1;++f<n;){let y=t[f];i.bind(y);let B=i.vector.indices;for(let F=-1,A=y.length;++F<A;){let ne=B.get(F);ne!==null&&c[ne]++}}return new Bc(s.dictionary,Hm.IntVector.from(c))}};On.DataFrame=Zd;var Bc=class extends qm.Table{constructor(e,t){let n=new Xd.Schema([new Xd.Field("values",e.type),new Xd.Field("counts",t.type)]);super(new _A.RecordBatch(n,t.length,[e,t]))}toJSON(){let e=this.getColumnAt(0),t=this.getColumnAt(1),n={};for(let i=-1;++i<this.length;)n[e.get(i)]=t.get(i);return n}};On.CountByResult=Bc;var Ym=class{constructor(e,t){this.batches=e,this.predicate=t,this.batchIndex=0,this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch)}next(){for(;this.batchIndex<this.batches.length;){for(;this.index<this.batch.length;){if(this.predicateFunc(this.index,this.batch))return{value:this.batch.get(this.index++)};this.index++}++this.batchIndex<this.batches.length&&(this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch))}return{done:!0,value:null}}[Symbol.iterator](){return this}},so=class extends Zd{constructor(e,t){super(e);this._predicate=t}scan(e,t){let n=this._chunks,i=n.length;for(let s=-1;++s<i;){let o=n[s],a=this._predicate.bind(o),c=!1;for(let f=-1,y=o.length;++f<y;)a(f,o)&&(t&&!c&&(t(o),c=!0),e(f,o))}}scanReverse(e,t){let n=this._chunks,i=n.length;for(let s=i;--s>=0;){let o=n[s],a=this._predicate.bind(o),c=!1;for(let f=o.length;--f>=0;)a(f,o)&&(t&&!c&&(t(o),c=!0),e(f,o))}}count(){let e=0,t=this._chunks,n=t.length;for(let i=-1;++i<n;){let s=t[i],o=this._predicate.bind(s);for(let a=-1,c=s.length;++a<c;)o(a,s)&&++e}return e}[Symbol.iterator](){return new Ym(this._chunks,this._predicate)}filter(e){return new so(this._chunks,this._predicate.and(e))}countBy(e){let t=this._chunks,n=t.length,i=typeof e=="string"?new zm.Col(e):e;i.bind(t[n-1]);let s=i.vector;if(!Wm.DataType.isDictionary(s.type))throw new Error("countBy currently only supports dictionary-encoded columns");let o=Math.ceil(Math.log(s.length)/Math.log(256)),a=o==4?Uint32Array:o>=2?Uint16Array:Uint8Array,c=new a(s.dictionary.length);for(let f=-1;++f<n;){let y=t[f],B=this._predicate.bind(y);i.bind(y);let F=i.vector.indices;for(let A=-1,ne=y.length;++A<ne;){let ee=F.get(A);ee!==null&&B(A,y)&&c[ee]++}}return new Bc(s.dictionary,Hm.IntVector.from(c))}};On.FilteredDataFrame=so});var Jm=g(l=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.isTypedArray=l.util=l.predicate=l.CountByResult=l.FilteredDataFrame=l.DataFrame=l.RecordBatch=l.Message=l.JSONMessageReader=l.AsyncMessageReader=l.MessageReader=l.RecordBatchJSONWriter=l.RecordBatchStreamWriter=l.RecordBatchFileWriter=l.RecordBatchWriter=l.AsyncRecordBatchStreamReader=l.AsyncRecordBatchFileReader=l.RecordBatchStreamReader=l.RecordBatchFileReader=l.RecordBatchReader=l.AsyncByteQueue=l.AsyncByteStream=l.ByteStream=l.Utf8Builder=l.SparseUnionBuilder=l.DenseUnionBuilder=l.UnionBuilder=l.TimeNanosecondBuilder=l.TimeMicrosecondBuilder=l.TimeMillisecondBuilder=l.TimeSecondBuilder=l.TimeBuilder=l.TimestampNanosecondBuilder=l.TimestampMicrosecondBuilder=l.TimestampMillisecondBuilder=l.TimestampSecondBuilder=l.TimestampBuilder=l.StructBuilder=l.NullBuilder=l.MapBuilder=l.ListBuilder=l.Uint64Builder=l.Uint32Builder=l.Uint16Builder=l.Uint8Builder=l.Int64Builder=l.Int32Builder=l.Int16Builder=l.Int8Builder=l.IntBuilder=l.IntervalYearMonthBuilder=l.IntervalDayTimeBuilder=l.IntervalBuilder=l.Float64Builder=l.Float32Builder=l.Float16Builder=l.FloatBuilder=l.FixedSizeListBuilder=l.FixedSizeBinaryBuilder=l.DictionaryBuilder=l.DecimalBuilder=l.DateMillisecondBuilder=l.DateDayBuilder=l.DateBuilder=l.BoolBuilder=l.BinaryBuilder=l.Builder=l.Utf8Vector=l.SparseUnionVector=l.DenseUnionVector=l.UnionVector=l.TimeNanosecondVector=l.TimeMicrosecondVector=l.TimeMillisecondVector=l.TimeSecondVector=l.TimeVector=l.TimestampNanosecondVector=l.TimestampMicrosecondVector=l.TimestampMillisecondVector=l.TimestampSecondVector=l.TimestampVector=l.StructVector=l.NullVector=l.MapVector=l.ListVector=l.Uint64Vector=l.Uint32Vector=l.Uint16Vector=l.Uint8Vector=l.Int64Vector=l.Int32Vector=l.Int16Vector=l.Int8Vector=l.IntVector=l.IntervalYearMonthVector=l.IntervalDayTimeVector=l.IntervalVector=l.Float64Vector=l.Float32Vector=l.Float16Vector=l.FloatVector=l.FixedSizeListVector=l.FixedSizeBinaryVector=l.DictionaryVector=l.DecimalVector=l.DateMillisecondVector=l.DateDayVector=l.DateVector=l.Chunked=l.BoolVector=l.BinaryVector=l.BaseVector=l.Vector=l.Field=l.Schema=l.Visitor=l.Column=l.Table=l.Map_=l.FixedSizeList=l.IntervalYearMonth=l.IntervalDayTime=l.Interval=l.Dictionary=l.SparseUnion=l.DenseUnion=l.Union=l.Struct=l.List=l.Decimal=l.TimeNanosecond=l.TimeMicrosecond=l.TimeMillisecond=l.TimeSecond=l.Time=l.TimestampNanosecond=l.TimestampMicrosecond=l.TimestampMillisecond=l.TimestampSecond=l.Timestamp=l.DateMillisecond=l.DateDay=l.Date_=l.FixedSizeBinary=l.Binary=l.Utf8=l.Float64=l.Float32=l.Float16=l.Float=l.Uint64=l.Uint32=l.Uint16=l.Uint8=l.Int64=l.Int32=l.Int16=l.Int8=l.Int=l.Bool=l.Null=l.DataType=l.Data=l.BufferType=l.Type=l.MessageHeader=l.MetadataVersion=l.IntervalUnit=l.UnionMode=l.Precision=l.TimeUnit=l.DateUnit=void 0;var as=Qr();Object.defineProperty(l,"DateUnit",{enumerable:!0,get:function(){return as.DateUnit}});Object.defineProperty(l,"TimeUnit",{enumerable:!0,get:function(){return as.TimeUnit}});Object.defineProperty(l,"Precision",{enumerable:!0,get:function(){return as.Precision}});Object.defineProperty(l,"UnionMode",{enumerable:!0,get:function(){return as.UnionMode}});Object.defineProperty(l,"IntervalUnit",{enumerable:!0,get:function(){return as.IntervalUnit}});Object.defineProperty(l,"MetadataVersion",{enumerable:!0,get:function(){return as.MetadataVersion}});var mA=Eo();Object.defineProperty(l,"MessageHeader",{enumerable:!0,get:function(){return mA.MessageHeader}});var $m=ge();Object.defineProperty(l,"Type",{enumerable:!0,get:function(){return $m.Type}});Object.defineProperty(l,"BufferType",{enumerable:!0,get:function(){return $m.BufferType}});var bA=Ht();Object.defineProperty(l,"Data",{enumerable:!0,get:function(){return bA.Data}});var J=ce();Object.defineProperty(l,"DataType",{enumerable:!0,get:function(){return J.DataType}});Object.defineProperty(l,"Null",{enumerable:!0,get:function(){return J.Null}});Object.defineProperty(l,"Bool",{enumerable:!0,get:function(){return J.Bool}});Object.defineProperty(l,"Int",{enumerable:!0,get:function(){return J.Int}});Object.defineProperty(l,"Int8",{enumerable:!0,get:function(){return J.Int8}});Object.defineProperty(l,"Int16",{enumerable:!0,get:function(){return J.Int16}});Object.defineProperty(l,"Int32",{enumerable:!0,get:function(){return J.Int32}});Object.defineProperty(l,"Int64",{enumerable:!0,get:function(){return J.Int64}});Object.defineProperty(l,"Uint8",{enumerable:!0,get:function(){return J.Uint8}});Object.defineProperty(l,"Uint16",{enumerable:!0,get:function(){return J.Uint16}});Object.defineProperty(l,"Uint32",{enumerable:!0,get:function(){return J.Uint32}});Object.defineProperty(l,"Uint64",{enumerable:!0,get:function(){return J.Uint64}});Object.defineProperty(l,"Float",{enumerable:!0,get:function(){return J.Float}});Object.defineProperty(l,"Float16",{enumerable:!0,get:function(){return J.Float16}});Object.defineProperty(l,"Float32",{enumerable:!0,get:function(){return J.Float32}});Object.defineProperty(l,"Float64",{enumerable:!0,get:function(){return J.Float64}});Object.defineProperty(l,"Utf8",{enumerable:!0,get:function(){return J.Utf8}});Object.defineProperty(l,"Binary",{enumerable:!0,get:function(){return J.Binary}});Object.defineProperty(l,"FixedSizeBinary",{enumerable:!0,get:function(){return J.FixedSizeBinary}});Object.defineProperty(l,"Date_",{enumerable:!0,get:function(){return J.Date_}});Object.defineProperty(l,"DateDay",{enumerable:!0,get:function(){return J.DateDay}});Object.defineProperty(l,"DateMillisecond",{enumerable:!0,get:function(){return J.DateMillisecond}});Object.defineProperty(l,"Timestamp",{enumerable:!0,get:function(){return J.Timestamp}});Object.defineProperty(l,"TimestampSecond",{enumerable:!0,get:function(){return J.TimestampSecond}});Object.defineProperty(l,"TimestampMillisecond",{enumerable:!0,get:function(){return J.TimestampMillisecond}});Object.defineProperty(l,"TimestampMicrosecond",{enumerable:!0,get:function(){return J.TimestampMicrosecond}});Object.defineProperty(l,"TimestampNanosecond",{enumerable:!0,get:function(){return J.TimestampNanosecond}});Object.defineProperty(l,"Time",{enumerable:!0,get:function(){return J.Time}});Object.defineProperty(l,"TimeSecond",{enumerable:!0,get:function(){return J.TimeSecond}});Object.defineProperty(l,"TimeMillisecond",{enumerable:!0,get:function(){return J.TimeMillisecond}});Object.defineProperty(l,"TimeMicrosecond",{enumerable:!0,get:function(){return J.TimeMicrosecond}});Object.defineProperty(l,"TimeNanosecond",{enumerable:!0,get:function(){return J.TimeNanosecond}});Object.defineProperty(l,"Decimal",{enumerable:!0,get:function(){return J.Decimal}});Object.defineProperty(l,"List",{enumerable:!0,get:function(){return J.List}});Object.defineProperty(l,"Struct",{enumerable:!0,get:function(){return J.Struct}});Object.defineProperty(l,"Union",{enumerable:!0,get:function(){return J.Union}});Object.defineProperty(l,"DenseUnion",{enumerable:!0,get:function(){return J.DenseUnion}});Object.defineProperty(l,"SparseUnion",{enumerable:!0,get:function(){return J.SparseUnion}});Object.defineProperty(l,"Dictionary",{enumerable:!0,get:function(){return J.Dictionary}});Object.defineProperty(l,"Interval",{enumerable:!0,get:function(){return J.Interval}});Object.defineProperty(l,"IntervalDayTime",{enumerable:!0,get:function(){return J.IntervalDayTime}});Object.defineProperty(l,"IntervalYearMonth",{enumerable:!0,get:function(){return J.IntervalYearMonth}});Object.defineProperty(l,"FixedSizeList",{enumerable:!0,get:function(){return J.FixedSizeList}});Object.defineProperty(l,"Map_",{enumerable:!0,get:function(){return J.Map_}});var gA=Hs();Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return gA.Table}});var vA=Li();Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return vA.Column}});var wA=et();Object.defineProperty(l,"Visitor",{enumerable:!0,get:function(){return wA.Visitor}});var Km=Je();Object.defineProperty(l,"Schema",{enumerable:!0,get:function(){return Km.Schema}});Object.defineProperty(l,"Field",{enumerable:!0,get:function(){return Km.Field}});var Y=mr();Object.defineProperty(l,"Vector",{enumerable:!0,get:function(){return Y.Vector}});Object.defineProperty(l,"BaseVector",{enumerable:!0,get:function(){return Y.BaseVector}});Object.defineProperty(l,"BinaryVector",{enumerable:!0,get:function(){return Y.BinaryVector}});Object.defineProperty(l,"BoolVector",{enumerable:!0,get:function(){return Y.BoolVector}});Object.defineProperty(l,"Chunked",{enumerable:!0,get:function(){return Y.Chunked}});Object.defineProperty(l,"DateVector",{enumerable:!0,get:function(){return Y.DateVector}});Object.defineProperty(l,"DateDayVector",{enumerable:!0,get:function(){return Y.DateDayVector}});Object.defineProperty(l,"DateMillisecondVector",{enumerable:!0,get:function(){return Y.DateMillisecondVector}});Object.defineProperty(l,"DecimalVector",{enumerable:!0,get:function(){return Y.DecimalVector}});Object.defineProperty(l,"DictionaryVector",{enumerable:!0,get:function(){return Y.DictionaryVector}});Object.defineProperty(l,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return Y.FixedSizeBinaryVector}});Object.defineProperty(l,"FixedSizeListVector",{enumerable:!0,get:function(){return Y.FixedSizeListVector}});Object.defineProperty(l,"FloatVector",{enumerable:!0,get:function(){return Y.FloatVector}});Object.defineProperty(l,"Float16Vector",{enumerable:!0,get:function(){return Y.Float16Vector}});Object.defineProperty(l,"Float32Vector",{enumerable:!0,get:function(){return Y.Float32Vector}});Object.defineProperty(l,"Float64Vector",{enumerable:!0,get:function(){return Y.Float64Vector}});Object.defineProperty(l,"IntervalVector",{enumerable:!0,get:function(){return Y.IntervalVector}});Object.defineProperty(l,"IntervalDayTimeVector",{enumerable:!0,get:function(){return Y.IntervalDayTimeVector}});Object.defineProperty(l,"IntervalYearMonthVector",{enumerable:!0,get:function(){return Y.IntervalYearMonthVector}});Object.defineProperty(l,"IntVector",{enumerable:!0,get:function(){return Y.IntVector}});Object.defineProperty(l,"Int8Vector",{enumerable:!0,get:function(){return Y.Int8Vector}});Object.defineProperty(l,"Int16Vector",{enumerable:!0,get:function(){return Y.Int16Vector}});Object.defineProperty(l,"Int32Vector",{enumerable:!0,get:function(){return Y.Int32Vector}});Object.defineProperty(l,"Int64Vector",{enumerable:!0,get:function(){return Y.Int64Vector}});Object.defineProperty(l,"Uint8Vector",{enumerable:!0,get:function(){return Y.Uint8Vector}});Object.defineProperty(l,"Uint16Vector",{enumerable:!0,get:function(){return Y.Uint16Vector}});Object.defineProperty(l,"Uint32Vector",{enumerable:!0,get:function(){return Y.Uint32Vector}});Object.defineProperty(l,"Uint64Vector",{enumerable:!0,get:function(){return Y.Uint64Vector}});Object.defineProperty(l,"ListVector",{enumerable:!0,get:function(){return Y.ListVector}});Object.defineProperty(l,"MapVector",{enumerable:!0,get:function(){return Y.MapVector}});Object.defineProperty(l,"NullVector",{enumerable:!0,get:function(){return Y.NullVector}});Object.defineProperty(l,"StructVector",{enumerable:!0,get:function(){return Y.StructVector}});Object.defineProperty(l,"TimestampVector",{enumerable:!0,get:function(){return Y.TimestampVector}});Object.defineProperty(l,"TimestampSecondVector",{enumerable:!0,get:function(){return Y.TimestampSecondVector}});Object.defineProperty(l,"TimestampMillisecondVector",{enumerable:!0,get:function(){return Y.TimestampMillisecondVector}});Object.defineProperty(l,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return Y.TimestampMicrosecondVector}});Object.defineProperty(l,"TimestampNanosecondVector",{enumerable:!0,get:function(){return Y.TimestampNanosecondVector}});Object.defineProperty(l,"TimeVector",{enumerable:!0,get:function(){return Y.TimeVector}});Object.defineProperty(l,"TimeSecondVector",{enumerable:!0,get:function(){return Y.TimeSecondVector}});Object.defineProperty(l,"TimeMillisecondVector",{enumerable:!0,get:function(){return Y.TimeMillisecondVector}});Object.defineProperty(l,"TimeMicrosecondVector",{enumerable:!0,get:function(){return Y.TimeMicrosecondVector}});Object.defineProperty(l,"TimeNanosecondVector",{enumerable:!0,get:function(){return Y.TimeNanosecondVector}});Object.defineProperty(l,"UnionVector",{enumerable:!0,get:function(){return Y.UnionVector}});Object.defineProperty(l,"DenseUnionVector",{enumerable:!0,get:function(){return Y.DenseUnionVector}});Object.defineProperty(l,"SparseUnionVector",{enumerable:!0,get:function(){return Y.SparseUnionVector}});Object.defineProperty(l,"Utf8Vector",{enumerable:!0,get:function(){return Y.Utf8Vector}});var X=ba();Object.defineProperty(l,"Builder",{enumerable:!0,get:function(){return X.Builder}});Object.defineProperty(l,"BinaryBuilder",{enumerable:!0,get:function(){return X.BinaryBuilder}});Object.defineProperty(l,"BoolBuilder",{enumerable:!0,get:function(){return X.BoolBuilder}});Object.defineProperty(l,"DateBuilder",{enumerable:!0,get:function(){return X.DateBuilder}});Object.defineProperty(l,"DateDayBuilder",{enumerable:!0,get:function(){return X.DateDayBuilder}});Object.defineProperty(l,"DateMillisecondBuilder",{enumerable:!0,get:function(){return X.DateMillisecondBuilder}});Object.defineProperty(l,"DecimalBuilder",{enumerable:!0,get:function(){return X.DecimalBuilder}});Object.defineProperty(l,"DictionaryBuilder",{enumerable:!0,get:function(){return X.DictionaryBuilder}});Object.defineProperty(l,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return X.FixedSizeBinaryBuilder}});Object.defineProperty(l,"FixedSizeListBuilder",{enumerable:!0,get:function(){return X.FixedSizeListBuilder}});Object.defineProperty(l,"FloatBuilder",{enumerable:!0,get:function(){return X.FloatBuilder}});Object.defineProperty(l,"Float16Builder",{enumerable:!0,get:function(){return X.Float16Builder}});Object.defineProperty(l,"Float32Builder",{enumerable:!0,get:function(){return X.Float32Builder}});Object.defineProperty(l,"Float64Builder",{enumerable:!0,get:function(){return X.Float64Builder}});Object.defineProperty(l,"IntervalBuilder",{enumerable:!0,get:function(){return X.IntervalBuilder}});Object.defineProperty(l,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return X.IntervalDayTimeBuilder}});Object.defineProperty(l,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return X.IntervalYearMonthBuilder}});Object.defineProperty(l,"IntBuilder",{enumerable:!0,get:function(){return X.IntBuilder}});Object.defineProperty(l,"Int8Builder",{enumerable:!0,get:function(){return X.Int8Builder}});Object.defineProperty(l,"Int16Builder",{enumerable:!0,get:function(){return X.Int16Builder}});Object.defineProperty(l,"Int32Builder",{enumerable:!0,get:function(){return X.Int32Builder}});Object.defineProperty(l,"Int64Builder",{enumerable:!0,get:function(){return X.Int64Builder}});Object.defineProperty(l,"Uint8Builder",{enumerable:!0,get:function(){return X.Uint8Builder}});Object.defineProperty(l,"Uint16Builder",{enumerable:!0,get:function(){return X.Uint16Builder}});Object.defineProperty(l,"Uint32Builder",{enumerable:!0,get:function(){return X.Uint32Builder}});Object.defineProperty(l,"Uint64Builder",{enumerable:!0,get:function(){return X.Uint64Builder}});Object.defineProperty(l,"ListBuilder",{enumerable:!0,get:function(){return X.ListBuilder}});Object.defineProperty(l,"MapBuilder",{enumerable:!0,get:function(){return X.MapBuilder}});Object.defineProperty(l,"NullBuilder",{enumerable:!0,get:function(){return X.NullBuilder}});Object.defineProperty(l,"StructBuilder",{enumerable:!0,get:function(){return X.StructBuilder}});Object.defineProperty(l,"TimestampBuilder",{enumerable:!0,get:function(){return X.TimestampBuilder}});Object.defineProperty(l,"TimestampSecondBuilder",{enumerable:!0,get:function(){return X.TimestampSecondBuilder}});Object.defineProperty(l,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return X.TimestampMillisecondBuilder}});Object.defineProperty(l,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return X.TimestampMicrosecondBuilder}});Object.defineProperty(l,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return X.TimestampNanosecondBuilder}});Object.defineProperty(l,"TimeBuilder",{enumerable:!0,get:function(){return X.TimeBuilder}});Object.defineProperty(l,"TimeSecondBuilder",{enumerable:!0,get:function(){return X.TimeSecondBuilder}});Object.defineProperty(l,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return X.TimeMillisecondBuilder}});Object.defineProperty(l,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return X.TimeMicrosecondBuilder}});Object.defineProperty(l,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return X.TimeNanosecondBuilder}});Object.defineProperty(l,"UnionBuilder",{enumerable:!0,get:function(){return X.UnionBuilder}});Object.defineProperty(l,"DenseUnionBuilder",{enumerable:!0,get:function(){return X.DenseUnionBuilder}});Object.defineProperty(l,"SparseUnionBuilder",{enumerable:!0,get:function(){return X.SparseUnionBuilder}});Object.defineProperty(l,"Utf8Builder",{enumerable:!0,get:function(){return X.Utf8Builder}});var ef=hn();Object.defineProperty(l,"ByteStream",{enumerable:!0,get:function(){return ef.ByteStream}});Object.defineProperty(l,"AsyncByteStream",{enumerable:!0,get:function(){return ef.AsyncByteStream}});Object.defineProperty(l,"AsyncByteQueue",{enumerable:!0,get:function(){return ef.AsyncByteQueue}});var oo=Zs();Object.defineProperty(l,"RecordBatchReader",{enumerable:!0,get:function(){return oo.RecordBatchReader}});Object.defineProperty(l,"RecordBatchFileReader",{enumerable:!0,get:function(){return oo.RecordBatchFileReader}});Object.defineProperty(l,"RecordBatchStreamReader",{enumerable:!0,get:function(){return oo.RecordBatchStreamReader}});Object.defineProperty(l,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return oo.AsyncRecordBatchFileReader}});Object.defineProperty(l,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return oo.AsyncRecordBatchStreamReader}});var Ic=Ha();Object.defineProperty(l,"RecordBatchWriter",{enumerable:!0,get:function(){return Ic.RecordBatchWriter}});Object.defineProperty(l,"RecordBatchFileWriter",{enumerable:!0,get:function(){return Ic.RecordBatchFileWriter}});Object.defineProperty(l,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return Ic.RecordBatchStreamWriter}});Object.defineProperty(l,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return Ic.RecordBatchJSONWriter}});var tf=Ea();Object.defineProperty(l,"MessageReader",{enumerable:!0,get:function(){return tf.MessageReader}});Object.defineProperty(l,"AsyncMessageReader",{enumerable:!0,get:function(){return tf.AsyncMessageReader}});Object.defineProperty(l,"JSONMessageReader",{enumerable:!0,get:function(){return tf.JSONMessageReader}});var BA=ei();Object.defineProperty(l,"Message",{enumerable:!0,get:function(){return BA.Message}});var IA=Pr();Object.defineProperty(l,"RecordBatch",{enumerable:!0,get:function(){return IA.RecordBatch}});var rf=Gm();Object.defineProperty(l,"DataFrame",{enumerable:!0,get:function(){return rf.DataFrame}});Object.defineProperty(l,"FilteredDataFrame",{enumerable:!0,get:function(){return rf.FilteredDataFrame}});Object.defineProperty(l,"CountByResult",{enumerable:!0,get:function(){return rf.CountByResult}});var TA=Fs(),SA=al(),AA=or(),FA=Is(),DA=We(),OA=xs(),MA=Jd();l.predicate=MA;var Qd=Sl();l.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},TA),SA),AA),FA),DA),OA),{compareSchemas:Qd.compareSchemas,compareFields:Qd.compareFields,compareTypes:Qd.compareTypes});var UA=Xn();Object.defineProperty(l,"isTypedArray",{enumerable:!0,get:function(){return UA.isTypedArray}})});var of=g(()=>{});var rb=g(()=>{});var ab=g((exports,module)=>{(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&typeof module=="object"&&module.exports,AMD=typeof define=="function"&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(r){return Object.prototype.toString.call(r)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(r){return typeof r=="object"&&r.buffer&&r.buffer.constructor===ArrayBuffer});var createOutputMethod=function(r,e){return function(t){return new Sha256(e,!0).update(t)[r]()}},createMethod=function(r){var e=createOutputMethod("hex",r);NODE_JS&&(e=nodeWrap(e,r)),e.create=function(){return new Sha256(r)},e.update=function(i){return e.create().update(i)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n,r)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(r){if(typeof r=="string")return crypto.createHash(algorithm).update(r,"utf8").digest("hex");if(r==null)throw new Error(ERROR);return r.constructor===ArrayBuffer&&(r=new Uint8Array(r)),Array.isArray(r)||ArrayBuffer.isView(r)||r.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(r)).digest("hex"):method(r)};return nodeMethod},createHmacOutputMethod=function(r,e){return function(t,n){return new HmacSha256(t,e,!0).update(n)[r]()}},createHmacMethod=function(r){var e=createHmacOutputMethod("hex",r);e.create=function(i){return new HmacSha256(i,r)},e.update=function(i,s){return e.create(i).update(s)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createHmacOutputMethod(n,r)}return e};function Sha256(r,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=r}Sha256.prototype.update=function(r){if(!this.finalized){var e,t=typeof r;if(t!=="string"){if(t==="object"){if(r===null)throw new Error(ERROR);if(ARRAY_BUFFER&&r.constructor===ArrayBuffer)r=new Uint8Array(r);else if(!Array.isArray(r)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(r)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var n,i=0,s,o=r.length,a=this.blocks;i<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(s=this.start;i<o&&s<64;++i)a[s>>2]|=r[i]<<SHIFT[s++&3];else for(s=this.start;i<o&&s<64;++i)n=r.charCodeAt(i),n<128?a[s>>2]|=n<<SHIFT[s++&3]:n<2048?(a[s>>2]|=(192|n>>6)<<SHIFT[s++&3],a[s>>2]|=(128|n&63)<<SHIFT[s++&3]):n<55296||n>=57344?(a[s>>2]|=(224|n>>12)<<SHIFT[s++&3],a[s>>2]|=(128|n>>6&63)<<SHIFT[s++&3],a[s>>2]|=(128|n&63)<<SHIFT[s++&3]):(n=65536+((n&1023)<<10|r.charCodeAt(++i)&1023),a[s>>2]|=(240|n>>18)<<SHIFT[s++&3],a[s>>2]|=(128|n>>12&63)<<SHIFT[s++&3],a[s>>2]|=(128|n>>6&63)<<SHIFT[s++&3],a[s>>2]|=(128|n&63)<<SHIFT[s++&3]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=a[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var r=this.blocks,e=this.lastByteIndex;r[16]=this.block,r[e>>2]|=EXTRA[e&3],this.block=r[16],e>=56&&(this.hashed||this.hash(),r[0]=this.block,r[16]=r[1]=r[2]=r[3]=r[4]=r[5]=r[6]=r[7]=r[8]=r[9]=r[10]=r[11]=r[12]=r[13]=r[14]=r[15]=0),r[14]=this.hBytes<<3|this.bytes>>>29,r[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var r=this.h0,e=this.h1,t=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,c=this.blocks,f,y,B,F,A,ne,ee,le,ve,nt,Cr;for(f=16;f<64;++f)A=c[f-15],y=(A>>>7|A<<25)^(A>>>18|A<<14)^A>>>3,A=c[f-2],B=(A>>>17|A<<15)^(A>>>19|A<<13)^A>>>10,c[f]=c[f-16]+y+c[f-7]+B<<0;for(Cr=e&t,f=0;f<64;f+=4)this.first?(this.is224?(le=300032,A=c[0]-1413257819,a=A-150054599<<0,n=A+24177077<<0):(le=704751109,A=c[0]-210244248,a=A-1521486534<<0,n=A+143694565<<0),this.first=!1):(y=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),B=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),le=r&e,F=le^r&t^Cr,ee=i&s^~i&o,A=a+B+ee+K[f]+c[f],ne=y+F,a=n+A<<0,n=A+ne<<0),y=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),B=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),ve=n&r,F=ve^n&e^le,ee=a&i^~a&s,A=o+B+ee+K[f+1]+c[f+1],ne=y+F,o=t+A<<0,t=A+ne<<0,y=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),B=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),nt=t&n,F=nt^t&r^ve,ee=o&a^~o&i,A=s+B+ee+K[f+2]+c[f+2],ne=y+F,s=e+A<<0,e=A+ne<<0,y=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),B=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),Cr=e&t,F=Cr^e&n^nt,ee=s&o^~s&a,A=i+B+ee+K[f+3]+c[f+3],ne=y+F,i=r+A<<0,r=A+ne<<0;this.h0=this.h0+r<<0,this.h1=this.h1+e<<0,this.h2=this.h2+t<<0,this.h3=this.h3+n<<0,this.h4=this.h4+i<<0,this.h5=this.h5+s<<0,this.h6=this.h6+o<<0,this.h7=this.h7+a<<0},Sha256.prototype.hex=function(){this.finalize();var r=this.h0,e=this.h1,t=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,c=HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15];return this.is224||(c+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var r=this.h0,e=this.h1,t=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,c=[r>>24&255,r>>16&255,r>>8&255,r&255,e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,i>>24&255,i>>16&255,i>>8&255,i&255,s>>24&255,s>>16&255,s>>8&255,s&255,o>>24&255,o>>16&255,o>>8&255,o&255];return this.is224||c.push(a>>24&255,a>>16&255,a>>8&255,a&255),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var r=new ArrayBuffer(this.is224?28:32),e=new DataView(r);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),r};function HmacSha256(r,e,t){var n,i=typeof r;if(i==="string"){var s=[],o=r.length,a=0,c;for(n=0;n<o;++n)c=r.charCodeAt(n),c<128?s[a++]=c:c<2048?(s[a++]=192|c>>6,s[a++]=128|c&63):c<55296||c>=57344?(s[a++]=224|c>>12,s[a++]=128|c>>6&63,s[a++]=128|c&63):(c=65536+((c&1023)<<10|r.charCodeAt(++n)&1023),s[a++]=240|c>>18,s[a++]=128|c>>12&63,s[a++]=128|c>>6&63,s[a++]=128|c&63);r=s}else if(i==="object"){if(r===null)throw new Error(ERROR);if(ARRAY_BUFFER&&r.constructor===ArrayBuffer)r=new Uint8Array(r);else if(!Array.isArray(r)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(r)))throw new Error(ERROR)}else throw new Error(ERROR);r.length>64&&(r=new Sha256(e,!0).update(r).array());var f=[],y=[];for(n=0;n<64;++n){var B=r[n]||0;f[n]=92^B,y[n]=54^B}Sha256.call(this,e,t),this.update(y),this.oKeyPad=f,this.inner=!0,this.sharedMemory=t}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var r=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(r),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define(function(){return exports}))})()});var qA={};Y0(qA,{registerWorker:()=>db});var Xm=er(ws(),1),Zm=er(ba(),1),cs=er(Zs(),1),us=er(Ha(),1),Qm=er(Pm(),1),eb=er(km(),1),Tc=er(Cm(),1),Sc=er(jm(),1),p=er(Jm(),1);Xm.default.toDOMStream=Qm.toDOMStream;Zm.Builder.throughDOM=eb.builderThroughDOMStream;cs.RecordBatchReader.throughDOM=Tc.recordBatchReaderThroughDOMStream;cs.RecordBatchFileReader.throughDOM=Tc.recordBatchReaderThroughDOMStream;cs.RecordBatchStreamReader.throughDOM=Tc.recordBatchReaderThroughDOMStream;us.RecordBatchWriter.throughDOM=Sc.recordBatchWriterThroughDOMStream;us.RecordBatchFileWriter.throughDOM=Sc.recordBatchWriterThroughDOMStream;us.RecordBatchStreamWriter.throughDOM=Sc.recordBatchWriterThroughDOMStream;function nf(r){switch(r.typeId){case p.Type.Binary:return{type:"binary"};case p.Type.Bool:return{type:"bool"};case p.Type.Date:return{type:"date"};case p.Type.DateDay:return{type:"date32[d]"};case p.Type.DateMillisecond:return{type:"date64[ms]"};case p.Type.Decimal:{let e=r;return{type:"decimal",precision:e.precision,scale:e.scale}}case p.Type.Float:return{type:"float"};case p.Type.Float16:return{type:"float16"};case p.Type.Float32:return{type:"float32"};case p.Type.Float64:return{type:"float64"};case p.Type.Int:return{type:"int32"};case p.Type.Int16:return{type:"int16"};case p.Type.Int32:return{type:"int32"};case p.Type.Int64:return{type:"int64"};case p.Type.Uint16:return{type:"uint16"};case p.Type.Uint32:return{type:"uint32"};case p.Type.Uint64:return{type:"uint64"};case p.Type.Uint8:return{type:"uint8"};case p.Type.IntervalDayTime:return{type:"interval[dt]"};case p.Type.IntervalYearMonth:return{type:"interval[m]"};case p.Type.List:{let e=r;return{type:"list",children:[ao(e.valueField.name,e.valueField.type)]}}case p.Type.FixedSizeBinary:return{type:"fixedsizebinary",byteWidth:r.byteWidth};case p.Type.Null:return{type:"null"};case p.Type.Utf8:return{type:"utf8"};case p.Type.Struct:return{type:"struct",children:r.children.map(t=>ao(t.name,t.type))};case p.Type.Time:return{type:"time[s]"};case p.Type.TimeMicrosecond:return{type:"time[us]"};case p.Type.TimeMillisecond:return{type:"time[ms]"};case p.Type.TimeNanosecond:return{type:"time[ns]"};case p.Type.TimeSecond:return{type:"time[s]"};case p.Type.Timestamp:return{type:"timestamp",timezone:r.timezone||void 0};case p.Type.TimestampSecond:return{type:"timestamp[s]",timezone:r.timezone||void 0};case p.Type.TimestampMicrosecond:return{type:"timestamp[us]",timezone:r.timezone||void 0};case p.Type.TimestampNanosecond:return{type:"timestamp[ns]",timezone:r.timezone||void 0};case p.Type.TimestampMillisecond:return{type:"timestamp[ms]",timezone:r.timezone||void 0}}throw new Error(`unsupported arrow type: ${r.toString()}`)}function ao(r,e){let t=nf(e);return t.name=r,t}var sf=class{constructor(){this._bindings=null;this._nextMessageId=0}log(e){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:e},[])}sendOK(e){this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"OK",data:null},[])}failWith(e,t){let n={name:t.name,message:t.message,stack:t.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"ERROR",data:n},[])}async onMessage(e){switch(e.type){case"PING":this.sendOK(e);return;case"INSTANTIATE":this._bindings!=null&&this.failWith(e,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(e.data[0],e.data[1],t=>{this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"INSTANTIATE_PROGRESS",data:t},[])}),this.sendOK(e)}catch(t){this._bindings=null,this.failWith(e,t)}return;default:break}if(!this._bindings)return this.failWith(e,new Error("duckdb is not initialized"));try{switch(e.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(e);break;case"OPEN":this._bindings.open(e.data),this.sendOK(e);break;case"DROP_FILE":this._bindings.dropFile(e.data),this.sendOK(e);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(e);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(e);break;case"CONNECT":{let t=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"CONNECTION_INFO",data:t.useUnsafe((n,i)=>i)},[]);break}case"DISCONNECT":this._bindings.disconnect(e.data),this.sendOK(e);break;case"CREATE_PREPARED":{let t=this._bindings.createPrepared(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"PREPARED_STATEMENT_ID",data:t},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared(e.data[0],e.data[1]),this.sendOK(e);break}case"RUN_PREPARED":{let t=this._bindings.runPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT",data:t},[t.buffer]);break}case"RUN_QUERY":{let t=this._bindings.runQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT",data:t},[t.buffer]);break}case"SEND_PREPARED":{let t=this._bindings.sendPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_START",data:t},[t.buffer]);break}case"SEND_QUERY":{let t=this._bindings.sendQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_START",data:t},[t.buffer]);break}case"FETCH_QUERY_RESULTS":{let t=this._bindings.fetchQueryResults(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT_CHUNK",data:t},[t.buffer]);break}case"GET_TABLE_NAMES":{let t=this._bindings.getTableNames(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"TABLE_NAMES",data:t},[]);break}case"GLOB_FILE_INFOS":{let t=this._bindings.globFiles(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FILE_INFOS",data:t},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(e.data[0],e.data[1]),this.sendOK(e);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(e.data[0],e.data[1]),this.sendOK(e);break;case"REGISTER_FILE_HANDLE":this._bindings.registerFileHandle(e.data[0],e.data[1]),this.sendOK(e);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(e.data[0],e.data[1]),this.sendOK(e);break;case"COPY_FILE_TO_BUFFER":{let t=this._bindings.copyFileToBuffer(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FILE_BUFFER",data:t},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(e.data[0],e.data[1]),this.sendOK(e);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(e.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case"TOKENIZE":{let t=this._bindings.tokenize(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"SCRIPT_TOKENS",data:t},[]);break}}}catch(t){return this.failWith(e,t)}}};var nb={},EA=(()=>{var r=nb.url;return function(e){e=e||{};var t=typeof e<"u"?e:{},n=Object.assign,i,s;t.ready=new Promise(function(u,d){i=u,s=d});var o=n({},t),a=[],c="./this.program",f=(u,d)=>{throw d},y=typeof window=="object",B=typeof importScripts=="function",F=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",A="";function ne(u){return t.locateFile?t.locateFile(u,A):A+u}var ee,le,ve,nt;function Cr(u){if(u instanceof Io)return;ae("exiting due to exception: "+u)}var Rn,ai,ci;F?(B?A=of().dirname(A)+"/":A=__dirname+"/",ci=function(){ai||(Rn=rb(),ai=of())},ee=function(d,h){return ci(),d=ai.normalize(d),Rn.readFileSync(d,h?null:"utf8")},ve=function(d){var h=ee(d,!0);return h.buffer||(h=new Uint8Array(h)),h},le=function(d,h,_){ci(),d=ai.normalize(d),Rn.readFile(d,function(v,V){v?_(v):h(V.buffer)})},process.argv.length>1&&(c=process.argv[1].replace(/\\/g,"/")),a=process.argv.slice(2),process.on("uncaughtException",function(u){if(!(u instanceof Io))throw u}),process.on("unhandledRejection",function(u){throw u}),f=(u,d)=>{if(Fc())throw process.exitCode=u,d;Cr(d),process.exit(u)},t.inspect=function(){return"[Emscripten Module object]"}):(y||B)&&(B?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),r&&(A=r),A.indexOf("blob:")!==0?A=A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):A="",ee=function(u){var d=new XMLHttpRequest;return d.open("GET",u,!1),d.send(null),d.responseText},B&&(ve=function(u){var d=new XMLHttpRequest;return d.open("GET",u,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),le=function(u,d,h){var _=new XMLHttpRequest;_.open("GET",u,!0),_.responseType="arraybuffer",_.onload=function(){if(_.status==200||_.status==0&&_.response){d(_.response);return}h()},_.onerror=h,_.send(null)},nt=u=>document.title=u);var ds=t.print||console.log.bind(console),ae=t.printErr||console.warn.bind(console);n(t,o),o=null,t.arguments&&(a=t.arguments),t.thisProgram&&(c=t.thisProgram),t.quit&&(f=t.quit);var ye;t.wasmBinary&&(ye=t.wasmBinary);var Kt=t.noExitRuntime||!0;typeof WebAssembly!="object"&&Lt("no native wasm support detected");var Jt,Ir=!1,Xt;function jr(u,d){u||Lt(d)}function Fe(u){var d=t["_"+u];return d}function qr(u,d,h,_,v){var V={string:function(Pe){var kt=0;if(Pe!=null&&Pe!==0){var Zt=(Pe.length<<2)+1;kt=Pc(Zt),Ac(Pe,kt,Zt)}return kt},array:function(Pe){var kt=Pc(Pe.length);return _f(Pe,kt),kt}};function M(Pe){return d==="string"?Tr(Pe):d==="boolean"?Boolean(Pe):Pe}var O=Fe(u),k=[],_e=0;if(_)for(var he=0;he<_.length;he++){var _t=V[h[he]];_t?(_e===0&&(_e=Vf()),k[he]=_t(_[he])):k[he]=_[he]}var we=O.apply(null,k);function mt(Pe){return _e!==0&&Rf(_e),M(Pe)}return we=mt(we),we}var uo=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function pf(u,d,h){for(var _=d+h,v=d;u[v]&&!(v>=_);)++v;if(v-d>16&&u.subarray&&uo)return uo.decode(u.subarray(d,v));for(var V="";d<v;){var M=u[d++];if(!(M&128)){V+=String.fromCharCode(M);continue}var O=u[d++]&63;if((M&224)==192){V+=String.fromCharCode((M&31)<<6|O);continue}var k=u[d++]&63;if((M&240)==224?M=(M&15)<<12|O<<6|k:M=(M&7)<<18|O<<12|k<<6|u[d++]&63,M<65536)V+=String.fromCharCode(M);else{var _e=M-65536;V+=String.fromCharCode(55296|_e>>10,56320|_e&1023)}}return V}function Tr(u,d){return u?pf(Hr,u,d):""}function yf(u,d,h,_){if(!(_>0))return 0;for(var v=h,V=h+_-1,M=0;M<u.length;++M){var O=u.charCodeAt(M);if(O>=55296&&O<=57343){var k=u.charCodeAt(++M);O=65536+((O&1023)<<10)|k&1023}if(O<=127){if(h>=V)break;d[h++]=O}else if(O<=2047){if(h+1>=V)break;d[h++]=192|O>>6,d[h++]=128|O&63}else if(O<=65535){if(h+2>=V)break;d[h++]=224|O>>12,d[h++]=128|O>>6&63,d[h++]=128|O&63}else{if(h+3>=V)break;d[h++]=240|O>>18,d[h++]=128|O>>12&63,d[h++]=128|O>>6&63,d[h++]=128|O&63}}return d[h]=0,h-v}function Ac(u,d,h){return yf(u,Hr,d,h)}function fb(u){for(var d=0,h=0;h<u.length;++h){var _=u.charCodeAt(h);_>=55296&&_<=57343&&(_=65536+((_&1023)<<10)|u.charCodeAt(++h)&1023),_<=127?++d:_<=2047?d+=2:_<=65535?d+=3:d+=4}return d}function _f(u,d){fs.set(u,d)}function hb(u,d,h){for(var _=0;_<u.length;++_)fs[d++>>0]=u.charCodeAt(_);h||(fs[d>>0]=0)}function pb(u,d){return u%d>0&&(u+=d-u%d),u}var mf,fs,Hr,hs,bf,L,yb,_b,mb;function gf(u){mf=u,t.HEAP8=fs=new Int8Array(u),t.HEAP16=hs=new Int16Array(u),t.HEAP32=L=new Int32Array(u),t.HEAPU8=Hr=new Uint8Array(u),t.HEAPU16=bf=new Uint16Array(u),t.HEAPU32=yb=new Uint32Array(u),t.HEAPF32=_b=new Float32Array(u),t.HEAPF64=mb=new Float64Array(u)}var HA=t.INITIAL_MEMORY||16777216,vf,wf=[],Bf=[],bb=[],If=[],gb=!1,vb=!1,wb=0;function Fc(){return Kt||wb>0}function Bb(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Fb(t.preRun.shift());lo(wf)}function Ib(){gb=!0,lo(Bf)}function Tb(){lo(bb)}function Sb(){vb=!0}function Ab(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Ob(t.postRun.shift());lo(If)}function Fb(u){wf.unshift(u)}function Db(u){Bf.unshift(u)}function Ob(u){If.unshift(u)}var xn=0,Dc=null,ps=null;function Mb(u){xn++,t.monitorRunDependencies&&t.monitorRunDependencies(xn)}function Ub(u){if(xn--,t.monitorRunDependencies&&t.monitorRunDependencies(xn),xn==0&&(Dc!==null&&(clearInterval(Dc),Dc=null),ps)){var d=ps;ps=null,d()}}t.preloadedImages={},t.preloadedAudios={};function Lt(u){t.onAbort&&t.onAbort(u),u="Aborted("+u+")",ae(u),Ir=!0,Xt=1,u+=". Build with -s ASSERTIONS=1 for more info.";var d=new WebAssembly.RuntimeError(u);throw s(d),d}var Eb="data:application/octet-stream;base64,";function Tf(u){return u.startsWith(Eb)}var pt;t.locateFile?(pt="./duckdb-eh.wasm",Tf(pt)||(pt=ne(pt))):pt=new URL("./duckdb-eh.wasm",nb.url).toString();function Sf(u){try{if(u==pt&&ye)return new Uint8Array(ye);if(ve)return ve(u);throw"both async and sync fetching of the wasm failed"}catch(d){Lt(d)}}function Vb(){return!ye&&(y||B)&&typeof fetch=="function"?fetch(pt,{credentials:"same-origin"}).then(function(u){if(!u.ok)throw"failed to load wasm binary file at '"+pt+"'";return u.arrayBuffer()}).catch(function(){return Sf(pt)}):Promise.resolve().then(function(){return Sf(pt)})}function Rb(){var u={a:Gg};function d(M,O){var k=M.exports;t.asm=k,Jt=t.asm.ea,gf(Jt.buffer),vf=t.asm.ha,Db(t.asm.fa),Ub("wasm-instantiate")}Mb("wasm-instantiate");function h(M){d(M.instance)}function _(M){return Vb().then(function(O){return WebAssembly.instantiate(O,u)}).then(function(O){return O}).then(M,function(O){ae("failed to asynchronously prepare wasm: "+O),Lt(O)})}function v(){return!ye&&typeof WebAssembly.instantiateStreaming=="function"&&!Tf(pt)&&typeof fetch=="function"?fetch(pt,{credentials:"same-origin"}).then(function(M){var O=WebAssembly.instantiateStreaming(M,u);return O.then(h,function(k){return ae("wasm streaming compile failed: "+k),ae("falling back to ArrayBuffer instantiation"),_(h)})}):_(h)}if(t.instantiateWasm)try{var V=t.instantiateWasm(u,d);return V}catch(M){return ae("Module.instantiateWasm callback failed with error: "+M),!1}return v().catch(s),{}}function lo(u){for(;u.length>0;){var d=u.shift();if(typeof d=="function"){d(t);continue}var h=d.func;typeof h=="number"?d.arg===void 0?Af(h)():Af(h)(d.arg):h(d.arg===void 0?null:d.arg)}}var fo=[];function Af(u){var d=fo[u];return d||(u>=fo.length&&(fo.length=u+1),fo[u]=d=vf.get(u)),d}function xb(u){if(u instanceof Io||u=="unwind")return Xt;f(1,u)}function Pb(u,d,h,_){Lt("Assertion failed: "+Tr(u)+", at: "+[d?Tr(d):"unknown filename",h,_?Tr(_):"unknown function"])}var Ke={mappings:{},buffers:[null,[],[]],printChar:function(u,d){var h=Ke.buffers[u];d===0||d===10?((u===1?ds:ae)(pf(h,0)),h.length=0):h.push(d)},varargs:void 0,get:function(){Ke.varargs+=4;var u=L[Ke.varargs-4>>2];return u},getStr:function(u){var d=Tr(u);return d},get64:function(u,d){return u}};function Nb(u,d,h,_,v){}function Lb(u,d){return u=Ke.getStr(u),Ke.doAccess(u,d)}function kb(){ae("missing function: $SOCKFS"),Lt(-1)}function Ff(){ae("missing function: $FS"),Lt(-1)}function ys(u){var d=kb.getSocket(u);if(!d)throw new Ff.ErrnoError(8);return d}function Cb(u){return L[Ef()>>2]=u,u}function Oc(u){return(u&255)+"."+(u>>8&255)+"."+(u>>16&255)+"."+(u>>24&255)}function Df(u){var d="",h=0,_=0,v=0,V=0,M=0,O=0,k=[u[0]&65535,u[0]>>16,u[1]&65535,u[1]>>16,u[2]&65535,u[2]>>16,u[3]&65535,u[3]>>16],_e=!0,he="";for(O=0;O<5;O++)if(k[O]!==0){_e=!1;break}if(_e){if(he=Oc(k[6]|k[7]<<16),k[5]===-1)return d="::ffff:",d+=he,d;if(k[5]===0)return d="::",he==="0.0.0.0"&&(he=""),he==="0.0.0.1"&&(he="1"),d+=he,d}for(h=0;h<8;h++)k[h]===0&&(h-v>1&&(M=0),v=h,M++),M>_&&(_=M,V=h-_+1);for(h=0;h<8;h++){if(_>1&&k[h]===0&&h>=V&&h<V+_){h===V&&(d+=":",V===0&&(d+=":"));continue}d+=Number(xc(k[h]&65535)).toString(16),d+=h<7?":":""}return d}function Of(u,d){var h=hs[u>>1],_=xc(bf[u+2>>1]),v;switch(h){case 2:if(d!==16)return{errno:28};v=L[u+4>>2],v=Oc(v);break;case 10:if(d!==28)return{errno:28};v=[L[u+8>>2],L[u+12>>2],L[u+16>>2],L[u+20>>2]],v=Df(v);break;default:return{errno:5}}return{family:h,addr:v,port:_}}function ho(u){for(var d=u.split("."),h=0;h<4;h++){var _=Number(d[h]);if(isNaN(_))return null;d[h]=_}return(d[0]|d[1]<<8|d[2]<<16|d[3]<<24)>>>0}function po(u){return parseInt(u)}function Mc(u){var d,h,_,v,V=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,M=[];if(!V.test(u))return null;if(u==="::")return[0,0,0,0,0,0,0,0];for(u.startsWith("::")?u=u.replace("::","Z:"):u=u.replace("::",":Z:"),u.indexOf(".")>0?(u=u.replace(new RegExp("[.]","g"),":"),d=u.split(":"),d[d.length-4]=po(d[d.length-4])+po(d[d.length-3])*256,d[d.length-3]=po(d[d.length-2])+po(d[d.length-1])*256,d=d.slice(0,d.length-2)):d=u.split(":"),_=0,v=0,h=0;h<d.length;h++)if(typeof d[h]=="string")if(d[h]==="Z"){for(v=0;v<8-d.length+1;v++)M[h+v]=0;_=v-1}else M[h+_]=wo(parseInt(d[h],16));else M[h+_]=d[h];return[M[1]<<16|M[0],M[3]<<16|M[2],M[5]<<16|M[4],M[7]<<16|M[6]]}var yt={address_map:{id:1,addrs:{},names:{}},lookup_name:function(u){var d=ho(u);if(d!==null||(d=Mc(u),d!==null))return u;var h;if(yt.address_map.addrs[u])h=yt.address_map.addrs[u];else{var _=yt.address_map.id++;jr(_<65535,"exceeded max address mappings of 65535"),h="172.29."+(_&255)+"."+(_&65280),yt.address_map.names[h]=u,yt.address_map.addrs[u]=h}return h},lookup_addr:function(u){return yt.address_map.names[u]?yt.address_map.names[u]:null}};function Mf(u,d,h){if(h&&u===0)return null;var _=Of(u,d);if(_.errno)throw new Ff.ErrnoError(_.errno);return _.addr=yt.lookup_addr(_.addr)||_.addr,_}function jb(u,d,h){var _=ys(u),v=Mf(d,h);return _.sock_ops.bind(_,v.addr,v.port),0}function qb(u,d,h){var _=ys(u),v=Mf(d,h);return _.sock_ops.connect(_,v.addr,v.port),0}function Hb(u,d,h){return Ke.varargs=h,0}function zb(u,d){}function Wb(u,d,h,_){}function Yb(u,d,h){}function Gb(u,d,h){}function Uf(u,d){Hr.fill(0,u,u+d)}function Uc(u,d,h,_,v){switch(d){case 2:h=ho(h),Uf(u,16),v&&(L[v>>2]=16),hs[u>>1]=d,L[u+4>>2]=h,hs[u+2>>1]=wo(_);break;case 10:h=Mc(h),Uf(u,28),v&&(L[v>>2]=28),L[u>>2]=d,L[u+8>>2]=h[0],L[u+12>>2]=h[1],L[u+16>>2]=h[2],L[u+20>>2]=h[3],hs[u+2>>1]=wo(_);break;default:return 5}return 0}function $b(u,d,h){var _=ys(u);if(!_.daddr)return-53;var v=Uc(d,_.family,yt.lookup_name(_.daddr),_.dport,h);return 0}function Kb(u,d,h,_,v){var V=ys(u);return d===1&&h===4?(L[_>>2]=V.error,L[v>>2]=4,V.error=null,0):-50}function Jb(u,d,h){return Ke.varargs=h,0}function Xb(u,d){}function Zb(u,d){return u=Ke.getStr(u),Ke.doMkdir(u,d)}function Qb(u,d,h){Ke.varargs=h}function eg(u,d,h,_,v,V){var M=ys(u),O=M.sock_ops.recvmsg(M,h);if(!O)return 0;if(v)var k=Uc(v,M.family,yt.lookup_name(O.addr),O.port,V);return Hr.set(O.buffer,d),O.buffer.byteLength}function tg(u,d){}function rg(u){}function ng(u,d,h,_,v,V){}function ig(u,d,h){}function sg(u,d){}function og(u){}function ag(u,d){Lt("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function cg(u,d){Lt("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function ug(){Lt("")}var Ec;F?Ec=()=>{var u=process.hrtime();return u[0]*1e3+u[1]/1e6}:Ec=()=>performance.now();var lg=!0;function dg(u,d){var h;if(u===0)h=Date.now();else if((u===1||u===4)&&lg)h=Ec();else return Cb(28),-1;return L[d>>2]=h/1e3|0,L[d+4>>2]=h%1e3*1e3*1e3|0,0}function fg(u,d){return globalThis.DUCKDB_RUNTIME.createDirectory(t,u,d)}function hg(u,d){return globalThis.DUCKDB_RUNTIME.checkDirectory(t,u,d)}function pg(u,d){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(t,u,d)}function yg(u,d){return globalThis.DUCKDB_RUNTIME.removeDirectory(t,u,d)}function _g(u){return globalThis.DUCKDB_RUNTIME.closeFile(t,u)}function mg(u,d){return globalThis.DUCKDB_RUNTIME.checkFile(t,u,d)}function bg(u){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(t,u)}function gg(u,d,h,_){return globalThis.DUCKDB_RUNTIME.moveFile(t,u,d,h,_)}function vg(u,d){return globalThis.DUCKDB_RUNTIME.openFile(t,u,d)}function wg(u,d,h,_){return globalThis.DUCKDB_RUNTIME.readFile(t,u,d,h,_)}function Bg(u,d){return globalThis.DUCKDB_RUNTIME.truncateFile(t,u,d)}function Ig(u,d,h,_){return globalThis.DUCKDB_RUNTIME.writeFile(t,u,d,h,_)}function Tg(u,d){return globalThis.DUCKDB_RUNTIME.glob(t,u,d)}function Sg(u){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(t,u)}function Ag(u,d,h,_,v,V){return globalThis.DUCKDB_RUNTIME.callScalarUDF(t,u,d,h,_,v,V)}function Fg(){return 2147483648}function Dg(u,d,h){Hr.copyWithin(u,d,d+h)}function Og(u){try{return Jt.grow(u-mf.byteLength+65535>>>16),gf(Jt.buffer),1}catch(d){}}function Mg(u){var d=Hr.length;u=u>>>0;var h=2147483648;if(u>h)return!1;for(var _=1;_<=4;_*=2){var v=d*(1+.2/_);v=Math.min(v,u+100663296);var V=Math.min(h,pb(Math.max(u,v),65536)),M=Og(V);if(M)return!0}return!1}var Vc={};function Ug(){return c||"./this.program"}function _s(){if(!_s.strings){var u=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",d={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:u,_:Ug()};for(var h in Vc)Vc[h]===void 0?delete d[h]:d[h]=Vc[h];var _=[];for(var h in d)_.push(h+"="+d[h]);_s.strings=_}return _s.strings}function Eg(u,d){var h=0;return _s().forEach(function(_,v){var V=d+h;L[u+v*4>>2]=V,hb(_,V),h+=_.length+1}),0}function Vg(u,d){var h=_s();L[u>>2]=h.length;var _=0;return h.forEach(function(v){_+=v.length+1}),L[d>>2]=_,0}function Rg(u){return 0}function xg(u,d,h,_,v,V){var M=Ke.getStreamFromFD(u),O=Ke.doReadv(M,d,h,_);return L[V>>2]=O,0}function Pg(u,d,h,_,v,V){var M=Ke.getStreamFromFD(u),O=Ke.doWritev(M,d,h,_);return L[V>>2]=O,0}function Ng(u,d,h,_){var v=Ke.getStreamFromFD(u),V=Ke.doReadv(v,d,h);return L[_>>2]=V,0}function Lg(u,d,h,_,v){}function kg(u){var d=Ke.getStreamFromFD(u);return d.stream_ops&&d.stream_ops.fsync?-d.stream_ops.fsync(d):0}function Cg(u,d,h,_){for(var v=0,V=0;V<h;V++){var M=L[d>>2],O=L[d+4>>2];d+=8;for(var k=0;k<O;k++)Ke.printChar(u,Hr[M+k]);v+=O}return L[_>>2]=v,0}function jg(u,d,h,_){var v=0,V=0,M=0,O=0,k=0,_e=0,he;function _t(we,mt,Pe,kt,Zt,ms){var T,C,de,pe;return C=we===10?28:16,Zt=we===10?Df(Zt):Oc(Zt),T=Nc(C),pe=Uc(T,we,Zt,ms),jr(!pe),de=Nc(32),L[de+4>>2]=we,L[de+8>>2]=mt,L[de+12>>2]=Pe,L[de+24>>2]=kt,L[de+20>>2]=T,we===10?L[de+16>>2]=28:L[de+16>>2]=16,L[de+28>>2]=0,de}if(h&&(M=L[h>>2],O=L[h+4>>2],k=L[h+8>>2],_e=L[h+12>>2]),k&&!_e&&(_e=k===2?17:6),!k&&_e&&(k=_e===17?2:1),_e===0&&(_e=6),k===0&&(k=1),!u&&!d)return-2;if(M&-1088||h!==0&&L[h>>2]&2&&!u)return-1;if(M&32)return-2;if(k!==0&&k!==1&&k!==2)return-7;if(O!==0&&O!==2&&O!==10)return-6;if(d&&(d=Tr(d),V=parseInt(d,10),isNaN(V)))return M&1024?-2:-8;if(!u)return O===0&&(O=2),(M&1)===0&&(O===2?v=vo(2130706433):v=[0,0,0,1]),he=_t(O,k,_e,null,v,V),L[_>>2]=he,0;if(u=Tr(u),v=ho(u),v!==null)if(O===0||O===2)O=2;else if(O===10&&M&8)v=[0,0,vo(65535),v],O=10;else return-2;else if(v=Mc(u),v!==null)if(O===0||O===10)O=10;else return-2;return v!=null?(he=_t(O,k,_e,u,v,V),L[_>>2]=he,0):M&4?-2:(u=yt.lookup_name(u),v=ho(u),O===0?O=2:O===10&&(v=[0,0,vo(65535),v]),he=_t(O,k,_e,null,v,V),L[_>>2]=he,0)}function qg(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var u=new Uint8Array(1);return function(){return crypto.getRandomValues(u),u[0]}}else if(F)try{var d=W0("crypto");return function(){return d.randomBytes(1)[0]}}catch(h){}return function(){Lt("randomDevice")}}function yo(u,d){yo.randomDevice||(yo.randomDevice=qg());for(var h=0;h<d;h++)fs[u+h>>0]=yo.randomDevice();return 0}function Hg(u,d,h,_,v,V,M){var O=Of(u,d);if(O.errno)return-6;var k=O.port,_e=O.addr,he=!1;if(h&&_){var _t;if(M&1||!(_t=yt.lookup_addr(_e))){if(M&8)return-2}else _e=_t;var we=Ac(_e,h,_);we+1>=_&&(he=!0)}if(v&&V){k=""+k;var we=Ac(k,v,V);we+1>=V&&(he=!0)}return he?-12:0}function _o(u){return u%4===0&&(u%100!==0||u%400===0)}function Rc(u,d){for(var h=0,_=0;_<=d;h+=u[_++]);return h}var mo=[31,29,31,30,31,30,31,31,30,31,30,31],bo=[31,28,31,30,31,30,31,31,30,31,30,31];function go(u,d){for(var h=new Date(u.getTime());d>0;){var _=_o(h.getFullYear()),v=h.getMonth(),V=(_?mo:bo)[v];if(d>V-h.getDate())d-=V-h.getDate()+1,h.setDate(1),v<11?h.setMonth(v+1):(h.setMonth(0),h.setFullYear(h.getFullYear()+1));else return h.setDate(h.getDate()+d),h}return h}function zg(u,d,h,_){var v=L[_+40>>2],V={tm_sec:L[_>>2],tm_min:L[_+4>>2],tm_hour:L[_+8>>2],tm_mday:L[_+12>>2],tm_mon:L[_+16>>2],tm_year:L[_+20>>2],tm_wday:L[_+24>>2],tm_yday:L[_+28>>2],tm_isdst:L[_+32>>2],tm_gmtoff:L[_+36>>2],tm_zone:v?Tr(v):""},M=Tr(h),O={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var k in O)M=M.replace(new RegExp(k,"g"),O[k]);var _e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],he=["January","February","March","April","May","June","July","August","September","October","November","December"];function _t(T,C,de){for(var pe=typeof T=="number"?T.toString():T||"";pe.length<C;)pe=de[0]+pe;return pe}function we(T,C){return _t(T,C,"0")}function mt(T,C){function de(Qt){return Qt<0?-1:Qt>0?1:0}var pe;return(pe=de(T.getFullYear()-C.getFullYear()))===0&&(pe=de(T.getMonth()-C.getMonth()))===0&&(pe=de(T.getDate()-C.getDate())),pe}function Pe(T){switch(T.getDay()){case 0:return new Date(T.getFullYear()-1,11,29);case 1:return T;case 2:return new Date(T.getFullYear(),0,3);case 3:return new Date(T.getFullYear(),0,2);case 4:return new Date(T.getFullYear(),0,1);case 5:return new Date(T.getFullYear()-1,11,31);case 6:return new Date(T.getFullYear()-1,11,30)}}function kt(T){var C=go(new Date(T.tm_year+1900,0,1),T.tm_yday),de=new Date(C.getFullYear(),0,4),pe=new Date(C.getFullYear()+1,0,4),Qt=Pe(de),zr=Pe(pe);return mt(Qt,C)<=0?mt(zr,C)<=0?C.getFullYear()+1:C.getFullYear():C.getFullYear()-1}var Zt={"%a":function(T){return _e[T.tm_wday].substring(0,3)},"%A":function(T){return _e[T.tm_wday]},"%b":function(T){return he[T.tm_mon].substring(0,3)},"%B":function(T){return he[T.tm_mon]},"%C":function(T){var C=T.tm_year+1900;return we(C/100|0,2)},"%d":function(T){return we(T.tm_mday,2)},"%e":function(T){return _t(T.tm_mday,2," ")},"%g":function(T){return kt(T).toString().substring(2)},"%G":function(T){return kt(T)},"%H":function(T){return we(T.tm_hour,2)},"%I":function(T){var C=T.tm_hour;return C==0?C=12:C>12&&(C-=12),we(C,2)},"%j":function(T){return we(T.tm_mday+Rc(_o(T.tm_year+1900)?mo:bo,T.tm_mon-1),3)},"%m":function(T){return we(T.tm_mon+1,2)},"%M":function(T){return we(T.tm_min,2)},"%n":function(){return`
`},"%p":function(T){return T.tm_hour>=0&&T.tm_hour<12?"AM":"PM"},"%S":function(T){return we(T.tm_sec,2)},"%t":function(){return"	"},"%u":function(T){return T.tm_wday||7},"%U":function(T){var C=new Date(T.tm_year+1900,0,1),de=C.getDay()===0?C:go(C,7-C.getDay()),pe=new Date(T.tm_year+1900,T.tm_mon,T.tm_mday);if(mt(de,pe)<0){var Qt=Rc(_o(pe.getFullYear())?mo:bo,pe.getMonth()-1)-31,zr=31-de.getDate(),Pn=zr+Qt+pe.getDate();return we(Math.ceil(Pn/7),2)}return mt(de,C)===0?"01":"00"},"%V":function(T){var C=new Date(T.tm_year+1900,0,4),de=new Date(T.tm_year+1901,0,4),pe=Pe(C),Qt=Pe(de),zr=go(new Date(T.tm_year+1900,0,1),T.tm_yday);if(mt(zr,pe)<0)return"53";if(mt(Qt,zr)<=0)return"01";var Pn;return pe.getFullYear()<T.tm_year+1900?Pn=T.tm_yday+32-pe.getDate():Pn=T.tm_yday+1-pe.getDate(),we(Math.ceil(Pn/7),2)},"%w":function(T){return T.tm_wday},"%W":function(T){var C=new Date(T.tm_year,0,1),de=C.getDay()===1?C:go(C,C.getDay()===0?1:7-C.getDay()+1),pe=new Date(T.tm_year+1900,T.tm_mon,T.tm_mday);if(mt(de,pe)<0){var Qt=Rc(_o(pe.getFullYear())?mo:bo,pe.getMonth()-1)-31,zr=31-de.getDate(),Pn=zr+Qt+pe.getDate();return we(Math.ceil(Pn/7),2)}return mt(de,C)===0?"01":"00"},"%y":function(T){return(T.tm_year+1900).toString().substring(2)},"%Y":function(T){return T.tm_year+1900},"%z":function(T){var C=T.tm_gmtoff,de=C>=0;return C=Math.abs(C)/60,C=C/60*100+C%60,(de?"+":"-")+String("0000"+C).slice(-4)},"%Z":function(T){return T.tm_zone},"%%":function(){return"%"}};for(var k in Zt)M.includes(k)&&(M=M.replace(new RegExp(k,"g"),Zt[k](V)));var ms=Yg(M,!1);return ms.length>d?0:(_f(ms,u),ms.length-1)}function Wg(u,d,h,_){return zg(u,d,h,_)}function Yg(u,d,h){var _=h>0?h:fb(u)+1,v=new Array(_),V=yf(u,v,0,v.length);return d&&(v.length=V),v}var Gg={a:Pb,R:Nb,L:Lb,T:jb,S:qb,b:Hb,$:zb,Z:Wb,W:Yb,X:Gb,N:$b,Q:Kb,ba:Jb,Y:Xb,aa:Zb,q:Qb,O:eg,J:tg,o:rg,P:ng,k:ig,_:sg,p:og,m:ag,U:cg,d:ug,n:dg,D:fg,E:hg,B:pg,C:yg,h:_g,z:mg,G:bg,A:gg,H:vg,f:wg,F:Bg,i:Ig,y:Tg,g:Sg,I:Ag,r:Fg,ca:Dg,da:Mg,t:Eg,u:Vg,c:Rg,w:xg,v:Pg,j:Ng,x:Lg,K:kg,e:Cg,l:jg,V:yo,M:Hg,s:Wg},zA=Rb(),$g=t.___wasm_call_ctors=function(){return($g=t.___wasm_call_ctors=t.asm.fa).apply(null,arguments)},Kg=t._main=function(){return(Kg=t._main=t.asm.ga).apply(null,arguments)},Jg=t._duckdb_web_fs_glob_add_path=function(){return(Jg=t._duckdb_web_fs_glob_add_path=t.asm.ia).apply(null,arguments)},Xg=t._duckdb_web_clear_response=function(){return(Xg=t._duckdb_web_clear_response=t.asm.ja).apply(null,arguments)},Zg=t._duckdb_web_fail_with=function(){return(Zg=t._duckdb_web_fail_with=t.asm.ka).apply(null,arguments)},Qg=t._duckdb_web_reset=function(){return(Qg=t._duckdb_web_reset=t.asm.la).apply(null,arguments)},e0=t._duckdb_web_connect=function(){return(e0=t._duckdb_web_connect=t.asm.ma).apply(null,arguments)},t0=t._duckdb_web_disconnect=function(){return(t0=t._duckdb_web_disconnect=t.asm.na).apply(null,arguments)},r0=t._duckdb_web_flush_files=function(){return(r0=t._duckdb_web_flush_files=t.asm.oa).apply(null,arguments)},n0=t._duckdb_web_flush_file=function(){return(n0=t._duckdb_web_flush_file=t.asm.pa).apply(null,arguments)},i0=t._duckdb_web_open=function(){return(i0=t._duckdb_web_open=t.asm.qa).apply(null,arguments)},s0=t._duckdb_web_get_global_file_info=function(){return(s0=t._duckdb_web_get_global_file_info=t.asm.ra).apply(null,arguments)},o0=t._duckdb_web_collect_file_stats=function(){return(o0=t._duckdb_web_collect_file_stats=t.asm.sa).apply(null,arguments)},a0=t._duckdb_web_export_file_stats=function(){return(a0=t._duckdb_web_export_file_stats=t.asm.ta).apply(null,arguments)},c0=t._duckdb_web_fs_drop_file=function(){return(c0=t._duckdb_web_fs_drop_file=t.asm.ua).apply(null,arguments)},u0=t._duckdb_web_fs_drop_files=function(){return(u0=t._duckdb_web_fs_drop_files=t.asm.va).apply(null,arguments)},l0=t._duckdb_web_fs_glob_file_infos=function(){return(l0=t._duckdb_web_fs_glob_file_infos=t.asm.wa).apply(null,arguments)},d0=t._duckdb_web_fs_get_file_info_by_id=function(){return(d0=t._duckdb_web_fs_get_file_info_by_id=t.asm.xa).apply(null,arguments)},f0=t._duckdb_web_fs_get_file_info_by_name=function(){return(f0=t._duckdb_web_fs_get_file_info_by_name=t.asm.ya).apply(null,arguments)},h0=t._duckdb_web_fs_set_file_descriptor=function(){return(h0=t._duckdb_web_fs_set_file_descriptor=t.asm.za).apply(null,arguments)},p0=t._duckdb_web_fs_register_file_url=function(){return(p0=t._duckdb_web_fs_register_file_url=t.asm.Aa).apply(null,arguments)},y0=t._duckdb_web_fs_register_file_buffer=function(){return(y0=t._duckdb_web_fs_register_file_buffer=t.asm.Ba).apply(null,arguments)},_0=t._duckdb_web_copy_file_to_buffer=function(){return(_0=t._duckdb_web_copy_file_to_buffer=t.asm.Ca).apply(null,arguments)},m0=t._duckdb_web_copy_file_to_path=function(){return(m0=t._duckdb_web_copy_file_to_path=t.asm.Da).apply(null,arguments)},b0=t._duckdb_web_get_version=function(){return(b0=t._duckdb_web_get_version=t.asm.Ea).apply(null,arguments)},g0=t._duckdb_web_get_feature_flags=function(){return(g0=t._duckdb_web_get_feature_flags=t.asm.Fa).apply(null,arguments)},v0=t._duckdb_web_tokenize=function(){return(v0=t._duckdb_web_tokenize=t.asm.Ga).apply(null,arguments)},w0=t._duckdb_web_udf_scalar_create=function(){return(w0=t._duckdb_web_udf_scalar_create=t.asm.Ha).apply(null,arguments)},B0=t._duckdb_web_prepared_create=function(){return(B0=t._duckdb_web_prepared_create=t.asm.Ia).apply(null,arguments)},I0=t._duckdb_web_prepared_close=function(){return(I0=t._duckdb_web_prepared_close=t.asm.Ja).apply(null,arguments)},T0=t._duckdb_web_prepared_run=function(){return(T0=t._duckdb_web_prepared_run=t.asm.Ka).apply(null,arguments)},S0=t._duckdb_web_prepared_send=function(){return(S0=t._duckdb_web_prepared_send=t.asm.La).apply(null,arguments)},A0=t._duckdb_web_query_run=function(){return(A0=t._duckdb_web_query_run=t.asm.Ma).apply(null,arguments)},F0=t._duckdb_web_query_send=function(){return(F0=t._duckdb_web_query_send=t.asm.Na).apply(null,arguments)},D0=t._duckdb_web_query_fetch_results=function(){return(D0=t._duckdb_web_query_fetch_results=t.asm.Oa).apply(null,arguments)},O0=t._duckdb_web_get_tablenames=function(){return(O0=t._duckdb_web_get_tablenames=t.asm.Pa).apply(null,arguments)},M0=t._duckdb_web_insert_arrow_from_ipc_stream=function(){return(M0=t._duckdb_web_insert_arrow_from_ipc_stream=t.asm.Qa).apply(null,arguments)},U0=t._duckdb_web_insert_csv_from_path=function(){return(U0=t._duckdb_web_insert_csv_from_path=t.asm.Ra).apply(null,arguments)},E0=t._duckdb_web_insert_json_from_path=function(){return(E0=t._duckdb_web_insert_json_from_path=t.asm.Sa).apply(null,arguments)},Ef=t.___errno_location=function(){return(Ef=t.___errno_location=t.asm.Ta).apply(null,arguments)},vo=t._htonl=function(){return(vo=t._htonl=t.asm.Ua).apply(null,arguments)},wo=t._htons=function(){return(wo=t._htons=t.asm.Va).apply(null,arguments)},xc=t._ntohs=function(){return(xc=t._ntohs=t.asm.Wa).apply(null,arguments)},Vf=t.stackSave=function(){return(Vf=t.stackSave=t.asm.Xa).apply(null,arguments)},Rf=t.stackRestore=function(){return(Rf=t.stackRestore=t.asm.Ya).apply(null,arguments)},Pc=t.stackAlloc=function(){return(Pc=t.stackAlloc=t.asm.Za).apply(null,arguments)},Nc=t._malloc=function(){return(Nc=t._malloc=t.asm._a).apply(null,arguments)},V0=t._free=function(){return(V0=t._free=t.asm.$a).apply(null,arguments)};t.ccall=qr;var Bo;function Io(u){this.name="ExitStatus",this.message="Program terminated with exit("+u+")",this.status=u}var R0=!1;ps=function u(){Bo||Lc(),Bo||(ps=u)};function x0(u){var d=t._main,h=0,_=0;try{var v=d(h,_);return P0(v,!0),v}catch(V){return xb(V)}finally{R0=!0}}function Lc(u){if(u=u||a,xn>0||(Bb(),xn>0))return;function d(){Bo||(Bo=!0,t.calledRun=!0,!Ir&&(Ib(),Tb(),i(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),xf&&x0(u),Ab()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),d()},1)):d()}t.run=Lc;function P0(u,d){Xt=u,Fc()||Sb(),N0(u)}function N0(u){Xt=u,Fc()||(t.onExit&&t.onExit(u),Ir=!0),f(u,new Io(u))}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();var xf=!0;return t.noInitialRun&&(xf=!1),Lc(),e.ready}})(),ib=EA;var af=class{constructor(e,t){this._bindings=e,this._conn=t}close(){this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}query(e){let t=this._bindings.runQuery(this._conn,e),n=p.RecordBatchReader.from(t);return console.assert(n.isSync()),console.assert(n.isFile()),p.Table.from(n)}send(e){let t=this._bindings.sendQuery(this._conn,e),n=new cf(this._bindings,this._conn,t),i=p.RecordBatchReader.from(n);return console.assert(i.isSync()),console.assert(i.isStream()),i}getTableNames(e){return this._bindings.getTableNames(this._conn,e)}prepare(e){let t=this._bindings.createPrepared(this._conn,e);return new sb(this._bindings,this._conn,t)}createScalarFunction(e,t,n){this._bindings.createScalarFunction(this._conn,e,t,n)}insertArrowTable(e,t){let n=e.serialize("binary",!0);this.insertArrowFromIPCStream(n,t)}insertArrowFromIPCStream(e,t){this._bindings.insertArrowFromIPCStream(this._conn,e,t)}insertCSVFromPath(e,t){this._bindings.insertCSVFromPath(this._conn,e,t)}insertJSONFromPath(e,t){this._bindings.insertJSONFromPath(this._conn,e,t)}},cf=class{constructor(e,t,n){this.bindings=e;this.conn=t;this.header=n;this._first=!0,this._depleted=!1}next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e=this.bindings.fetchQueryResults(this.conn);return this._depleted=e.length==0,{done:this._depleted,value:e}}[Symbol.iterator](){return this}},sb=class{constructor(e,t,n){this.bindings=e,this.connectionId=t,this.statementId=n}close(){this.bindings.closePrepared(this.connectionId,this.statementId)}query(...e){let t=this.bindings.runPrepared(this.connectionId,this.statementId,e),n=p.RecordBatchReader.from(t);return console.assert(n.isSync()),console.assert(n.isFile()),p.Table.from(n)}send(...e){let t=this.bindings.sendPrepared(this.connectionId,this.statementId,e),n=new cf(this.bindings,this.connectionId,t),i=p.RecordBatchReader.from(n);return console.assert(i.isSync()),console.assert(i.isStream()),i}};var VA=new TextEncoder;function co(r,e,t){let n=VA.encode(t),i=r._malloc(n.byteLength),s=r.HEAPU8.subarray(i,i+n.byteLength);s.set(n),r.HEAPF64[(e>>3)+0]=1,r.HEAPF64[(e>>3)+1]=i,r.HEAPF64[(e>>3)+2]=s.byteLength}function uf(r){switch(r){case"UINT8":case"INT8":return 1;case"INT32":case"FLOAT":return 4;case"INT64":case"UINT64":case"DOUBLE":case"VARCHAR":return 8;default:return 0}}function Mn(r,e,t,n){let i=r.HEAPU8.subarray(e,e+n*uf(t));switch(t){case"UINT8":return new Uint8Array(i.buffer,i.byteOffset,n);case"INT8":return new Int8Array(i.buffer,i.byteOffset,n);case"INT32":return new Int32Array(i.buffer,i.byteOffset,n);case"FLOAT":return new Float32Array(i.buffer,i.byteOffset,n);case"DOUBLE":return new Float64Array(i.buffer,i.byteOffset,n);case"VARCHAR":return new Float64Array(i.buffer,i.byteOffset,n);default:return new Array(0)}}function ob(r,e,t,n,i,s,o,a){try{let c=r._udfFunctions.get(n);if(!c){co(e,t,"Unknown UDF with id: "+n);return}let f=new TextDecoder().decode(e.HEAPU8.subarray(i,i+s)),y=JSON.parse(f),B=Mn(e,o,"DOUBLE",a/8),F=[],A=[];for(let ae in y.args){let ye=y.args[ae],Kt=Mn(e,B[ye.data_buffer],ye.physical_type,y.rows),Jt=Mn(e,B[ye.validity_buffer],"UINT8",y.rows);if(Kt.length==0||Jt.length==0){co(e,t,"Can't create physical arrays for argument "+ye.physical_type);return}if(F.push(Jt),ye.physical_type=="VARCHAR"){let Ir=Mn(e,B[ye.length_buffer],"DOUBLE",y.rows),Xt=[],jr=new TextDecoder;for(let Fe=0;Fe<y.rows;++Fe){if(!Jt[Fe]){Xt.push(void 0);continue}let qr=e.HEAPU8.subarray(Kt[Fe],Kt[Fe]+Ir[Fe]),uo=jr.decode(qr);Xt.push(uo)}A.push(Xt)}else A.push(Kt)}let ne=y.rows*uf(y.ret.physical_type),ee=e._malloc(ne),le=Mn(e,ee,y.ret.physical_type,y.rows),ve=e._malloc(y.rows),nt=Mn(e,ve,"UINT8",y.rows);if(le.length==0||nt.length==0){co(e,t,"Can't create physical arrays for result");return}let Cr=le;switch(y.ret.physical_type=="VARCHAR"&&(le=new Array(y.rows)),y.args.length){case 0:for(let ae=0;ae<y.rows;++ae){let ye=c.func();le[ae]=ye,nt[ae]=ye==null?0:1}break;case 1:for(let ae=0;ae<y.rows;++ae){let ye=c.func(F[0][ae]?A[0][ae]:void 0);le[ae]=ye,nt[ae]=ye==null?0:1}break;case 2:for(let ae=0;ae<y.rows;++ae){let ye=c.func(F[0][ae]?A[0][ae]:void 0,F[1][ae]?A[1][ae]:void 0);le[ae]=ye,nt[ae]=ye==null?0:1}break;default:co(e,t,"Can't deal with argument count: "+y.args.length);return}let Rn=0;if(y.ret.physical_type=="VARCHAR"){let ae=new TextEncoder,ye=new Array(0),Kt=0;Rn=e._malloc(y.rows*uf("DOUBLE"));let Jt=Mn(e,Rn,"DOUBLE",y.rows);for(let Fe=0;Fe<y.rows;++Fe)ye[Fe]=ae.encode(le[Fe]),Kt+=ye[Fe].length,Jt[Fe]=ye[Fe].length;let Ir=e._malloc(Kt),Xt=e.HEAPU8.subarray(Ir,Ir+Kt),jr=0;le=Cr;for(let Fe=0;Fe<y.rows;++Fe){le[Fe]=Ir+jr;for(let qr=0;qr<ye[Fe].length;qr++)Xt[jr+qr]=ye[Fe][qr];jr+=ye[Fe].length}}let ai=3*8,ci=e._malloc(ai),ds=Mn(e,ci,"DOUBLE",3);ds[0]=ee,ds[1]=ve,ds[2]=Rn,e.HEAPF64[(t>>3)+0]=0,e.HEAPF64[(t>>3)+1]=ci,e.HEAPF64[(t>>3)+2]=0}catch(c){co(e,t,c.toString())}}function xA(){let r=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),r.decode(e))}var PA=xA();function Br(r,e){r.ccall("duckdb_web_fail_with",null,["string"],[e])}function ls(r,e,t){let n=r.HEAPU8.subarray(e,e+t),i=new Uint8Array(new ArrayBuffer(n.byteLength));return i.set(n),i}function re(r,e,t){return PA(r.HEAPU8.subarray(e,e+t))}function fe(r,e,t,n){let i=r.stackSave(),s=r.stackAlloc(3*8);t.unshift("number"),n.unshift(s),r.ccall(e,null,t,n);let o=r.HEAPF64[(s>>3)+0],a=r.HEAPF64[(s>>3)+1],c=r.HEAPF64[(s>>3)+2];return r.stackRestore(i),[o,a,c]}function Te(r){r.ccall("duckdb_web_clear_response",null,[],[])}var lf=class{constructor(e){let t=new Float64Array(e.buffer,e.byteOffset,e.byteLength/8),n=new Uint8Array(new ArrayBuffer(e.byteLength));n.set(e.subarray(7*8)),this.totalFileReadsCold=t[0],this.totalFileReadsAhead=t[1],this.totalFileReadsCached=t[2],this.totalFileWrites=t[3],this.totalPageAccesses=t[4],this.totalPageLoads=t[5],this.blockSize=t[6],this.blockStats=n}getBlockStats(e,t){return t=t||{file_reads_cold:0,file_reads_ahead:0,file_reads_cached:0,file_writes:0,page_accesses:0,page_loads:0},t.file_writes=this.blockStats[e*3+0]&15,t.file_reads_cold=this.blockStats[e*3+0]>>4,t.file_reads_ahead=this.blockStats[e*3+1]&15,t.file_reads_cached=this.blockStats[e*3+1]>>4,t.page_accesses=this.blockStats[e*3+1]&15,t.page_loads=this.blockStats[e*3+1]>>4,t}};var NA=new TextEncoder;var df=class{constructor(e,t){this._instance=null;this._initPromise=null;this._initPromiseResolver=()=>{};this.onInstantiationProgress=[];this._logger=e,this._runtime=t,this._nextUDFId=1}get logger(){return this._logger}get mod(){return this._instance}get pthread(){return this.mod.PThread||null}async instantiate(e=t=>{}){return this._instance!=null?this:(this._initPromise!=null&&(this.onInstantiationProgress.push(e),await this._initPromise),this._initPromise=new Promise(t=>{this._initPromiseResolver=t}),this.onInstantiationProgress=[e],this._instance=await this.instantiateImpl({print:console.log.bind(console),printErr:console.log.bind(console),onRuntimeInitialized:this._initPromiseResolver}),await this._initPromise,this._initPromise=null,this.onInstantiationProgress=this.onInstantiationProgress.filter(t=>t!=e),this)}open(e){let[t,n,i]=fe(this.mod,"duckdb_web_open",["string"],[JSON.stringify(e)]);if(t!==0)throw new Error(re(this.mod,n,i));Te(this.mod)}reset(){let[e,t,n]=fe(this.mod,"duckdb_web_reset",[],[]);if(e!==0)throw new Error(re(this.mod,t,n));Te(this.mod)}getVersion(){let[e,t,n]=fe(this.mod,"duckdb_web_get_version",[],[]);if(e!==0)throw new Error(re(this.mod,t,n));let i=re(this.mod,t,n);return Te(this.mod),i}getFeatureFlags(){return this.mod.ccall("duckdb_web_get_feature_flags","number",[],[])}tokenize(e){let[t,n,i]=fe(this.mod,"duckdb_web_tokenize",["string"],[e]);if(t!==0)throw new Error(re(this.mod,n,i));let s=re(this.mod,n,i);return Te(this.mod),JSON.parse(s)}connect(){let e=this.mod.ccall("duckdb_web_connect","number",[],[]);return new af(this,e)}disconnect(e){if(this.mod.ccall("duckdb_web_disconnect",null,["number"],[e]),this.pthread)for(let t of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])t.postMessage({cmd:"dropUDFFunctions",connectionId:e})}runQuery(e,t){let[n,i,s]=fe(this.mod,"duckdb_web_query_run",["number","string"],[e,t]);if(n!==0)throw new Error(re(this.mod,i,s));let o=ls(this.mod,i,s);return Te(this.mod),o}sendQuery(e,t){let[n,i,s]=fe(this.mod,"duckdb_web_query_send",["number","string"],[e,t]);if(n!==0)throw new Error(re(this.mod,i,s));let o=ls(this.mod,i,s);return Te(this.mod),o}fetchQueryResults(e){let[t,n,i]=fe(this.mod,"duckdb_web_query_fetch_results",["number"],[e]);if(t!==0)throw new Error(re(this.mod,n,i));let s=ls(this.mod,n,i);return Te(this.mod),s}getTableNames(e,t){let[n,i,s]=fe(this.mod,"duckdb_web_get_tablenames",["number","string"],[e,t]);if(n!==0)throw new Error(re(this.mod,i,s));let o=re(this.mod,i,s);return Te(this.mod),JSON.parse(o)}createScalarFunction(e,t,n,i){let s={functionId:this._nextUDFId,name:t,returnType:nf(n)},o={functionId:s.functionId,connectionId:e,name:t,returnType:n,func:i};this._nextUDFId+=1;let[a,c,f]=fe(this.mod,"duckdb_web_udf_scalar_create",["number","string"],[e,JSON.stringify(s)]);if(a!==0)throw new Error(re(this.mod,c,f));if(Te(this.mod),globalThis.DUCKDB_RUNTIME._udfFunctions=(globalThis.DUCKDB_RUNTIME._udfFunctions||new Map).set(o.functionId,o),this.pthread)for(let y of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])y.postMessage({cmd:"registerUDFFunction",udf:o})}createPrepared(e,t){let[n,i,s]=fe(this.mod,"duckdb_web_prepared_create",["number","string"],[e,t]);if(n!==0)throw new Error(re(this.mod,i,s));return Te(this.mod),i}closePrepared(e,t){let[n,i,s]=fe(this.mod,"duckdb_web_prepared_close",["number","number"],[e,t]);if(n!==0)throw new Error(re(this.mod,i,s));Te(this.mod)}runPrepared(e,t,n){let[i,s,o]=fe(this.mod,"duckdb_web_prepared_run",["number","number","string"],[e,t,JSON.stringify(n)]);if(i!==0)throw new Error(re(this.mod,s,o));let a=ls(this.mod,s,o);return Te(this.mod),a}sendPrepared(e,t,n){let[i,s,o]=fe(this.mod,"duckdb_web_prepared_send",["number","number","string"],[e,t,JSON.stringify(n)]);if(i!==0)throw new Error(re(this.mod,s,o));let a=ls(this.mod,s,o);return Te(this.mod),a}insertArrowFromIPCStream(e,t,n){if(t.length==0)return;let i=this.mod._malloc(t.length);this.mod.HEAPU8.subarray(i,i+t.length).set(t);let o=n?JSON.stringify(n):"",[a,c,f]=fe(this.mod,"duckdb_web_insert_arrow_from_ipc_stream",["number","number","number","string"],[e,i,t.length,o]);if(a!==0)throw new Error(re(this.mod,c,f))}insertCSVFromPath(e,t,n){if(n.columns!==void 0){n.columnsFlat=[];for(let f in n.columns)n.columnsFlat.push(ao(f,n.columns[f]))}let i=Wr({},n);i.columns=i.columnsFlat,delete i.columnsFlat;let s=JSON.stringify(i),[o,a,c]=fe(this.mod,"duckdb_web_insert_csv_from_path",["number","string","string"],[e,t,s]);if(o!==0)throw new Error(re(this.mod,a,c))}insertJSONFromPath(e,t,n){if(n.columns!==void 0){n.columnsFlat=[];for(let f in n.columns)n.columnsFlat.push(ao(f,n.columns[f]))}let i=Wr({},n);i.columns=i.columnsFlat,delete i.columnsFlat;let s=JSON.stringify(i),[o,a,c]=fe(this.mod,"duckdb_web_insert_json_from_path",["number","string","string"],[e,t,s]);if(o!==0)throw new Error(re(this.mod,a,c))}globFiles(e){let[t,n,i]=fe(this.mod,"duckdb_web_fs_glob_file_infos",["string"],[e]);if(t!==0)throw new Error(re(this.mod,n,i));let s=re(this.mod,n,i);Te(this.mod);let o=JSON.parse(s);return o==null?[]:o}registerFileURL(e,t){t===void 0&&(t=e);let[n,i,s]=fe(this.mod,"duckdb_web_fs_register_file_url",["string","string","number"],[e,t,-1]);if(n!==0)throw new Error(re(this.mod,i,s));Te(this.mod)}registerFileText(e,t){let n=NA.encode(t);this.registerFileBuffer(e,n)}registerFileBuffer(e,t){let n=this.mod._malloc(t.length);this.mod.HEAPU8.subarray(n,n+t.length).set(t);let[s,o,a]=fe(this.mod,"duckdb_web_fs_register_file_buffer",["string","number","number"],[e,n,t.length]);if(s!==0)throw new Error(re(this.mod,o,a));Te(this.mod)}registerFileHandle(e,t){let[n,i,s]=fe(this.mod,"duckdb_web_fs_register_file_url",["string","string","number"],[e,e,-1]);if(n!==0)throw new Error(re(this.mod,i,s));if(Te(this.mod),globalThis.DUCKDB_RUNTIME._files=(globalThis.DUCKDB_RUNTIME._files||new Map).set(e,t),this.pthread){for(let o of this.pthread.runningWorkers)o.postMessage({cmd:"registerFileHandle",fileName:e,fileHandle:t});for(let o of this.pthread.unusedWorkers)o.postMessage({cmd:"dropFileHandle",fileName:e})}}dropFile(e){let[t,n,i]=fe(this.mod,"duckdb_web_fs_drop_file",["string"],[e]);if(t!==0)throw new Error(re(this.mod,n,i));Te(this.mod)}dropFiles(){let[e,t,n]=fe(this.mod,"duckdb_web_fs_drop_files",[],[]);if(e!==0)throw new Error(re(this.mod,t,n));Te(this.mod)}flushFiles(){this.mod.ccall("duckdb_web_flush_files",null,[],[])}copyFileToPath(e,t){let[n,i,s]=fe(this.mod,"duckdb_web_copy_file_to_path",["string","string"],[e,t]);if(n!==0)throw new Error(re(this.mod,i,s));Te(this.mod)}copyFileToBuffer(e){let[t,n,i]=fe(this.mod,"duckdb_web_copy_file_to_buffer",["string"],[e]);if(t!==0)throw new Error(re(this.mod,n,i));let s=this.mod.HEAPU8.subarray(n,n+i),o=new Uint8Array(s.length);return o.set(s),Te(this.mod),o}collectFileStatistics(e,t){let[n,i,s]=fe(this.mod,"duckdb_web_collect_file_stats",["string","boolean"],[e,t]);if(n!==0)throw new Error(re(this.mod,i,s))}exportFileStatistics(e){let[t,n,i]=fe(this.mod,"duckdb_web_export_file_stats",["string"],[e]);if(t!==0)throw new Error(re(this.mod,n,i));return new lf(this.mod.HEAPU8.subarray(n,n+i))}};var ff=class extends df{constructor(e,t,n,i){super(e,t);this.mainModuleURL=n,this.pthreadWorkerURL=i}locateFile(e,t){if(e.endsWith(".wasm"))return this.mainModuleURL;if(e.endsWith(".worker.js")){if(!this.pthreadWorkerURL)throw new Error("Missing DuckDB worker URL!");return this.pthreadWorkerURL}throw new Error(`WASM instantiation requested unexpected file: prefix=${t} path=${e}`)}instantiateWasm(e,t){globalThis.DUCKDB_RUNTIME=this._runtime;let n=this.onInstantiationProgress;if(typeof TransformStream=="function"&&ReadableStream.prototype.pipeThrough&&WebAssembly.instantiateStreaming){let s=(async()=>{var ne;let o=new Request(this.mainModuleURL),a=await fetch(o),c=a.headers.get("content-length"),f=c&&parseInt(c,10)||0,y=new Date,B={startedAt:y,updatedAt:y,bytesTotal:f||0,bytesLoaded:0},F={transform(ee,le){B.bytesLoaded+=ee.byteLength;let ve=new Date;if(ve.getTime()-B.updatedAt.getTime()<20){B.updatedAt=ve,le.enqueue(ee);return}for(let nt of n)nt(B);le.enqueue(ee)}},A=new TransformStream(F);return new Response((ne=a.body)==null?void 0:ne.pipeThrough(A),a)})();WebAssembly.instantiateStreaming(s,e).then(o=>{t(o.instance,o.module)})}else{let i=new XMLHttpRequest,s=this.mainModuleURL,o=new Date,a={startedAt:o,updatedAt:o,bytesTotal:0,bytesLoaded:0};i.open("GET",s),i.responseType="arraybuffer",i.onerror=c=>{throw this.logger.log({timestamp:new Date,level:4,origin:3,topic:5,event:2,value:"Failed to load WASM: "+c}),new Error(c.toString())},i.onprogress=c=>{a.bytesTotal=c.total,a.bytesLoaded=c.loaded;let f=new Date;if(f.getTime()-a.updatedAt.getTime()<20){a.updatedAt=f;return}for(let y of n)y(a)},i.onload=()=>{WebAssembly.instantiate(i.response,e).then(c=>{t(c.instance,c.module)}).catch(c=>{throw this.logger.log({timestamp:new Date,level:4,origin:3,topic:5,event:2,value:"Failed to instantiate WASM: "+c}),new Error(c)})},i.send()}return[]}};var hf=class extends ff{constructor(e,t,n,i=null){super(e,t,n,i)}instantiateImpl(e){return ib(gs(Wr({},e),{instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)}))}};var Un=er(ab()),cb=function(r,e,t){var n;if((n=r==null?void 0:r.endpoint)==null?void 0:n.startsWith("http")){let i=`${r==null?void 0:r.endpoint}`,s=i.indexOf("://")+3;return i.substring(s)}else return(r==null?void 0:r.endpoint)?`${t}.${r==null?void 0:r.endpoint}`:`${t}.s3.amazonaws.com`};function LA(r,e,t){var i,s,o,a;let n=ub(e);return{url:n.path,query:"",host:cb(r,e,n.bucket),region:(i=r==null?void 0:r.region)!=null?i:"",service:"s3",method:t,accessKeyId:(s=r==null?void 0:r.accessKeyId)!=null?s:"",secretAccessKey:(o=r==null?void 0:r.secretAccessKey)!=null?o:"",sessionToken:(a=r==null?void 0:r.sessionToken)!=null?a:"",dateNow:new Date().toISOString().replace(/-/g,"").split("T")[0],datetimeNow:new Date().toISOString().replace(/-/g,"").replace(/:/g,"").split(".")[0]+"Z"}}function kA(r,e=!1){let t="0123456789ABCDEF",n="";for(let i=0;i<r.length;i++){let s=r[i];s>="A"&&s<="Z"||s>="a"&&s<="z"||s>="0"&&s<="9"||s=="_"||s=="-"||s=="~"||s=="."?n+=s:s=="/"?e?n+="%2F":n+=s:(n+="%",n+=t[s.charCodeAt(0)>>4],n+=t[s.charCodeAt(0)&15])}return n}function CA(r,e=null){var ne;let t=(ne=e==null?void 0:e.contentHash)!=null?ne:"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",n=new Map;n.set("x-amz-date",r.datetimeNow),n.set("x-amz-content-sha256",t),r.sessionToken&&n.set("x-amz-security-token",r.sessionToken);let i="";(e==null?void 0:e.contentType)&&(i+="content-type;"),i+="host;x-amz-content-sha256;x-amz-date",r.sessionToken&&(i+=";x-amz-security-token");let s=r.method+`
`+kA(r.url)+`
`+r.query;(e==null?void 0:e.contentType)&&(s+=`
content-type:`+(e==null?void 0:e.contentType)),s+=`
host:`+r.host+`
x-amz-content-sha256:`+t+`
x-amz-date:`+r.datetimeNow,r.sessionToken&&r.sessionToken.length>0&&(s+=`
x-amz-security-token:`+r.sessionToken),s+=`

`+i+`
`+t;let o=(0,Un.sha256)(s),a=`AWS4-HMAC-SHA256
`+r.datetimeNow+`
`+r.dateNow+"/"+r.region+"/"+r.service+`/aws4_request
`+o,c="AWS4"+r.secretAccessKey,f=Un.sha256.hmac.arrayBuffer(c,r.dateNow),y=Un.sha256.hmac.arrayBuffer(f,r.region),B=Un.sha256.hmac.arrayBuffer(y,r.service),F=Un.sha256.hmac.arrayBuffer(B,"aws4_request"),A=Un.sha256.hmac(F,a);return n.set("Authorization","AWS4-HMAC-SHA256 Credential="+r.accessKeyId+"/"+r.dateNow+"/"+r.region+"/"+r.service+"/aws4_request, SignedHeaders="+i+", Signature="+A),n}var jA=function(r,e,t,n=null,i=null){let s=LA(r,e,t),o={contentType:n,contentHash:i?Un.sha256.hex(i):null};return CA(s,o)};function En(r,e,t,n,i=null,s=null){((e==null?void 0:e.accessKeyId)||(e==null?void 0:e.sessionToken))&&(jA(e,t,n,i,s).forEach((a,c)=>{r.setRequestHeader(c,a)}),i&&r.setRequestHeader("content-type",i))}function ub(r){if(r.indexOf("s3://")!=0)throw new Error("URL needs to start with s3://");let e=r.indexOf("/",5);if(e==-1)throw new Error("URL needs to contain a '/' after the host");let t=r.substring(5,e);if(!t)throw new Error("URL needs to contain a bucket name");let n=r.substring(e);if(!n)throw new Error("URL needs to contain key");return{bucket:t,path:n}}function Vn(r,e){var n;let t=ub(e);return((n=r==null?void 0:r.endpoint)==null?void 0:n.startsWith("http"))?`${r==null?void 0:r.endpoint}/${t.bucket}`+t.path:"https://"+cb(r,e,t.bucket)+t.path}var xe={_files:new Map,_fileInfoCache:new Map,_udfFunctions:new Map,_globalFileInfo:null,getFileInfo(r,e){try{let t=xe._fileInfoCache.get(e),[n,i,s]=fe(r,"duckdb_web_fs_get_file_info_by_id",["number","number"],[e,(t==null?void 0:t.cacheEpoch)||0]);if(n!==0)return null;if(s===0)return t;let o=re(r,i,s);Te(r);let a=JSON.parse(o);if(a==null)return null;let c=gs(Wr({},a),{blob:null});return xe._fileInfoCache.set(e,c),c}catch(t){return null}},getGlobalFileInfo(r){var e;try{let[t,n,i]=fe(r,"duckdb_web_get_global_file_info",["number"],[((e=xe._globalFileInfo)==null?void 0:e.cacheEpoch)||0]);if(t!==0)return null;if(i===0)return xe._globalFileInfo;let s=re(r,n,i);Te(r);let o=JSON.parse(s);return o==null?null:(xe._globalFileInfo=gs(Wr({},o),{blob:null}),xe._globalFileInfo)}catch(t){return null}},testPlatformFeature:(r,e)=>{switch(e){case 1:return typeof BigInt64Array<"u";default:return console.warn(`test for unknown feature: ${e}`),!1}},openFile:(r,e,t)=>{var n;try{xe._fileInfoCache.delete(e);let i=xe.getFileInfo(r,e);switch(i==null?void 0:i.dataProtocol){case 3:case 4:{if(t&1&&t&2)throw new Error(`Opening file ${i.fileName} failed: cannot open file with both read and write flags set`);if(t&32)throw new Error(`Opening file ${i.fileName} failed: appending to HTTP/S3 files is not supported`);if(t&2){let o=new XMLHttpRequest;if(i.dataProtocol==4?(o.open("HEAD",Vn(i.s3Config,i.dataUrl),!1),En(o,i.s3Config,i.dataUrl,"HEAD")):o.open("HEAD",i.dataUrl,!1),o.send(null),o.status!=200&&o.status!=404)throw new Error(`Opening file ${i.fileName} failed: Unexpected return status from server (${o.status})`);if(o.status==404&&!(t&8||t&16))throw new Error(`Opening file ${i.fileName} failed: Cannot write to non-existent file without FILE_FLAGS_FILE_CREATE or FILE_FLAGS_FILE_CREATE_NEW flag.`);let a=r._malloc(1),c=new Uint8Array;r.HEAPU8.set(c,a);let f=r._malloc(2*8);return r.HEAPF64[(f>>3)+0]=1,r.HEAPF64[(f>>3)+1]=a,f}else if(t!=1)throw new Error(`Opening file ${i.fileName} failed: unsupported file flags: ${t}`);let s=null;try{let o=new XMLHttpRequest;i.dataProtocol==4?(o.open("HEAD",Vn(i.s3Config,i.dataUrl),!1),En(o,i.s3Config,i.dataUrl,"HEAD")):o.open("HEAD",i.dataUrl,!1),o.setRequestHeader("Range","bytes=0-"),o.send(null);let a=o.getResponseHeader("Content-Length");if(o.status==206&&a!==null){let c=r._malloc(16);return r.HEAPF64[(c>>3)+0]=+a,r.HEAPF64[(c>>3)+1]=0,c}}catch(o){s=o,console.warn(`HEAD request with range header failed: ${o}`)}if(i.allowFullHttpReads){console.warn(`falling back to full HTTP read for: ${i.dataUrl}`);let o=new XMLHttpRequest;if(i.dataProtocol==4?(o.open("GET",Vn(i.s3Config,i.dataUrl),!1),En(o,i.s3Config,i.dataUrl,"GET")):o.open("GET",i.dataUrl,!1),o.responseType="arraybuffer",o.send(null),o.status==200){let a=r._malloc(o.response.byteLength),c=new Uint8Array(o.response,0,o.response.byteLength);r.HEAPU8.set(c,a);let f=r._malloc(2*8);return r.HEAPF64[(f>>3)+0]=o.response.byteLength,r.HEAPF64[(f>>3)+1]=a,f}}if(s!=null)throw new Error(`Reading file ${i.fileName} failed with error: ${s}`);return 0}case 1:{let s=(n=xe._files)==null?void 0:n.get(i.fileName);if(s){let c=r._malloc(16);return r.HEAPF64[(c>>3)+0]=s.size,r.HEAPF64[(c>>3)+1]=0,c}console.warn(`Buffering missing file: ${i.fileName}`);let o=r._malloc(2*8),a=r._malloc(1);return r.HEAPF64[(o>>3)+0]=1,r.HEAPF64[(o>>3)+1]=a,o}}}catch(i){console.error(i.toString()),Br(r,i.toString())}return 0},glob:(r,e,t)=>{try{let n=re(r,e,t);if(n.startsWith("http")||n.startsWith("s3://")){let i=new XMLHttpRequest;if(n.startsWith("s3://")){let s=xe.getGlobalFileInfo(r);i.open("HEAD",Vn(s==null?void 0:s.s3Config,n),!1),En(i,s==null?void 0:s.s3Config,n,"HEAD")}else i.open("HEAD",n,!1);if(i.send(null),i.status!=200&&i.status!==206){Br(r,`HEAD request failed: ${n}`);return}r.ccall("duckdb_web_fs_glob_add_path",null,["string"],[n])}}catch(n){return Br(r,n.toString()),0}},checkFile:(r,e,t)=>{try{let n=re(r,e,t);if(n.startsWith("http")||n.startsWith("s3://")){let i=new XMLHttpRequest;if(n.startsWith("s3://")){let o=xe.getGlobalFileInfo(r);i.open("HEAD",Vn(o==null?void 0:o.s3Config,n),!1),En(i,o==null?void 0:o.s3Config,n,"HEAD")}else i.open("HEAD",n,!1);i.setRequestHeader("Range","bytes=0-"),i.send(null);let s=!1;if(i.status==206)s=!0;else if(i.status==200)s=i.getResponseHeader("Accept-Ranges")==="bytes";else return!1;return!!s}}catch(n){return!1}return!1},syncFile:(r,e)=>{},closeFile:(r,e)=>{let t=xe.getFileInfo(r,e);switch(xe._fileInfoCache.delete(e),t==null?void 0:t.dataProtocol){case 3:case 4:break;case 1:return}},truncateFile:(r,e,t)=>{let n=xe.getFileInfo(r,e);switch(n==null?void 0:n.dataProtocol){case 3:Br(r,"Cannot truncate a http file");return;case 4:Br(r,"Cannot truncate an s3 file");return;case 1:Br(r,"truncateFile not implemented");return}return 0},readFile(r,e,t,n,i){var s;try{let o=xe.getFileInfo(r,e);switch(o==null?void 0:o.dataProtocol){case 3:case 4:{if(!o.dataUrl)throw new Error(`Missing data URL for file ${e}`);try{let a=new XMLHttpRequest;if(o.dataProtocol==4?(a.open("GET",Vn(o==null?void 0:o.s3Config,o.dataUrl),!1),En(a,o==null?void 0:o.s3Config,o.dataUrl,"GET")):a.open("GET",o.dataUrl,!1),a.responseType="arraybuffer",a.setRequestHeader("Range",`bytes=${i}-${i+n-1}`),a.send(null),a.status==206||a.status==200&&n==a.response.byteLength&&i==0){let c=new Uint8Array(a.response,0,Math.min(a.response.byteLength,n));return r.HEAPU8.set(c,t),c.byteLength}else throw a.status==200?new Error(`Range request for ${o.dataUrl} did not return a partial response: ${a.status} "${a.statusText}"`):new Error(`Range request for ${o.dataUrl} did returned non-success status: ${a.status} "${a.statusText}"`)}catch(a){throw new Error(`Range request for ${o.dataUrl} failed with error: ${a}"`)}}case 1:{let a=(s=xe._files)==null?void 0:s.get(o.fileName);if(!a)throw new Error(`No handle available for file: ${o.fileName}`);let c=a.slice(i,i+n),f=new Uint8Array(new FileReaderSync().readAsArrayBuffer(c));return r.HEAPU8.set(f,t),f.byteLength}}return 0}catch(o){return Br(r,o.toString()),0}},writeFile:(r,e,t,n,i)=>{let s=xe.getFileInfo(r,e);switch(s==null?void 0:s.dataProtocol){case 3:return Br(r,"Cannot write to HTTP file"),0;case 4:{let o=r.HEAPU8.subarray(t,t+n),a=new XMLHttpRequest;return a.open("PUT",Vn(s==null?void 0:s.s3Config,s.dataUrl),!1),En(a,s==null?void 0:s.s3Config,s.dataUrl,"PUT","",o),a.send(o),n}case 1:return Br(r,"writefile not implemented"),0}return 0},getLastFileModificationTime:(r,e)=>{var n;let t=xe.getFileInfo(r,e);switch(t==null?void 0:t.dataProtocol){case 1:{if(!((n=xe._files)==null?void 0:n.get(t.fileName)))throw Error(`No handle available for file: ${t.fileName}`);return 0}case 3:case 4:return new Date().getTime()}return 0},checkDirectory:(r,e,t)=>{let n=re(r,e,t);return console.log(`checkDirectory: ${n}`),!1},createDirectory:(r,e,t)=>{let n=re(r,e,t);console.log(`createDirectory: ${n}`)},removeDirectory:(r,e,t)=>{let n=re(r,e,t);console.log(`removeDirectory: ${n}`)},listDirectoryEntries:(r,e,t)=>{let n=re(r,e,t);return console.log(`listDirectoryEntries: ${n}`),!1},moveFile:(r,e,t,n,i)=>{},removeFile:(r,e,t)=>{},callScalarUDF:(r,e,t,n,i,s,o)=>{ob(xe,r,e,t,n,i,s,o)}};var lb=class extends sf{postMessage(e,t){globalThis.postMessage(e,t)}async instantiate(e,t,n){return await new hf(this,xe,e,t).instantiate(n)}};function db(){let r=new lb;globalThis.onmessage=async e=>{await r.onMessage(e.data)}}db();return G0(qA);})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
//# sourceMappingURL=duckdb-browser-eh.worker.js.map
